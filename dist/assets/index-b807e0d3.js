(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _C={exports:{}},Pg={},MC={exports:{}},cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=Symbol.for("react.element"),vF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),SF=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),_F=Symbol.for("react.context"),MF=Symbol.for("react.forward_ref"),AF=Symbol.for("react.suspense"),EF=Symbol.for("react.memo"),TF=Symbol.for("react.lazy"),Uw=Symbol.iterator;function CF(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EC=Object.assign,TC={};function Ah(t,e,n){this.props=t,this.context=e,this.refs=TC,this.updater=n||AC}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CC(){}CC.prototype=Ah.prototype;function r9(t,e,n){this.props=t,this.context=e,this.refs=TC,this.updater=n||AC}var i9=r9.prototype=new CC;i9.constructor=r9;EC(i9,Ah.prototype);i9.isPureReactComponent=!0;var Nw=Array.isArray,bC=Object.prototype.hasOwnProperty,s9={current:null},PC={key:!0,ref:!0,__self:!0,__source:!0};function RC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bC.call(e,r)&&!PC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_0,type:t,key:s,ref:o,props:i,_owner:s9.current}}function bF(t,e){return{$$typeof:_0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o9(t){return typeof t=="object"&&t!==null&&t.$$typeof===_0}function PF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ow=/\/+/g;function T5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PF(""+t.key):e.toString(36)}function Lm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _0:case vF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+T5(o,0):r,Nw(i)?(n="",t!=null&&(n=t.replace(Ow,"$&/")+"/"),Lm(i,e,n,"",function(u){return u})):i!=null&&(o9(i)&&(i=bF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+T5(s,a);o+=Lm(s,e,n,l,i)}else if(l=CF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+T5(s,a++),o+=Lm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $3(t,e,n){if(t==null)return t;var r=[],i=0;return Lm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function RF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ni={current:null},Fm={transition:null},DF={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:s9};cn.Children={map:$3,forEach:function(t,e,n){$3(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $3(t,function(){e++}),e},toArray:function(t){return $3(t,function(e){return e})||[]},only:function(t){if(!o9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};cn.Component=Ah;cn.Fragment=yF;cn.Profiler=SF;cn.PureComponent=r9;cn.StrictMode=xF;cn.Suspense=AF;cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DF;cn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=EC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=s9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bC.call(e,l)&&!PC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_0,type:t.type,key:i,ref:s,props:r,_owner:o}};cn.createContext=function(t){return t={$$typeof:_F,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wF,_context:t},t.Consumer=t};cn.createElement=RC;cn.createFactory=function(t){var e=RC.bind(null,t);return e.type=t,e};cn.createRef=function(){return{current:null}};cn.forwardRef=function(t){return{$$typeof:MF,render:t}};cn.isValidElement=o9;cn.lazy=function(t){return{$$typeof:TF,_payload:{_status:-1,_result:t},_init:RF}};cn.memo=function(t,e){return{$$typeof:EF,type:t,compare:e===void 0?null:e}};cn.startTransition=function(t){var e=Fm.transition;Fm.transition={};try{t()}finally{Fm.transition=e}};cn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};cn.useCallback=function(t,e){return Ni.current.useCallback(t,e)};cn.useContext=function(t){return Ni.current.useContext(t)};cn.useDebugValue=function(){};cn.useDeferredValue=function(t){return Ni.current.useDeferredValue(t)};cn.useEffect=function(t,e){return Ni.current.useEffect(t,e)};cn.useId=function(){return Ni.current.useId()};cn.useImperativeHandle=function(t,e,n){return Ni.current.useImperativeHandle(t,e,n)};cn.useInsertionEffect=function(t,e){return Ni.current.useInsertionEffect(t,e)};cn.useLayoutEffect=function(t,e){return Ni.current.useLayoutEffect(t,e)};cn.useMemo=function(t,e){return Ni.current.useMemo(t,e)};cn.useReducer=function(t,e,n){return Ni.current.useReducer(t,e,n)};cn.useRef=function(t){return Ni.current.useRef(t)};cn.useState=function(t){return Ni.current.useState(t)};cn.useSyncExternalStore=function(t,e,n){return Ni.current.useSyncExternalStore(t,e,n)};cn.useTransition=function(){return Ni.current.useTransition()};cn.version="18.2.0";MC.exports=cn;var z=MC.exports;const Rn=w0(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF=z,IF=Symbol.for("react.element"),LF=Symbol.for("react.fragment"),FF=Object.prototype.hasOwnProperty,kF=BF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UF={key:!0,ref:!0,__self:!0,__source:!0};function DC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FF.call(e,r)&&!UF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IF,type:t,key:s,ref:o,props:i,_owner:kF.current}}Pg.Fragment=LF;Pg.jsx=DC;Pg.jsxs=DC;_C.exports=Pg;var a9=_C.exports;const Qf=a9.Fragment,Oe=a9.jsx,hn=a9.jsxs;var S4={},BC={exports:{}},Ms={},IC={exports:{}},LC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var Z=N.length;N.push(W);e:for(;0<Z;){var Y=Z-1>>>1,F=N[Y];if(0<i(F,W))N[Y]=W,N[Z]=F,Z=Y;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],Z=N.pop();if(Z!==W){N[0]=Z;e:for(var Y=0,F=N.length,q=F>>>1;Y<q;){var ee=2*(Y+1)-1,X=N[ee],K=ee+1,le=N[K];if(0>i(X,Z))K<F&&0>i(le,X)?(N[Y]=le,N[K]=Z,Y=K):(N[Y]=X,N[ee]=Z,Y=ee);else if(K<F&&0>i(le,Z))N[Y]=le,N[K]=Z,Y=K;else break e}}return W}function i(N,W){var Z=N.sortIndex-W.sortIndex;return Z!==0?Z:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function M(N){if(v=!1,x(N),!g)if(n(l)!==null)g=!0,H(E);else{var W=n(u);W!==null&&oe(M,W.startTime-N)}}function E(N,W){g=!1,v&&(v=!1,w(T),T=-1),m=!0;var Z=d;try{for(x(W),f=n(l);f!==null&&(!(f.expirationTime>W)||N&&!U());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var F=Y(f.expirationTime<=W);W=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),x(W)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(u);ee!==null&&oe(M,ee.startTime-W),q=!1}return q}finally{f=null,d=Z,m=!1}}var C=!1,P=null,T=-1,R=5,I=-1;function U(){return!(t.unstable_now()-I<R)}function G(){if(P!==null){var N=t.unstable_now();I=N;var W=!0;try{W=P(!0,N)}finally{W?j():(C=!1,P=null)}}else C=!1}var j;if(typeof S=="function")j=function(){S(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,k=D.port2;D.port1.onmessage=G,j=function(){k.postMessage(null)}}else j=function(){y(G,0)};function H(N){P=N,C||(C=!0,j())}function oe(N,W){T=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Z=d;d=W;try{return N()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Z=d;d=N;try{return W()}finally{d=Z}},t.unstable_scheduleCallback=function(N,W,Z){var Y=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,N){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,N={id:c++,callback:W,priorityLevel:N,startTime:Z,expirationTime:F,sortIndex:-1},Z>Y?(N.sortIndex=Z,e(u,N),n(l)===null&&N===n(u)&&(v?(w(T),T=-1):v=!0,oe(M,Z-Y))):(N.sortIndex=F,e(l,N),g||m||(g=!0,H(E))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var W=d;return function(){var Z=d;d=W;try{return N.apply(this,arguments)}finally{d=Z}}}})(LC);IC.exports=LC;var NF=IC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=z,ws=NF;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kC=new Set,Dp={};function xc(t,e){qf(t,e),qf(t+"Capture",e)}function qf(t,e){for(Dp[t]=e,t=0;t<e.length;t++)kC.add(e[t])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w4=Object.prototype.hasOwnProperty,OF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zw={},Gw={};function zF(t){return w4.call(Gw,t)?!0:w4.call(zw,t)?!1:OF.test(t)?Gw[t]=!0:(zw[t]=!0,!1)}function GF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HF(t,e,n,r){if(e===null||typeof e>"u"||GF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){si[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];si[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){si[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){si[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){si[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){si[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){si[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){si[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){si[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var l9=/[\-:]([a-z])/g;function u9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(l9,u9);si[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(l9,u9);si[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(l9,u9);si[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){si[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});si.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){si[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function c9(t,e,n,r){var i=si.hasOwnProperty(e)?si[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HF(e,n,i,r)&&(n=null),r||i===null?zF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ka=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e2=Symbol.for("react.element"),mf=Symbol.for("react.portal"),gf=Symbol.for("react.fragment"),f9=Symbol.for("react.strict_mode"),_4=Symbol.for("react.profiler"),UC=Symbol.for("react.provider"),NC=Symbol.for("react.context"),h9=Symbol.for("react.forward_ref"),M4=Symbol.for("react.suspense"),A4=Symbol.for("react.suspense_list"),d9=Symbol.for("react.memo"),xl=Symbol.for("react.lazy"),OC=Symbol.for("react.offscreen"),Hw=Symbol.iterator;function dd(t){return t===null||typeof t!="object"?null:(t=Hw&&t[Hw]||t["@@iterator"],typeof t=="function"?t:null)}var ar=Object.assign,C5;function Xd(t){if(C5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);C5=e&&e[1]||""}return`
`+C5+t}var b5=!1;function P5(t,e){if(!t||b5)return"";b5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{b5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xd(t):""}function VF(t){switch(t.tag){case 5:return Xd(t.type);case 16:return Xd("Lazy");case 13:return Xd("Suspense");case 19:return Xd("SuspenseList");case 0:case 2:case 15:return t=P5(t.type,!1),t;case 11:return t=P5(t.type.render,!1),t;case 1:return t=P5(t.type,!0),t;default:return""}}function E4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gf:return"Fragment";case mf:return"Portal";case _4:return"Profiler";case f9:return"StrictMode";case M4:return"Suspense";case A4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NC:return(t.displayName||"Context")+".Consumer";case UC:return(t._context.displayName||"Context")+".Provider";case h9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d9:return e=t.displayName||null,e!==null?e:E4(t.type)||"Memo";case xl:e=t._payload,t=t._init;try{return E4(t(e))}catch{}}return null}function WF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E4(e);case 8:return e===f9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jF(t){var e=zC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t2(t){t._valueTracker||(t._valueTracker=jF(t))}function GC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function h1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function T4(t,e){var n=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HC(t,e){e=e.checked,e!=null&&c9(t,"checked",e,!1)}function C4(t,e){HC(t,e);var n=Jl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?b4(t,e.type,n):e.hasOwnProperty("defaultValue")&&b4(t,e.type,Jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ww(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function b4(t,e,n){(e!=="number"||h1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jd=Array.isArray;function Nf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(rt(92));if(Jd(n)){if(1<n.length)throw Error(rt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jl(n)}}function VC(t,e){var n=Jl(e.value),r=Jl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var n2,jC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(n2=n2||document.createElement("div"),n2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=n2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XF=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){XF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function XC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function JC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JF=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D4(t,e){if(e){if(JF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function B4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I4=null;function p9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L4=null,Of=null,zf=null;function Jw(t){if(t=E0(t)){if(typeof L4!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=Lg(e),L4(t.stateNode,t.type,e))}}function YC(t){Of?zf?zf.push(t):zf=[t]:Of=t}function KC(){if(Of){var t=Of,e=zf;if(zf=Of=null,Jw(t),e)for(t=0;t<e.length;t++)Jw(e[t])}}function ZC(t,e){return t(e)}function QC(){}var R5=!1;function qC(t,e,n){if(R5)return t(e,n);R5=!0;try{return ZC(t,e,n)}finally{R5=!1,(Of!==null||zf!==null)&&(QC(),KC())}}function Ip(t,e){var n=t.stateNode;if(n===null)return null;var r=Lg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(rt(231,e,typeof n));return n}var F4=!1;if(Oa)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){F4=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{F4=!1}function YF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ap=!1,d1=null,p1=!1,k4=null,KF={onError:function(t){ap=!0,d1=t}};function ZF(t,e,n,r,i,s,o,a,l){ap=!1,d1=null,YF.apply(KF,arguments)}function QF(t,e,n,r,i,s,o,a,l){if(ZF.apply(this,arguments),ap){if(ap){var u=d1;ap=!1,d1=null}else throw Error(rt(198));p1||(p1=!0,k4=u)}}function Sc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $C(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yw(t){if(Sc(t)!==t)throw Error(rt(188))}function qF(t){var e=t.alternate;if(!e){if(e=Sc(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yw(i),t;if(s===r)return Yw(i),e;s=s.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?t:e}function eb(t){return t=qF(t),t!==null?tb(t):null}function tb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tb(t);if(e!==null)return e;t=t.sibling}return null}var nb=ws.unstable_scheduleCallback,Kw=ws.unstable_cancelCallback,$F=ws.unstable_shouldYield,ek=ws.unstable_requestPaint,wr=ws.unstable_now,tk=ws.unstable_getCurrentPriorityLevel,m9=ws.unstable_ImmediatePriority,rb=ws.unstable_UserBlockingPriority,m1=ws.unstable_NormalPriority,nk=ws.unstable_LowPriority,ib=ws.unstable_IdlePriority,Rg=null,Ko=null;function rk(t){if(Ko&&typeof Ko.onCommitFiberRoot=="function")try{Ko.onCommitFiberRoot(Rg,t,void 0,(t.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:ok,ik=Math.log,sk=Math.LN2;function ok(t){return t>>>=0,t===0?32:31-(ik(t)/sk|0)|0}var r2=64,i2=4194304;function Yd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function g1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Yd(a):(s&=o,s!==0&&(r=Yd(s)))}else o=n&~i,o!==0?r=Yd(o):s!==0&&(r=Yd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wo(e),i=1<<n,r|=t[n],e&=~i;return r}function ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ak(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function U4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sb(){var t=r2;return r2<<=1,!(r2&4194240)&&(r2=64),t}function D5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function M0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wo(e),t[e]=n}function uk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function g9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dn=0;function ob(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ab,v9,lb,ub,cb,N4=!1,s2=[],Fl=null,kl=null,Ul=null,Lp=new Map,Fp=new Map,El=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(e.pointerId)}}function md(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=E0(e),e!==null&&v9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fk(t,e,n,r,i){switch(e){case"focusin":return Fl=md(Fl,t,e,n,r,i),!0;case"dragenter":return kl=md(kl,t,e,n,r,i),!0;case"mouseover":return Ul=md(Ul,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lp.set(s,md(Lp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fp.set(s,md(Fp.get(s)||null,t,e,n,r,i)),!0}return!1}function fb(t){var e=zu(t.target);if(e!==null){var n=Sc(e);if(n!==null){if(e=n.tag,e===13){if(e=$C(n),e!==null){t.blockedOn=e,cb(t.priority,function(){lb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function km(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=O4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);I4=r,n.target.dispatchEvent(r),I4=null}else return e=E0(n),e!==null&&v9(e),t.blockedOn=n,!1;e.shift()}return!0}function Qw(t,e,n){km(t)&&n.delete(e)}function hk(){N4=!1,Fl!==null&&km(Fl)&&(Fl=null),kl!==null&&km(kl)&&(kl=null),Ul!==null&&km(Ul)&&(Ul=null),Lp.forEach(Qw),Fp.forEach(Qw)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,N4||(N4=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,hk)))}function kp(t){function e(i){return gd(i,t)}if(0<s2.length){gd(s2[0],t);for(var n=1;n<s2.length;n++){var r=s2[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fl!==null&&gd(Fl,t),kl!==null&&gd(kl,t),Ul!==null&&gd(Ul,t),Lp.forEach(e),Fp.forEach(e),n=0;n<El.length;n++)r=El[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<El.length&&(n=El[0],n.blockedOn===null);)fb(n),n.blockedOn===null&&El.shift()}var Gf=Ka.ReactCurrentBatchConfig,v1=!0;function dk(t,e,n,r){var i=Dn,s=Gf.transition;Gf.transition=null;try{Dn=1,y9(t,e,n,r)}finally{Dn=i,Gf.transition=s}}function pk(t,e,n,r){var i=Dn,s=Gf.transition;Gf.transition=null;try{Dn=4,y9(t,e,n,r)}finally{Dn=i,Gf.transition=s}}function y9(t,e,n,r){if(v1){var i=O4(t,e,n,r);if(i===null)G5(t,e,r,y1,n),Zw(t,r);else if(fk(i,t,e,n,r))r.stopPropagation();else if(Zw(t,r),e&4&&-1<ck.indexOf(t)){for(;i!==null;){var s=E0(i);if(s!==null&&ab(s),s=O4(t,e,n,r),s===null&&G5(t,e,r,y1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else G5(t,e,r,null,n)}}var y1=null;function O4(t,e,n,r){if(y1=null,t=p9(r),t=zu(t),t!==null)if(e=Sc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$C(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return y1=t,null}function hb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tk()){case m9:return 1;case rb:return 4;case m1:case nk:return 16;case ib:return 536870912;default:return 16}default:return 16}}var bl=null,x9=null,Um=null;function db(){if(Um)return Um;var t,e=x9,n=e.length,r,i="value"in bl?bl.value:bl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Um=i.slice(t,1<r?1-r:void 0)}function Nm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o2(){return!0}function qw(){return!1}function As(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?o2:qw,this.isPropagationStopped=qw,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=o2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=o2)},persist:function(){},isPersistent:o2}),e}var Eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S9=As(Eh),A0=ar({},Eh,{view:0,detail:0}),mk=As(A0),B5,I5,vd,Dg=ar({},A0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(B5=t.screenX-vd.screenX,I5=t.screenY-vd.screenY):I5=B5=0,vd=t),B5)},movementY:function(t){return"movementY"in t?t.movementY:I5}}),$w=As(Dg),gk=ar({},Dg,{dataTransfer:0}),vk=As(gk),yk=ar({},A0,{relatedTarget:0}),L5=As(yk),xk=ar({},Eh,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=As(xk),wk=ar({},Eh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_k=As(wk),Mk=ar({},Eh,{data:0}),e_=As(Mk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ck(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tk[t])?!!e[t]:!1}function w9(){return Ck}var bk=ar({},A0,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w9,charCode:function(t){return t.type==="keypress"?Nm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pk=As(bk),Rk=ar({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t_=As(Rk),Dk=ar({},A0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w9}),Bk=As(Dk),Ik=ar({},Eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lk=As(Ik),Fk=ar({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=As(Fk),Uk=[9,13,27,32],_9=Oa&&"CompositionEvent"in window,lp=null;Oa&&"documentMode"in document&&(lp=document.documentMode);var Nk=Oa&&"TextEvent"in window&&!lp,pb=Oa&&(!_9||lp&&8<lp&&11>=lp),n_=String.fromCharCode(32),r_=!1;function mb(t,e){switch(t){case"keyup":return Uk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vf=!1;function Ok(t,e){switch(t){case"compositionend":return gb(e);case"keypress":return e.which!==32?null:(r_=!0,n_);case"textInput":return t=e.data,t===n_&&r_?null:t;default:return null}}function zk(t,e){if(vf)return t==="compositionend"||!_9&&mb(t,e)?(t=db(),Um=x9=bl=null,vf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pb&&e.locale!=="ko"?null:e.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gk[t.type]:e==="textarea"}function vb(t,e,n,r){YC(r),e=x1(e,"onChange"),0<e.length&&(n=new S9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var up=null,Up=null;function Hk(t){bb(t,0)}function Bg(t){var e=Sf(t);if(GC(e))return t}function Vk(t,e){if(t==="change")return e}var yb=!1;if(Oa){var F5;if(Oa){var k5="oninput"in document;if(!k5){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),k5=typeof s_.oninput=="function"}F5=k5}else F5=!1;yb=F5&&(!document.documentMode||9<document.documentMode)}function o_(){up&&(up.detachEvent("onpropertychange",xb),Up=up=null)}function xb(t){if(t.propertyName==="value"&&Bg(Up)){var e=[];vb(e,Up,t,p9(t)),qC(Hk,e)}}function Wk(t,e,n){t==="focusin"?(o_(),up=e,Up=n,up.attachEvent("onpropertychange",xb)):t==="focusout"&&o_()}function jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bg(Up)}function Xk(t,e){if(t==="click")return Bg(e)}function Jk(t,e){if(t==="input"||t==="change")return Bg(e)}function Yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eo=typeof Object.is=="function"?Object.is:Yk;function Np(t,e){if(Eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!w4.call(e,i)||!Eo(t[i],e[i]))return!1}return!0}function a_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l_(t,e){var n=a_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a_(n)}}function Sb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wb(){for(var t=window,e=h1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=h1(t.document)}return e}function M9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kk(t){var e=wb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sb(n.ownerDocument.documentElement,n)){if(r!==null&&M9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=l_(n,s);var o=l_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zk=Oa&&"documentMode"in document&&11>=document.documentMode,yf=null,z4=null,cp=null,G4=!1;function u_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G4||yf==null||yf!==h1(r)||(r=yf,"selectionStart"in r&&M9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cp&&Np(cp,r)||(cp=r,r=x1(z4,"onSelect"),0<r.length&&(e=new S9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yf)))}function a2(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xf={animationend:a2("Animation","AnimationEnd"),animationiteration:a2("Animation","AnimationIteration"),animationstart:a2("Animation","AnimationStart"),transitionend:a2("Transition","TransitionEnd")},U5={},_b={};Oa&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete xf.animationend.animation,delete xf.animationiteration.animation,delete xf.animationstart.animation),"TransitionEvent"in window||delete xf.transitionend.transition);function Ig(t){if(U5[t])return U5[t];if(!xf[t])return t;var e=xf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _b)return U5[t]=e[n];return t}var Mb=Ig("animationend"),Ab=Ig("animationiteration"),Eb=Ig("animationstart"),Tb=Ig("transitionend"),Cb=new Map,c_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ql(t,e){Cb.set(t,e),xc(e,[t])}for(var N5=0;N5<c_.length;N5++){var O5=c_[N5],Qk=O5.toLowerCase(),qk=O5[0].toUpperCase()+O5.slice(1);ql(Qk,"on"+qk)}ql(Mb,"onAnimationEnd");ql(Ab,"onAnimationIteration");ql(Eb,"onAnimationStart");ql("dblclick","onDoubleClick");ql("focusin","onFocus");ql("focusout","onBlur");ql(Tb,"onTransitionEnd");qf("onMouseEnter",["mouseout","mouseover"]);qf("onMouseLeave",["mouseout","mouseover"]);qf("onPointerEnter",["pointerout","pointerover"]);qf("onPointerLeave",["pointerout","pointerover"]);xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function f_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QF(r,e,void 0,t),t.currentTarget=null}function bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;f_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;f_(i,a,u),s=l}}}if(p1)throw t=k4,p1=!1,k4=null,t}function Hn(t,e){var n=e[X4];n===void 0&&(n=e[X4]=new Set);var r=t+"__bubble";n.has(r)||(Pb(e,t,2,!1),n.add(r))}function z5(t,e,n){var r=0;e&&(r|=4),Pb(n,t,r,e)}var l2="_reactListening"+Math.random().toString(36).slice(2);function Op(t){if(!t[l2]){t[l2]=!0,kC.forEach(function(n){n!=="selectionchange"&&($k.has(n)||z5(n,!1,t),z5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[l2]||(e[l2]=!0,z5("selectionchange",!1,e))}}function Pb(t,e,n,r){switch(hb(e)){case 1:var i=dk;break;case 4:i=pk;break;default:i=y9}n=i.bind(null,e,n,t),i=void 0,!F4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function G5(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qC(function(){var u=s,c=p9(n),f=[];e:{var d=Cb.get(t);if(d!==void 0){var m=S9,g=t;switch(t){case"keypress":if(Nm(n)===0)break e;case"keydown":case"keyup":m=Pk;break;case"focusin":g="focus",m=L5;break;case"focusout":g="blur",m=L5;break;case"beforeblur":case"afterblur":m=L5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bk;break;case Mb:case Ab:case Eb:m=Sk;break;case Tb:m=Lk;break;case"scroll":m=mk;break;case"wheel":m=kk;break;case"copy":case"cut":case"paste":m=_k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=t_}var v=(e&4)!==0,y=!v&&t==="scroll",w=v?d!==null?d+"Capture":null:d;v=[];for(var S=u,x;S!==null;){x=S;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,w!==null&&(M=Ip(S,w),M!=null&&v.push(zp(S,M,x)))),y)break;S=S.return}0<v.length&&(d=new m(d,g,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==I4&&(g=n.relatedTarget||n.fromElement)&&(zu(g)||g[za]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?zu(g):null,g!==null&&(y=Sc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=$w,M="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(v=t_,M="onPointerLeave",w="onPointerEnter",S="pointer"),y=m==null?d:Sf(m),x=g==null?d:Sf(g),d=new v(M,S+"leave",m,n,c),d.target=y,d.relatedTarget=x,M=null,zu(c)===u&&(v=new v(w,S+"enter",g,n,c),v.target=x,v.relatedTarget=y,M=v),y=M,m&&g)t:{for(v=m,w=g,S=0,x=v;x;x=Gc(x))S++;for(x=0,M=w;M;M=Gc(M))x++;for(;0<S-x;)v=Gc(v),S--;for(;0<x-S;)w=Gc(w),x--;for(;S--;){if(v===w||w!==null&&v===w.alternate)break t;v=Gc(v),w=Gc(w)}v=null}else v=null;m!==null&&h_(f,d,m,v,!1),g!==null&&y!==null&&h_(f,y,g,v,!0)}}e:{if(d=u?Sf(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var E=Vk;else if(i_(d))if(yb)E=Jk;else{E=jk;var C=Wk}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Xk);if(E&&(E=E(t,u))){vb(f,E,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&b4(d,"number",d.value)}switch(C=u?Sf(u):window,t){case"focusin":(i_(C)||C.contentEditable==="true")&&(yf=C,z4=u,cp=null);break;case"focusout":cp=z4=yf=null;break;case"mousedown":G4=!0;break;case"contextmenu":case"mouseup":case"dragend":G4=!1,u_(f,n,c);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":u_(f,n,c)}var P;if(_9)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vf?mb(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(pb&&n.locale!=="ko"&&(vf||T!=="onCompositionStart"?T==="onCompositionEnd"&&vf&&(P=db()):(bl=c,x9="value"in bl?bl.value:bl.textContent,vf=!0)),C=x1(u,T),0<C.length&&(T=new e_(T,t,null,n,c),f.push({event:T,listeners:C}),P?T.data=P:(P=gb(n),P!==null&&(T.data=P)))),(P=Nk?Ok(t,n):zk(t,n))&&(u=x1(u,"onBeforeInput"),0<u.length&&(c=new e_("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}bb(f,e)})}function zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function x1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ip(t,n),s!=null&&r.unshift(zp(t,s,i)),s=Ip(t,e),s!=null&&r.push(zp(t,s,i))),t=t.return}return r}function Gc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ip(n,s),l!=null&&o.unshift(zp(n,l,a))):i||(l=Ip(n,s),l!=null&&o.push(zp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eU=/\r\n?/g,tU=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(eU,`
`).replace(tU,"")}function u2(t,e,n){if(e=d_(e),d_(t)!==e&&n)throw Error(rt(425))}function S1(){}var H4=null,V4=null;function W4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var j4=typeof setTimeout=="function"?setTimeout:void 0,nU=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(iU)}:j4;function iU(t){setTimeout(function(){throw t})}function H5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kp(e)}function Nl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Th=Math.random().toString(36).slice(2),Wo="__reactFiber$"+Th,Gp="__reactProps$"+Th,za="__reactContainer$"+Th,X4="__reactEvents$"+Th,sU="__reactListeners$"+Th,oU="__reactHandles$"+Th;function zu(t){var e=t[Wo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[za]||n[Wo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m_(t);t!==null;){if(n=t[Wo])return n;t=m_(t)}return e}t=n,n=t.parentNode}return null}function E0(t){return t=t[Wo]||t[za],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function Lg(t){return t[Gp]||null}var J4=[],wf=-1;function $l(t){return{current:t}}function jn(t){0>wf||(t.current=J4[wf],J4[wf]=null,wf--)}function On(t,e){wf++,J4[wf]=t.current,t.current=e}var Yl={},yi=$l(Yl),qi=$l(!1),oc=Yl;function $f(t,e){var n=t.type.contextTypes;if(!n)return Yl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $i(t){return t=t.childContextTypes,t!=null}function w1(){jn(qi),jn(yi)}function g_(t,e,n){if(yi.current!==Yl)throw Error(rt(168));On(yi,e),On(qi,n)}function Rb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,WF(t)||"Unknown",i));return ar({},n,r)}function _1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yl,oc=yi.current,On(yi,t),On(qi,qi.current),!0}function v_(t,e,n){var r=t.stateNode;if(!r)throw Error(rt(169));n?(t=Rb(t,e,oc),r.__reactInternalMemoizedMergedChildContext=t,jn(qi),jn(yi),On(yi,t)):jn(qi),On(qi,n)}var Ea=null,Fg=!1,V5=!1;function Db(t){Ea===null?Ea=[t]:Ea.push(t)}function aU(t){Fg=!0,Db(t)}function eu(){if(!V5&&Ea!==null){V5=!0;var t=0,e=Dn;try{var n=Ea;for(Dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ea=null,Fg=!1}catch(i){throw Ea!==null&&(Ea=Ea.slice(t+1)),nb(m9,eu),i}finally{Dn=e,V5=!1}}return null}var _f=[],Mf=0,M1=null,A1=0,zs=[],Gs=0,ac=null,Ra=1,Da="";function Du(t,e){_f[Mf++]=A1,_f[Mf++]=M1,M1=t,A1=e}function Bb(t,e,n){zs[Gs++]=Ra,zs[Gs++]=Da,zs[Gs++]=ac,ac=t;var r=Ra;t=Da;var i=32-wo(r)-1;r&=~(1<<i),n+=1;var s=32-wo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ra=1<<32-wo(e)+i|n<<i|r,Da=s+t}else Ra=1<<s|n<<i|r,Da=t}function A9(t){t.return!==null&&(Du(t,1),Bb(t,1,0))}function E9(t){for(;t===M1;)M1=_f[--Mf],_f[Mf]=null,A1=_f[--Mf],_f[Mf]=null;for(;t===ac;)ac=zs[--Gs],zs[Gs]=null,Da=zs[--Gs],zs[Gs]=null,Ra=zs[--Gs],zs[Gs]=null}var xs=null,vs=null,Qn=!1,fo=null;function Ib(t,e){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,vs=Nl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ac!==null?{id:Ra,overflow:Da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,vs=null,!0):!1;default:return!1}}function Y4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K4(t){if(Qn){var e=vs;if(e){var n=e;if(!y_(t,e)){if(Y4(t))throw Error(rt(418));e=Nl(n.nextSibling);var r=xs;e&&y_(t,e)?Ib(r,n):(t.flags=t.flags&-4097|2,Qn=!1,xs=t)}}else{if(Y4(t))throw Error(rt(418));t.flags=t.flags&-4097|2,Qn=!1,xs=t}}}function x_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function c2(t){if(t!==xs)return!1;if(!Qn)return x_(t),Qn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W4(t.type,t.memoizedProps)),e&&(e=vs)){if(Y4(t))throw Lb(),Error(rt(418));for(;e;)Ib(t,e),e=Nl(e.nextSibling)}if(x_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vs=Nl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vs=null}}else vs=xs?Nl(t.stateNode.nextSibling):null;return!0}function Lb(){for(var t=vs;t;)t=Nl(t.nextSibling)}function eh(){vs=xs=null,Qn=!1}function T9(t){fo===null?fo=[t]:fo.push(t)}var lU=Ka.ReactCurrentBatchConfig;function lo(t,e){if(t&&t.defaultProps){e=ar({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var E1=$l(null),T1=null,Af=null,C9=null;function b9(){C9=Af=T1=null}function P9(t){var e=E1.current;jn(E1),t._currentValue=e}function Z4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hf(t,e){T1=t,C9=Af=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ki=!0),t.firstContext=null)}function Ys(t){var e=t._currentValue;if(C9!==t)if(t={context:t,memoizedValue:e,next:null},Af===null){if(T1===null)throw Error(rt(308));Af=t,T1.dependencies={lanes:0,firstContext:t}}else Af=Af.next=t;return e}var Gu=null;function R9(t){Gu===null?Gu=[t]:Gu.push(t)}function Fb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,R9(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sl=!1;function D9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ua(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,R9(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function Om(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g9(t,n)}}function S_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function C1(t,e,n,r){var i=t.updateQueue;Sl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(m,f,d):g,d==null)break e;f=ar({},f,d);break e;case 2:Sl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uc|=o,t.lanes=o,t.memoizedState=f}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var Ub=new FC.Component().refs;function Q4(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ar({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kg={isMounted:function(t){return(t=t._reactInternals)?Sc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Li(),i=Gl(t),s=Ua(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ol(t,s,i),e!==null&&(_o(e,t,i,r),Om(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Li(),i=Gl(t),s=Ua(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ol(t,s,i),e!==null&&(_o(e,t,i,r),Om(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Li(),r=Gl(t),i=Ua(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ol(t,i,r),e!==null&&(_o(e,t,r,n),Om(e,t,r))}};function __(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Np(n,r)||!Np(i,s):!0}function Nb(t,e,n){var r=!1,i=Yl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ys(s):(i=$i(e)?oc:yi.current,r=e.contextTypes,s=(r=r!=null)?$f(t,i):Yl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function M_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kg.enqueueReplaceState(e,e.state,null)}function q4(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ub,D9(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ys(s):(s=$i(e)?oc:yi.current,i.context=$f(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Q4(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kg.enqueueReplaceState(i,i.state,null),C1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Ub&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,t))}return t}function f2(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A_(t){var e=t._init;return e(t._payload)}function Ob(t){function e(w,S){if(t){var x=w.deletions;x===null?(w.deletions=[S],w.flags|=16):x.push(S)}}function n(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=Hl(w,S),w.index=0,w.sibling=null,w}function s(w,S,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<S?(w.flags|=2,S):x):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,S,x,M){return S===null||S.tag!==6?(S=Z5(x,w.mode,M),S.return=w,S):(S=i(S,x),S.return=w,S)}function l(w,S,x,M){var E=x.type;return E===gf?c(w,S,x.props.children,M,x.key):S!==null&&(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xl&&A_(E)===S.type)?(M=i(S,x.props),M.ref=yd(w,S,x),M.return=w,M):(M=jm(x.type,x.key,x.props,null,w.mode,M),M.ref=yd(w,S,x),M.return=w,M)}function u(w,S,x,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Q5(x,w.mode,M),S.return=w,S):(S=i(S,x.children||[]),S.return=w,S)}function c(w,S,x,M,E){return S===null||S.tag!==7?(S=qu(x,w.mode,M,E),S.return=w,S):(S=i(S,x),S.return=w,S)}function f(w,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Z5(""+S,w.mode,x),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case e2:return x=jm(S.type,S.key,S.props,null,w.mode,x),x.ref=yd(w,null,S),x.return=w,x;case mf:return S=Q5(S,w.mode,x),S.return=w,S;case xl:var M=S._init;return f(w,M(S._payload),x)}if(Jd(S)||dd(S))return S=qu(S,w.mode,x,null),S.return=w,S;f2(w,S)}return null}function d(w,S,x,M){var E=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(w,S,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case e2:return x.key===E?l(w,S,x,M):null;case mf:return x.key===E?u(w,S,x,M):null;case xl:return E=x._init,d(w,S,E(x._payload),M)}if(Jd(x)||dd(x))return E!==null?null:c(w,S,x,M,null);f2(w,x)}return null}function m(w,S,x,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(x)||null,a(S,w,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case e2:return w=w.get(M.key===null?x:M.key)||null,l(S,w,M,E);case mf:return w=w.get(M.key===null?x:M.key)||null,u(S,w,M,E);case xl:var C=M._init;return m(w,S,x,C(M._payload),E)}if(Jd(M)||dd(M))return w=w.get(x)||null,c(S,w,M,E,null);f2(S,M)}return null}function g(w,S,x,M){for(var E=null,C=null,P=S,T=S=0,R=null;P!==null&&T<x.length;T++){P.index>T?(R=P,P=null):R=P.sibling;var I=d(w,P,x[T],M);if(I===null){P===null&&(P=R);break}t&&P&&I.alternate===null&&e(w,P),S=s(I,S,T),C===null?E=I:C.sibling=I,C=I,P=R}if(T===x.length)return n(w,P),Qn&&Du(w,T),E;if(P===null){for(;T<x.length;T++)P=f(w,x[T],M),P!==null&&(S=s(P,S,T),C===null?E=P:C.sibling=P,C=P);return Qn&&Du(w,T),E}for(P=r(w,P);T<x.length;T++)R=m(P,w,T,x[T],M),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?T:R.key),S=s(R,S,T),C===null?E=R:C.sibling=R,C=R);return t&&P.forEach(function(U){return e(w,U)}),Qn&&Du(w,T),E}function v(w,S,x,M){var E=dd(x);if(typeof E!="function")throw Error(rt(150));if(x=E.call(x),x==null)throw Error(rt(151));for(var C=E=null,P=S,T=S=0,R=null,I=x.next();P!==null&&!I.done;T++,I=x.next()){P.index>T?(R=P,P=null):R=P.sibling;var U=d(w,P,I.value,M);if(U===null){P===null&&(P=R);break}t&&P&&U.alternate===null&&e(w,P),S=s(U,S,T),C===null?E=U:C.sibling=U,C=U,P=R}if(I.done)return n(w,P),Qn&&Du(w,T),E;if(P===null){for(;!I.done;T++,I=x.next())I=f(w,I.value,M),I!==null&&(S=s(I,S,T),C===null?E=I:C.sibling=I,C=I);return Qn&&Du(w,T),E}for(P=r(w,P);!I.done;T++,I=x.next())I=m(P,w,T,I.value,M),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?T:I.key),S=s(I,S,T),C===null?E=I:C.sibling=I,C=I);return t&&P.forEach(function(G){return e(w,G)}),Qn&&Du(w,T),E}function y(w,S,x,M){if(typeof x=="object"&&x!==null&&x.type===gf&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case e2:e:{for(var E=x.key,C=S;C!==null;){if(C.key===E){if(E=x.type,E===gf){if(C.tag===7){n(w,C.sibling),S=i(C,x.props.children),S.return=w,w=S;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xl&&A_(E)===C.type){n(w,C.sibling),S=i(C,x.props),S.ref=yd(w,C,x),S.return=w,w=S;break e}n(w,C);break}else e(w,C);C=C.sibling}x.type===gf?(S=qu(x.props.children,w.mode,M,x.key),S.return=w,w=S):(M=jm(x.type,x.key,x.props,null,w.mode,M),M.ref=yd(w,S,x),M.return=w,w=M)}return o(w);case mf:e:{for(C=x.key;S!==null;){if(S.key===C)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){n(w,S.sibling),S=i(S,x.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else e(w,S);S=S.sibling}S=Q5(x,w.mode,M),S.return=w,w=S}return o(w);case xl:return C=x._init,y(w,S,C(x._payload),M)}if(Jd(x))return g(w,S,x,M);if(dd(x))return v(w,S,x,M);f2(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(n(w,S.sibling),S=i(S,x),S.return=w,w=S):(n(w,S),S=Z5(x,w.mode,M),S.return=w,w=S),o(w)):n(w,S)}return y}var th=Ob(!0),zb=Ob(!1),T0={},Zo=$l(T0),Hp=$l(T0),Vp=$l(T0);function Hu(t){if(t===T0)throw Error(rt(174));return t}function B9(t,e){switch(On(Vp,e),On(Hp,t),On(Zo,T0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:R4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=R4(e,t)}jn(Zo),On(Zo,e)}function nh(){jn(Zo),jn(Hp),jn(Vp)}function Gb(t){Hu(Vp.current);var e=Hu(Zo.current),n=R4(e,t.type);e!==n&&(On(Hp,t),On(Zo,n))}function I9(t){Hp.current===t&&(jn(Zo),jn(Hp))}var nr=$l(0);function b1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var W5=[];function L9(){for(var t=0;t<W5.length;t++)W5[t]._workInProgressVersionPrimary=null;W5.length=0}var zm=Ka.ReactCurrentDispatcher,j5=Ka.ReactCurrentBatchConfig,lc=0,sr=null,Ir=null,jr=null,P1=!1,fp=!1,Wp=0,uU=0;function ci(){throw Error(rt(321))}function F9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Eo(t[n],e[n]))return!1;return!0}function k9(t,e,n,r,i,s){if(lc=s,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=t===null||t.memoizedState===null?dU:pU,t=n(r,i),fp){s=0;do{if(fp=!1,Wp=0,25<=s)throw Error(rt(301));s+=1,jr=Ir=null,e.updateQueue=null,zm.current=mU,t=n(r,i)}while(fp)}if(zm.current=R1,e=Ir!==null&&Ir.next!==null,lc=0,jr=Ir=sr=null,P1=!1,e)throw Error(rt(300));return t}function U9(){var t=Wp!==0;return Wp=0,t}function Vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?sr.memoizedState=jr=t:jr=jr.next=t,jr}function Ks(){if(Ir===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=jr===null?sr.memoizedState:jr.next;if(e!==null)jr=e,Ir=t;else{if(t===null)throw Error(rt(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},jr===null?sr.memoizedState=jr=t:jr=jr.next=t}return jr}function jp(t,e){return typeof e=="function"?e(t):e}function X5(t){var e=Ks(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=Ir,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((lc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,sr.lanes|=c,uc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Eo(r,e.memoizedState)||(Ki=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,sr.lanes|=s,uc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function J5(t){var e=Ks(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Eo(s,e.memoizedState)||(Ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Hb(){}function Vb(t,e){var n=sr,r=Ks(),i=e(),s=!Eo(r.memoizedState,i);if(s&&(r.memoizedState=i,Ki=!0),r=r.queue,N9(Xb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jr!==null&&jr.memoizedState.tag&1){if(n.flags|=2048,Xp(9,jb.bind(null,n,r,i,e),void 0,null),Xr===null)throw Error(rt(349));lc&30||Wb(n,e,i)}return i}function Wb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jb(t,e,n,r){e.value=n,e.getSnapshot=r,Jb(e)&&Yb(t)}function Xb(t,e,n){return n(function(){Jb(e)&&Yb(t)})}function Jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Eo(t,n)}catch{return!0}}function Yb(t){var e=Ga(t,1);e!==null&&_o(e,t,1,-1)}function E_(t){var e=Vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:t},e.queue=t,t=t.dispatch=hU.bind(null,sr,t),[e.memoizedState,t]}function Xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kb(){return Ks().memoizedState}function Gm(t,e,n,r){var i=Vo();sr.flags|=t,i.memoizedState=Xp(1|e,n,void 0,r===void 0?null:r)}function Ug(t,e,n,r){var i=Ks();r=r===void 0?null:r;var s=void 0;if(Ir!==null){var o=Ir.memoizedState;if(s=o.destroy,r!==null&&F9(r,o.deps)){i.memoizedState=Xp(e,n,s,r);return}}sr.flags|=t,i.memoizedState=Xp(1|e,n,s,r)}function T_(t,e){return Gm(8390656,8,t,e)}function N9(t,e){return Ug(2048,8,t,e)}function Zb(t,e){return Ug(4,2,t,e)}function Qb(t,e){return Ug(4,4,t,e)}function qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $b(t,e,n){return n=n!=null?n.concat([t]):null,Ug(4,4,qb.bind(null,e,t),n)}function O9(){}function eP(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tP(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nP(t,e,n){return lc&21?(Eo(n,e)||(n=sb(),sr.lanes|=n,uc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ki=!0),t.memoizedState=n)}function cU(t,e){var n=Dn;Dn=n!==0&&4>n?n:4,t(!0);var r=j5.transition;j5.transition={};try{t(!1),e()}finally{Dn=n,j5.transition=r}}function rP(){return Ks().memoizedState}function fU(t,e,n){var r=Gl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iP(t))sP(e,n);else if(n=Fb(t,e,n,r),n!==null){var i=Li();_o(n,t,r,i),oP(n,e,r)}}function hU(t,e,n){var r=Gl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iP(t))sP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Eo(a,o)){var l=e.interleaved;l===null?(i.next=i,R9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fb(t,e,i,r),n!==null&&(i=Li(),_o(n,t,r,i),oP(n,e,r))}}function iP(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function sP(t,e){fp=P1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g9(t,n)}}var R1={readContext:Ys,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},dU={readContext:Ys,useCallback:function(t,e){return Vo().memoizedState=[t,e===void 0?null:e],t},useContext:Ys,useEffect:T_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gm(4194308,4,qb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gm(4,2,t,e)},useMemo:function(t,e){var n=Vo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fU.bind(null,sr,t),[r.memoizedState,t]},useRef:function(t){var e=Vo();return t={current:t},e.memoizedState=t},useState:E_,useDebugValue:O9,useDeferredValue:function(t){return Vo().memoizedState=t},useTransition:function(){var t=E_(!1),e=t[0];return t=cU.bind(null,t[1]),Vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sr,i=Vo();if(Qn){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=e(),Xr===null)throw Error(rt(349));lc&30||Wb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T_(Xb.bind(null,r,s,t),[t]),r.flags|=2048,Xp(9,jb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vo(),e=Xr.identifierPrefix;if(Qn){var n=Da,r=Ra;n=(r&~(1<<32-wo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pU={readContext:Ys,useCallback:eP,useContext:Ys,useEffect:N9,useImperativeHandle:$b,useInsertionEffect:Zb,useLayoutEffect:Qb,useMemo:tP,useReducer:X5,useRef:Kb,useState:function(){return X5(jp)},useDebugValue:O9,useDeferredValue:function(t){var e=Ks();return nP(e,Ir.memoizedState,t)},useTransition:function(){var t=X5(jp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:Vb,useId:rP,unstable_isNewReconciler:!1},mU={readContext:Ys,useCallback:eP,useContext:Ys,useEffect:N9,useImperativeHandle:$b,useInsertionEffect:Zb,useLayoutEffect:Qb,useMemo:tP,useReducer:J5,useRef:Kb,useState:function(){return J5(jp)},useDebugValue:O9,useDeferredValue:function(t){var e=Ks();return Ir===null?e.memoizedState=t:nP(e,Ir.memoizedState,t)},useTransition:function(){var t=J5(jp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:Vb,useId:rP,unstable_isNewReconciler:!1};function rh(t,e){try{var n="",r=e;do n+=VF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Y5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $4(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gU=typeof WeakMap=="function"?WeakMap:Map;function aP(t,e,n){n=Ua(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){B1||(B1=!0,u8=r),$4(t,e)},n}function lP(t,e,n){n=Ua(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$4(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$4(t,e),typeof r!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RU.bind(null,t,e,n),e.then(t,t))}function b_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ua(-1,1),e.tag=2,Ol(n,e,1))),n.lanes|=1),t)}var vU=Ka.ReactCurrentOwner,Ki=!1;function Ri(t,e,n,r){e.child=t===null?zb(e,null,n,r):th(e,t.child,n,r)}function R_(t,e,n,r,i){n=n.render;var s=e.ref;return Hf(e,i),r=k9(t,e,n,r,s,i),n=U9(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(Qn&&n&&A9(e),e.flags|=1,Ri(t,e,r,i),e.child)}function D_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!J9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uP(t,e,s,r,i)):(t=jm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Np,n(o,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,t=Hl(s,r),t.ref=e.ref,t.return=e,e.child=t}function uP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Np(s,r)&&t.ref===e.ref)if(Ki=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ki=!0);else return e.lanes=t.lanes,Ha(t,e,i)}return e8(t,e,n,r,i)}function cP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Tf,ps),ps|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,On(Tf,ps),ps|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,On(Tf,ps),ps|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,On(Tf,ps),ps|=r;return Ri(t,e,i,n),e.child}function fP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e8(t,e,n,r,i){var s=$i(n)?oc:yi.current;return s=$f(e,s),Hf(e,i),n=k9(t,e,n,r,s,i),r=U9(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(Qn&&r&&A9(e),e.flags|=1,Ri(t,e,n,i),e.child)}function B_(t,e,n,r,i){if($i(n)){var s=!0;_1(e)}else s=!1;if(Hf(e,i),e.stateNode===null)Hm(t,e),Nb(e,n,r),q4(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ys(u):(u=$i(n)?oc:yi.current,u=$f(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&M_(e,o,r,u),Sl=!1;var d=e.memoizedState;o.state=d,C1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||qi.current||Sl?(typeof c=="function"&&(Q4(e,n,c,r),l=e.memoizedState),(a=Sl||__(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lo(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ys(l):(l=$i(n)?oc:yi.current,l=$f(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&M_(e,o,r,l),Sl=!1,d=e.memoizedState,o.state=d,C1(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||qi.current||Sl?(typeof m=="function"&&(Q4(e,n,m,r),g=e.memoizedState),(u=Sl||__(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return t8(t,e,n,r,s,i)}function t8(t,e,n,r,i,s){fP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v_(e,n,!1),Ha(t,e,s);r=e.stateNode,vU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=th(e,t.child,null,s),e.child=th(e,null,a,s)):Ri(t,e,a,s),e.memoizedState=r.state,i&&v_(e,n,!0),e.child}function hP(t){var e=t.stateNode;e.pendingContext?g_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g_(t,e.context,!1),B9(t,e.containerInfo)}function I_(t,e,n,r,i){return eh(),T9(i),e.flags|=256,Ri(t,e,n,r),e.child}var n8={dehydrated:null,treeContext:null,retryLane:0};function r8(t){return{baseLanes:t,cachePool:null,transitions:null}}function dP(t,e,n){var r=e.pendingProps,i=nr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),On(nr,i&1),t===null)return K4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zg(o,r,0,null),t=qu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r8(n),e.memoizedState=n8,t):z9(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hl(a,s):(s=qu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r8(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n8,r}return s=t.child,t=s.sibling,r=Hl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function z9(t,e){return e=zg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function h2(t,e,n,r){return r!==null&&T9(r),th(e,t.child,null,n),t=z9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Y5(Error(rt(422))),h2(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zg({mode:"visible",children:r.children},i,0,null),s=qu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&th(e,t.child,null,o),e.child.memoizedState=r8(o),e.memoizedState=n8,s);if(!(e.mode&1))return h2(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(rt(419)),r=Y5(s,r,void 0),h2(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ki||a){if(r=Xr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ga(t,i),_o(r,t,i,-1))}return X9(),r=Y5(Error(rt(421))),h2(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vs=Nl(i.nextSibling),xs=e,Qn=!0,fo=null,t!==null&&(zs[Gs++]=Ra,zs[Gs++]=Da,zs[Gs++]=ac,Ra=t.id,Da=t.overflow,ac=e),e=z9(e,r.children),e.flags|=4096,e)}function L_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Z4(t.return,e,n)}function K5(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ri(t,e,r.children,n),r=nr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L_(t,n,e);else if(t.tag===19)L_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(On(nr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&b1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),K5(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&b1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}K5(e,!0,n,null,s);break;case"together":K5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,n=Hl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xU(t,e,n){switch(e.tag){case 3:hP(e),eh();break;case 5:Gb(e);break;case 1:$i(e.type)&&_1(e);break;case 4:B9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;On(E1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(On(nr,nr.current&1),e.flags|=128,null):n&e.child.childLanes?dP(t,e,n):(On(nr,nr.current&1),t=Ha(t,e,n),t!==null?t.sibling:null);On(nr,nr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),On(nr,nr.current),r)break;return null;case 22:case 23:return e.lanes=0,cP(t,e,n)}return Ha(t,e,n)}var mP,i8,gP,vP;mP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i8=function(){};gP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hu(Zo.current);var s=null;switch(n){case"input":i=T4(t,i),r=T4(t,r),s=[];break;case"select":i=ar({},i,{value:void 0}),r=ar({},r,{value:void 0}),s=[];break;case"textarea":i=P4(t,i),r=P4(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=S1)}D4(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Hn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vP=function(t,e,n,r){n!==r&&(e.flags|=4)};function xd(t,e){if(!Qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SU(t,e,n){var r=e.pendingProps;switch(E9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(e),null;case 1:return $i(e.type)&&w1(),fi(e),null;case 3:return r=e.stateNode,nh(),jn(qi),jn(yi),L9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(c2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fo!==null&&(h8(fo),fo=null))),i8(t,e),fi(e),null;case 5:I9(e);var i=Hu(Vp.current);if(n=e.type,t!==null&&e.stateNode!=null)gP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return fi(e),null}if(t=Hu(Zo.current),c2(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wo]=e,r[Gp]=s,t=(e.mode&1)!==0,n){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<Kd.length;i++)Hn(Kd[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":Vw(r,s),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Hn("invalid",r);break;case"textarea":jw(r,s),Hn("invalid",r)}D4(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&u2(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&u2(r.textContent,a,t),i=["children",""+a]):Dp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Hn("scroll",r)}switch(n){case"input":t2(r),Ww(r,s,!0);break;case"textarea":t2(r),Xw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=S1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wo]=e,t[Gp]=r,mP(t,e,!1,!1),e.stateNode=t;e:{switch(o=B4(n,r),n){case"dialog":Hn("cancel",t),Hn("close",t),i=r;break;case"iframe":case"object":case"embed":Hn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kd.length;i++)Hn(Kd[i],t);i=r;break;case"source":Hn("error",t),i=r;break;case"img":case"image":case"link":Hn("error",t),Hn("load",t),i=r;break;case"details":Hn("toggle",t),i=r;break;case"input":Vw(t,r),i=T4(t,r),Hn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ar({},r,{value:void 0}),Hn("invalid",t);break;case"textarea":jw(t,r),i=P4(t,r),Hn("invalid",t);break;default:i=r}D4(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bp(t,l):typeof l=="number"&&Bp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Hn("scroll",t):l!=null&&c9(t,s,l,o))}switch(n){case"input":t2(t),Ww(t,r,!1);break;case"textarea":t2(t),Xw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=S1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fi(e),null;case 6:if(t&&e.stateNode!=null)vP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(n=Hu(Vp.current),Hu(Zo.current),c2(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wo]=e,(s=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:u2(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&u2(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wo]=e,e.stateNode=r}return fi(e),null;case 13:if(jn(nr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qn&&vs!==null&&e.mode&1&&!(e.flags&128))Lb(),eh(),e.flags|=98560,s=!1;else if(s=c2(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Wo]=e}else eh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fi(e),s=!1}else fo!==null&&(h8(fo),fo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nr.current&1?Lr===0&&(Lr=3):X9())),e.updateQueue!==null&&(e.flags|=4),fi(e),null);case 4:return nh(),i8(t,e),t===null&&Op(e.stateNode.containerInfo),fi(e),null;case 10:return P9(e.type._context),fi(e),null;case 17:return $i(e.type)&&w1(),fi(e),null;case 19:if(jn(nr),s=e.memoizedState,s===null)return fi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xd(s,!1);else{if(Lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=b1(t),o!==null){for(e.flags|=128,xd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return On(nr,nr.current&1|2),e.child}t=t.sibling}s.tail!==null&&wr()>ih&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304)}else{if(!r)if(t=b1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qn)return fi(e),null}else 2*wr()-s.renderingStartTime>ih&&n!==1073741824&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wr(),e.sibling=null,n=nr.current,On(nr,r?n&1|2:n&1),e):(fi(e),null);case 22:case 23:return j9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ps&1073741824&&(fi(e),e.subtreeFlags&6&&(e.flags|=8192)):fi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function wU(t,e){switch(E9(e),e.tag){case 1:return $i(e.type)&&w1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nh(),jn(qi),jn(yi),L9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return I9(e),null;case 13:if(jn(nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));eh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jn(nr),null;case 4:return nh(),null;case 10:return P9(e.type._context),null;case 22:case 23:return j9(),null;case 24:return null;default:return null}}var d2=!1,gi=!1,_U=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Ef(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hr(t,e,r)}else n.current=null}function s8(t,e,n){try{n()}catch(r){hr(t,e,r)}}var F_=!1;function MU(t,e){if(H4=v1,t=wb(),M9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V4={focusedElem:t,selectionRange:n},v1=!1,yt=e;yt!==null;)if(e=yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,yt=t;else for(;yt!==null;){e=yt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:lo(e.type,v),y);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(M){hr(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}return g=F_,F_=!1,g}function hp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s8(e,n,s)}i=i.next}while(i!==r)}}function Ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o8(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yP(t){var e=t.alternate;e!==null&&(t.alternate=null,yP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wo],delete e[Gp],delete e[X4],delete e[sU],delete e[oU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xP(t){return t.tag===5||t.tag===3||t.tag===4}function k_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=S1));else if(r!==4&&(t=t.child,t!==null))for(a8(t,e,n),t=t.sibling;t!==null;)a8(t,e,n),t=t.sibling}function l8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l8(t,e,n),t=t.sibling;t!==null;)l8(t,e,n),t=t.sibling}var ti=null,uo=!1;function ul(t,e,n){for(n=n.child;n!==null;)SP(t,e,n),n=n.sibling}function SP(t,e,n){if(Ko&&typeof Ko.onCommitFiberUnmount=="function")try{Ko.onCommitFiberUnmount(Rg,n)}catch{}switch(n.tag){case 5:gi||Ef(n,e);case 6:var r=ti,i=uo;ti=null,ul(t,e,n),ti=r,uo=i,ti!==null&&(uo?(t=ti,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ti.removeChild(n.stateNode));break;case 18:ti!==null&&(uo?(t=ti,n=n.stateNode,t.nodeType===8?H5(t.parentNode,n):t.nodeType===1&&H5(t,n),kp(t)):H5(ti,n.stateNode));break;case 4:r=ti,i=uo,ti=n.stateNode.containerInfo,uo=!0,ul(t,e,n),ti=r,uo=i;break;case 0:case 11:case 14:case 15:if(!gi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s8(n,e,o),i=i.next}while(i!==r)}ul(t,e,n);break;case 1:if(!gi&&(Ef(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hr(n,e,a)}ul(t,e,n);break;case 21:ul(t,e,n);break;case 22:n.mode&1?(gi=(r=gi)||n.memoizedState!==null,ul(t,e,n),gi=r):ul(t,e,n);break;default:ul(t,e,n)}}function U_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _U),e.forEach(function(r){var i=BU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function no(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ti=a.stateNode,uo=!1;break e;case 3:ti=a.stateNode.containerInfo,uo=!0;break e;case 4:ti=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(ti===null)throw Error(rt(160));SP(s,o,i),ti=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wP(e,t),e=e.sibling}function wP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(no(e,t),Oo(t),r&4){try{hp(3,t,t.return),Ng(3,t)}catch(v){hr(t,t.return,v)}try{hp(5,t,t.return)}catch(v){hr(t,t.return,v)}}break;case 1:no(e,t),Oo(t),r&512&&n!==null&&Ef(n,n.return);break;case 5:if(no(e,t),Oo(t),r&512&&n!==null&&Ef(n,n.return),t.flags&32){var i=t.stateNode;try{Bp(i,"")}catch(v){hr(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HC(i,s),B4(a,o);var u=B4(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?JC(i,f):c==="dangerouslySetInnerHTML"?jC(i,f):c==="children"?Bp(i,f):c9(i,c,f,u)}switch(a){case"input":C4(i,s);break;case"textarea":VC(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Nf(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Nf(i,!!s.multiple,s.defaultValue,!0):Nf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gp]=s}catch(v){hr(t,t.return,v)}}break;case 6:if(no(e,t),Oo(t),r&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){hr(t,t.return,v)}}break;case 3:if(no(e,t),Oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kp(e.containerInfo)}catch(v){hr(t,t.return,v)}break;case 4:no(e,t),Oo(t);break;case 13:no(e,t),Oo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(V9=wr())),r&4&&U_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gi=(u=gi)||c,no(e,t),gi=u):no(e,t),Oo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(yt=t,c=t.child;c!==null;){for(f=yt=c;yt!==null;){switch(d=yt,m=d.child,d.tag){case 0:case 11:case 14:case 15:hp(4,d,d.return);break;case 1:Ef(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){hr(r,n,v)}}break;case 5:Ef(d,d.return);break;case 22:if(d.memoizedState!==null){O_(f);continue}}m!==null?(m.return=d,yt=m):O_(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XC("display",o))}catch(v){hr(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){hr(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:no(e,t),Oo(t),r&4&&U_(t);break;case 21:break;default:no(e,t),Oo(t)}}function Oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xP(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bp(i,""),r.flags&=-33);var s=k_(t);l8(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k_(t);a8(t,a,o);break;default:throw Error(rt(161))}}catch(l){hr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AU(t,e,n){yt=t,_P(t)}function _P(t,e,n){for(var r=(t.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||d2;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gi;a=d2;var u=gi;if(d2=o,(gi=l)&&!u)for(yt=i;yt!==null;)o=yt,l=o.child,o.tag===22&&o.memoizedState!==null?z_(i):l!==null?(l.return=o,yt=l):z_(i);for(;s!==null;)yt=s,_P(s),s=s.sibling;yt=i,d2=a,gi=u}N_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):N_(t)}}function N_(t){for(;yt!==null;){var e=yt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gi||Ng(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&kp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}gi||e.flags&512&&o8(e)}catch(d){hr(e,e.return,d)}}if(e===t){yt=null;break}if(n=e.sibling,n!==null){n.return=e.return,yt=n;break}yt=e.return}}function O_(t){for(;yt!==null;){var e=yt;if(e===t){yt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,yt=n;break}yt=e.return}}function z_(t){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ng(4,e)}catch(l){hr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){hr(e,i,l)}}var s=e.return;try{o8(e)}catch(l){hr(e,s,l)}break;case 5:var o=e.return;try{o8(e)}catch(l){hr(e,o,l)}}}catch(l){hr(e,e.return,l)}if(e===t){yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,yt=a;break}yt=e.return}}var EU=Math.ceil,D1=Ka.ReactCurrentDispatcher,G9=Ka.ReactCurrentOwner,Js=Ka.ReactCurrentBatchConfig,Sn=0,Xr=null,Tr=null,ii=0,ps=0,Tf=$l(0),Lr=0,Jp=null,uc=0,Og=0,H9=0,dp=null,Ji=null,V9=0,ih=1/0,Aa=null,B1=!1,u8=null,zl=null,p2=!1,Pl=null,I1=0,pp=0,c8=null,Vm=-1,Wm=0;function Li(){return Sn&6?wr():Vm!==-1?Vm:Vm=wr()}function Gl(t){return t.mode&1?Sn&2&&ii!==0?ii&-ii:lU.transition!==null?(Wm===0&&(Wm=sb()),Wm):(t=Dn,t!==0||(t=window.event,t=t===void 0?16:hb(t.type)),t):1}function _o(t,e,n,r){if(50<pp)throw pp=0,c8=null,Error(rt(185));M0(t,n,r),(!(Sn&2)||t!==Xr)&&(t===Xr&&(!(Sn&2)&&(Og|=n),Lr===4&&Tl(t,ii)),es(t,r),n===1&&Sn===0&&!(e.mode&1)&&(ih=wr()+500,Fg&&eu()))}function es(t,e){var n=t.callbackNode;lk(t,e);var r=g1(t,t===Xr?ii:0);if(r===0)n!==null&&Kw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kw(n),e===1)t.tag===0?aU(G_.bind(null,t)):Db(G_.bind(null,t)),rU(function(){!(Sn&6)&&eu()}),n=null;else{switch(ob(r)){case 1:n=m9;break;case 4:n=rb;break;case 16:n=m1;break;case 536870912:n=ib;break;default:n=m1}n=RP(n,MP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MP(t,e){if(Vm=-1,Wm=0,Sn&6)throw Error(rt(327));var n=t.callbackNode;if(Vf()&&t.callbackNode!==n)return null;var r=g1(t,t===Xr?ii:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=L1(t,r);else{e=r;var i=Sn;Sn|=2;var s=EP();(Xr!==t||ii!==e)&&(Aa=null,ih=wr()+500,Qu(t,e));do try{bU();break}catch(a){AP(t,a)}while(1);b9(),D1.current=s,Sn=i,Tr!==null?e=0:(Xr=null,ii=0,e=Lr)}if(e!==0){if(e===2&&(i=U4(t),i!==0&&(r=i,e=f8(t,i))),e===1)throw n=Jp,Qu(t,0),Tl(t,r),es(t,wr()),n;if(e===6)Tl(t,r);else{if(i=t.current.alternate,!(r&30)&&!TU(i)&&(e=L1(t,r),e===2&&(s=U4(t),s!==0&&(r=s,e=f8(t,s))),e===1))throw n=Jp,Qu(t,0),Tl(t,r),es(t,wr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:Bu(t,Ji,Aa);break;case 3:if(Tl(t,r),(r&130023424)===r&&(e=V9+500-wr(),10<e)){if(g1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Li(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=j4(Bu.bind(null,t,Ji,Aa),e);break}Bu(t,Ji,Aa);break;case 4:if(Tl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=wr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EU(r/1960))-r,10<r){t.timeoutHandle=j4(Bu.bind(null,t,Ji,Aa),r);break}Bu(t,Ji,Aa);break;case 5:Bu(t,Ji,Aa);break;default:throw Error(rt(329))}}}return es(t,wr()),t.callbackNode===n?MP.bind(null,t):null}function f8(t,e){var n=dp;return t.current.memoizedState.isDehydrated&&(Qu(t,e).flags|=256),t=L1(t,e),t!==2&&(e=Ji,Ji=n,e!==null&&h8(e)),t}function h8(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function TU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Eo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tl(t,e){for(e&=~H9,e&=~Og,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wo(e),r=1<<n;t[n]=-1,e&=~r}}function G_(t){if(Sn&6)throw Error(rt(327));Vf();var e=g1(t,0);if(!(e&1))return es(t,wr()),null;var n=L1(t,e);if(t.tag!==0&&n===2){var r=U4(t);r!==0&&(e=r,n=f8(t,r))}if(n===1)throw n=Jp,Qu(t,0),Tl(t,e),es(t,wr()),n;if(n===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bu(t,Ji,Aa),es(t,wr()),null}function W9(t,e){var n=Sn;Sn|=1;try{return t(e)}finally{Sn=n,Sn===0&&(ih=wr()+500,Fg&&eu())}}function cc(t){Pl!==null&&Pl.tag===0&&!(Sn&6)&&Vf();var e=Sn;Sn|=1;var n=Js.transition,r=Dn;try{if(Js.transition=null,Dn=1,t)return t()}finally{Dn=r,Js.transition=n,Sn=e,!(Sn&6)&&eu()}}function j9(){ps=Tf.current,jn(Tf)}function Qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nU(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(E9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w1();break;case 3:nh(),jn(qi),jn(yi),L9();break;case 5:I9(r);break;case 4:nh();break;case 13:jn(nr);break;case 19:jn(nr);break;case 10:P9(r.type._context);break;case 22:case 23:j9()}n=n.return}if(Xr=t,Tr=t=Hl(t.current,null),ii=ps=e,Lr=0,Jp=null,H9=Og=uc=0,Ji=dp=null,Gu!==null){for(e=0;e<Gu.length;e++)if(n=Gu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Gu=null}return t}function AP(t,e){do{var n=Tr;try{if(b9(),zm.current=R1,P1){for(var r=sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}P1=!1}if(lc=0,jr=Ir=sr=null,fp=!1,Wp=0,G9.current=null,n===null||n.return===null){Lr=1,Jp=e,Tr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ii,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=b_(o);if(m!==null){m.flags&=-257,P_(m,o,a,s,e),m.mode&1&&C_(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){C_(s,u,e),X9();break e}l=Error(rt(426))}}else if(Qn&&a.mode&1){var y=b_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),P_(y,o,a,s,e),T9(rh(l,a));break e}}s=l=rh(l,a),Lr!==4&&(Lr=2),dp===null?dp=[s]:dp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=aP(s,l,e);S_(s,w);break e;case 1:a=l;var S=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zl===null||!zl.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=lP(s,a,e);S_(s,M);break e}}s=s.return}while(s!==null)}CP(n)}catch(E){e=E,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(1)}function EP(){var t=D1.current;return D1.current=R1,t===null?R1:t}function X9(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Xr===null||!(uc&268435455)&&!(Og&268435455)||Tl(Xr,ii)}function L1(t,e){var n=Sn;Sn|=2;var r=EP();(Xr!==t||ii!==e)&&(Aa=null,Qu(t,e));do try{CU();break}catch(i){AP(t,i)}while(1);if(b9(),Sn=n,D1.current=r,Tr!==null)throw Error(rt(261));return Xr=null,ii=0,Lr}function CU(){for(;Tr!==null;)TP(Tr)}function bU(){for(;Tr!==null&&!$F();)TP(Tr)}function TP(t){var e=PP(t.alternate,t,ps);t.memoizedProps=t.pendingProps,e===null?CP(t):Tr=e,G9.current=null}function CP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wU(n,e),n!==null){n.flags&=32767,Tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lr=6,Tr=null;return}}else if(n=SU(n,e,ps),n!==null){Tr=n;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Lr===0&&(Lr=5)}function Bu(t,e,n){var r=Dn,i=Js.transition;try{Js.transition=null,Dn=1,PU(t,e,n,r)}finally{Js.transition=i,Dn=r}return null}function PU(t,e,n,r){do Vf();while(Pl!==null);if(Sn&6)throw Error(rt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uk(t,s),t===Xr&&(Tr=Xr=null,ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||p2||(p2=!0,RP(m1,function(){return Vf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var o=Dn;Dn=1;var a=Sn;Sn|=4,G9.current=null,MU(t,n),wP(n,t),Kk(V4),v1=!!H4,V4=H4=null,t.current=n,AU(n),ek(),Sn=a,Dn=o,Js.transition=s}else t.current=n;if(p2&&(p2=!1,Pl=t,I1=i),s=t.pendingLanes,s===0&&(zl=null),rk(n.stateNode),es(t,wr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(B1)throw B1=!1,t=u8,u8=null,t;return I1&1&&t.tag!==0&&Vf(),s=t.pendingLanes,s&1?t===c8?pp++:(pp=0,c8=t):pp=0,eu(),null}function Vf(){if(Pl!==null){var t=ob(I1),e=Js.transition,n=Dn;try{if(Js.transition=null,Dn=16>t?16:t,Pl===null)var r=!1;else{if(t=Pl,Pl=null,I1=0,Sn&6)throw Error(rt(331));var i=Sn;for(Sn|=4,yt=t.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(yt=u;yt!==null;){var c=yt;switch(c.tag){case 0:case 11:case 15:hp(8,c,s)}var f=c.child;if(f!==null)f.return=c,yt=f;else for(;yt!==null;){c=yt;var d=c.sibling,m=c.return;if(yP(c),c===u){yt=null;break}if(d!==null){d.return=m,yt=d;break}yt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hp(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,yt=w;break e}yt=s.return}}var S=t.current;for(yt=S;yt!==null;){o=yt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,yt=x;else e:for(o=S;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ng(9,a)}}catch(E){hr(a,a.return,E)}if(a===o){yt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,yt=M;break e}yt=a.return}}if(Sn=i,eu(),Ko&&typeof Ko.onPostCommitFiberRoot=="function")try{Ko.onPostCommitFiberRoot(Rg,t)}catch{}r=!0}return r}finally{Dn=n,Js.transition=e}}return!1}function H_(t,e,n){e=rh(n,e),e=aP(t,e,1),t=Ol(t,e,1),e=Li(),t!==null&&(M0(t,1,e),es(t,e))}function hr(t,e,n){if(t.tag===3)H_(t,t,n);else for(;e!==null;){if(e.tag===3){H_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zl===null||!zl.has(r))){t=rh(n,t),t=lP(e,t,1),e=Ol(e,t,1),t=Li(),e!==null&&(M0(e,1,t),es(e,t));break}}e=e.return}}function RU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Li(),t.pingedLanes|=t.suspendedLanes&n,Xr===t&&(ii&n)===n&&(Lr===4||Lr===3&&(ii&130023424)===ii&&500>wr()-V9?Qu(t,0):H9|=n),es(t,e)}function bP(t,e){e===0&&(t.mode&1?(e=i2,i2<<=1,!(i2&130023424)&&(i2=4194304)):e=1);var n=Li();t=Ga(t,e),t!==null&&(M0(t,e,n),es(t,n))}function DU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bP(t,n)}function BU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),bP(t,n)}var PP;PP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qi.current)Ki=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ki=!1,xU(t,e,n);Ki=!!(t.flags&131072)}else Ki=!1,Qn&&e.flags&1048576&&Bb(e,A1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hm(t,e),t=e.pendingProps;var i=$f(e,yi.current);Hf(e,n),i=k9(null,e,r,t,i,n);var s=U9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$i(r)?(s=!0,_1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D9(e),i.updater=kg,e.stateNode=i,i._reactInternals=e,q4(e,r,t,n),e=t8(null,e,r,!0,s,n)):(e.tag=0,Qn&&s&&A9(e),Ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LU(r),t=lo(r,t),i){case 0:e=e8(null,e,r,t,n);break e;case 1:e=B_(null,e,r,t,n);break e;case 11:e=R_(null,e,r,t,n);break e;case 14:e=D_(null,e,r,lo(r.type,t),n);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),e8(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),B_(t,e,r,i,n);case 3:e:{if(hP(e),t===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kb(t,e),C1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=rh(Error(rt(423)),e),e=I_(t,e,r,n,i);break e}else if(r!==i){i=rh(Error(rt(424)),e),e=I_(t,e,r,n,i);break e}else for(vs=Nl(e.stateNode.containerInfo.firstChild),xs=e,Qn=!0,fo=null,n=zb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eh(),r===i){e=Ha(t,e,n);break e}Ri(t,e,r,n)}e=e.child}return e;case 5:return Gb(e),t===null&&K4(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,W4(r,i)?o=null:s!==null&&W4(r,s)&&(e.flags|=32),fP(t,e),Ri(t,e,o,n),e.child;case 6:return t===null&&K4(e),null;case 13:return dP(t,e,n);case 4:return B9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=th(e,null,r,n):Ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),R_(t,e,r,i,n);case 7:return Ri(t,e,e.pendingProps,n),e.child;case 8:return Ri(t,e,e.pendingProps.children,n),e.child;case 12:return Ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,On(E1,r._currentValue),r._currentValue=o,s!==null)if(Eo(s.value,o)){if(s.children===i.children&&!qi.current){e=Ha(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ua(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Z4(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(rt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Z4(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hf(e,n),i=Ys(i),r=r(i),e.flags|=1,Ri(t,e,r,n),e.child;case 14:return r=e.type,i=lo(r,e.pendingProps),i=lo(r.type,i),D_(t,e,r,i,n);case 15:return uP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),Hm(t,e),e.tag=1,$i(r)?(t=!0,_1(e)):t=!1,Hf(e,n),Nb(e,r,i),q4(e,r,i,n),t8(null,e,r,!0,t,n);case 19:return pP(t,e,n);case 22:return cP(t,e,n)}throw Error(rt(156,e.tag))};function RP(t,e){return nb(t,e)}function IU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,r){return new IU(t,e,n,r)}function J9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LU(t){if(typeof t=="function")return J9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===h9)return 11;if(t===d9)return 14}return 2}function Hl(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")J9(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gf:return qu(n.children,i,s,e);case f9:o=8,i|=8;break;case _4:return t=js(12,n,e,i|2),t.elementType=_4,t.lanes=s,t;case M4:return t=js(13,n,e,i),t.elementType=M4,t.lanes=s,t;case A4:return t=js(19,n,e,i),t.elementType=A4,t.lanes=s,t;case OC:return zg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UC:o=10;break e;case NC:o=9;break e;case h9:o=11;break e;case d9:o=14;break e;case xl:o=16,r=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=js(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qu(t,e,n,r){return t=js(7,t,r,e),t.lanes=n,t}function zg(t,e,n,r){return t=js(22,t,r,e),t.elementType=OC,t.lanes=n,t.stateNode={isHidden:!1},t}function Z5(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function Q5(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D5(0),this.expirationTimes=D5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y9(t,e,n,r,i,s,o,a,l){return t=new FU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D9(s),t}function kU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DP(t){if(!t)return Yl;t=t._reactInternals;e:{if(Sc(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var n=t.type;if($i(n))return Rb(t,n,e)}return e}function BP(t,e,n,r,i,s,o,a,l){return t=Y9(n,r,!0,t,i,s,o,a,l),t.context=DP(null),n=t.current,r=Li(),i=Gl(n),s=Ua(r,i),s.callback=e??null,Ol(n,s,i),t.current.lanes=i,M0(t,i,r),es(t,r),t}function Gg(t,e,n,r){var i=e.current,s=Li(),o=Gl(i);return n=DP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ua(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ol(i,e,o),t!==null&&(_o(t,i,o,s),Om(t,i,o)),o}function F1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function K9(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function UU(){return null}var IP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Z9(t){this._internalRoot=t}Hg.prototype.render=Z9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));Gg(t,e,null,null)};Hg.prototype.unmount=Z9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cc(function(){Gg(null,t,null,null)}),e[za]=null}};function Hg(t){this._internalRoot=t}Hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=ub();t={blockedOn:null,target:t,priority:e};for(var n=0;n<El.length&&e!==0&&e<El[n].priority;n++);El.splice(n,0,t),n===0&&fb(t)}};function Q9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W_(){}function NU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=F1(o);s.call(u)}}var o=BP(e,r,t,0,null,!1,!1,"",W_);return t._reactRootContainer=o,t[za]=o.current,Op(t.nodeType===8?t.parentNode:t),cc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=F1(l);a.call(u)}}var l=Y9(t,0,!1,null,null,!1,!1,"",W_);return t._reactRootContainer=l,t[za]=l.current,Op(t.nodeType===8?t.parentNode:t),cc(function(){Gg(e,l,n,r)}),l}function Wg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=F1(o);a.call(l)}}Gg(e,o,t,i)}else o=NU(n,e,t,i,r);return F1(o)}ab=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yd(e.pendingLanes);n!==0&&(g9(e,n|1),es(e,wr()),!(Sn&6)&&(ih=wr()+500,eu()))}break;case 13:cc(function(){var r=Ga(t,1);if(r!==null){var i=Li();_o(r,t,1,i)}}),K9(t,1)}};v9=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=Li();_o(e,t,134217728,n)}K9(t,134217728)}};lb=function(t){if(t.tag===13){var e=Gl(t),n=Ga(t,e);if(n!==null){var r=Li();_o(n,t,e,r)}K9(t,e)}};ub=function(){return Dn};cb=function(t,e){var n=Dn;try{return Dn=t,e()}finally{Dn=n}};L4=function(t,e,n){switch(e){case"input":if(C4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lg(r);if(!i)throw Error(rt(90));GC(r),C4(r,i)}}}break;case"textarea":VC(t,n);break;case"select":e=n.value,e!=null&&Nf(t,!!n.multiple,e,!1)}};ZC=W9;QC=cc;var OU={usingClientEntryPoint:!1,Events:[E0,Sf,Lg,YC,KC,W9]},Sd={findFiberByHostInstance:zu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zU={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eb(t),t===null?null:t.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||UU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m2.isDisabled&&m2.supportsFiber)try{Rg=m2.inject(zU),Ko=m2}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OU;Ms.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q9(e))throw Error(rt(200));return kU(t,e,null,n)};Ms.createRoot=function(t,e){if(!Q9(t))throw Error(rt(299));var n=!1,r="",i=IP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y9(t,1,!1,null,null,n,!1,r,i),t[za]=e.current,Op(t.nodeType===8?t.parentNode:t),new Z9(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=eb(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return cc(t)};Ms.hydrate=function(t,e,n){if(!Vg(e))throw Error(rt(200));return Wg(null,t,e,!0,n)};Ms.hydrateRoot=function(t,e,n){if(!Q9(t))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=IP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BP(e,null,t,1,n??null,i,!1,s,o),t[za]=e.current,Op(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hg(e)};Ms.render=function(t,e,n){if(!Vg(e))throw Error(rt(200));return Wg(null,t,e,!1,n)};Ms.unmountComponentAtNode=function(t){if(!Vg(t))throw Error(rt(40));return t._reactRootContainer?(cc(function(){Wg(null,null,t,!1,function(){t._reactRootContainer=null,t[za]=null})}),!0):!1};Ms.unstable_batchedUpdates=W9;Ms.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vg(n))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return Wg(t,e,n,!1,r)};Ms.version="18.2.0-next-9e3b772b8-20220608";function LP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LP)}catch(t){console.error(t)}}LP(),BC.exports=Ms;var GU=BC.exports,j_=GU;S4.createRoot=j_.createRoot,S4.hydrateRoot=j_.hydrateRoot;var FP={exports:{}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=typeof Symbol=="function"&&Symbol.for,q9=Kr?Symbol.for("react.element"):60103,$9=Kr?Symbol.for("react.portal"):60106,jg=Kr?Symbol.for("react.fragment"):60107,Xg=Kr?Symbol.for("react.strict_mode"):60108,Jg=Kr?Symbol.for("react.profiler"):60114,Yg=Kr?Symbol.for("react.provider"):60109,Kg=Kr?Symbol.for("react.context"):60110,ex=Kr?Symbol.for("react.async_mode"):60111,Zg=Kr?Symbol.for("react.concurrent_mode"):60111,Qg=Kr?Symbol.for("react.forward_ref"):60112,qg=Kr?Symbol.for("react.suspense"):60113,HU=Kr?Symbol.for("react.suspense_list"):60120,$g=Kr?Symbol.for("react.memo"):60115,ev=Kr?Symbol.for("react.lazy"):60116,VU=Kr?Symbol.for("react.block"):60121,WU=Kr?Symbol.for("react.fundamental"):60117,jU=Kr?Symbol.for("react.responder"):60118,XU=Kr?Symbol.for("react.scope"):60119;function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q9:switch(t=t.type,t){case ex:case Zg:case jg:case Jg:case Xg:case qg:return t;default:switch(t=t&&t.$$typeof,t){case Kg:case Qg:case ev:case $g:case Yg:return t;default:return e}}case $9:return e}}}function kP(t){return Es(t)===Zg}Bn.AsyncMode=ex;Bn.ConcurrentMode=Zg;Bn.ContextConsumer=Kg;Bn.ContextProvider=Yg;Bn.Element=q9;Bn.ForwardRef=Qg;Bn.Fragment=jg;Bn.Lazy=ev;Bn.Memo=$g;Bn.Portal=$9;Bn.Profiler=Jg;Bn.StrictMode=Xg;Bn.Suspense=qg;Bn.isAsyncMode=function(t){return kP(t)||Es(t)===ex};Bn.isConcurrentMode=kP;Bn.isContextConsumer=function(t){return Es(t)===Kg};Bn.isContextProvider=function(t){return Es(t)===Yg};Bn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q9};Bn.isForwardRef=function(t){return Es(t)===Qg};Bn.isFragment=function(t){return Es(t)===jg};Bn.isLazy=function(t){return Es(t)===ev};Bn.isMemo=function(t){return Es(t)===$g};Bn.isPortal=function(t){return Es(t)===$9};Bn.isProfiler=function(t){return Es(t)===Jg};Bn.isStrictMode=function(t){return Es(t)===Xg};Bn.isSuspense=function(t){return Es(t)===qg};Bn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jg||t===Zg||t===Jg||t===Xg||t===qg||t===HU||typeof t=="object"&&t!==null&&(t.$$typeof===ev||t.$$typeof===$g||t.$$typeof===Yg||t.$$typeof===Kg||t.$$typeof===Qg||t.$$typeof===WU||t.$$typeof===jU||t.$$typeof===XU||t.$$typeof===VU)};Bn.typeOf=Es;FP.exports=Bn;var tx=FP.exports;function JU(t){function e(F,q,ee,X,K){for(var le=0,re=0,me=0,Ee=0,_e,ie,xe=0,Le=0,Ce,Be=Ce=_e=0,He=0,Te=0,Ye=0,We=0,De=ee.length,Q=De-1,O,ue="",Se="",Ge="",Ve="",ze;He<De;){if(ie=ee.charCodeAt(He),He===Q&&re+Ee+me+le!==0&&(re!==0&&(ie=re===47?10:47),Ee=me=le=0,De++,Q++),re+Ee+me+le===0){if(He===Q&&(0<Te&&(ue=ue.replace(d,"")),0<ue.trim().length)){switch(ie){case 32:case 9:case 59:case 13:case 10:break;default:ue+=ee.charAt(He)}ie=59}switch(ie){case 123:for(ue=ue.trim(),_e=ue.charCodeAt(0),Ce=1,We=++He;He<De;){switch(ie=ee.charCodeAt(He)){case 123:Ce++;break;case 125:Ce--;break;case 47:switch(ie=ee.charCodeAt(He+1)){case 42:case 47:e:{for(Be=He+1;Be<Q;++Be)switch(ee.charCodeAt(Be)){case 47:if(ie===42&&ee.charCodeAt(Be-1)===42&&He+2!==Be){He=Be+1;break e}break;case 10:if(ie===47){He=Be+1;break e}}He=Be}}break;case 91:ie++;case 40:ie++;case 34:case 39:for(;He++<Q&&ee.charCodeAt(He)!==ie;);}if(Ce===0)break;He++}switch(Ce=ee.substring(We,He),_e===0&&(_e=(ue=ue.replace(f,"").trim()).charCodeAt(0)),_e){case 64:switch(0<Te&&(ue=ue.replace(d,"")),ie=ue.charCodeAt(1),ie){case 100:case 109:case 115:case 45:Te=q;break;default:Te=H}if(Ce=e(q,Te,Ce,ie,K+1),We=Ce.length,0<N&&(Te=n(H,ue,Ye),ze=a(3,Ce,Te,q,j,G,We,ie,K,X),ue=Te.join(""),ze!==void 0&&(We=(Ce=ze.trim()).length)===0&&(ie=0,Ce="")),0<We)switch(ie){case 115:ue=ue.replace(C,o);case 100:case 109:case 45:Ce=ue+"{"+Ce+"}";break;case 107:ue=ue.replace(S,"$1 $2"),Ce=ue+"{"+Ce+"}",Ce=k===1||k===2&&s("@"+Ce,3)?"@-webkit-"+Ce+"@"+Ce:"@"+Ce;break;default:Ce=ue+Ce,X===112&&(Ce=(Se+=Ce,""))}else Ce="";break;default:Ce=e(q,n(q,ue,Ye),Ce,X,K+1)}Ge+=Ce,Ce=Ye=Te=Be=_e=0,ue="",ie=ee.charCodeAt(++He);break;case 125:case 59:if(ue=(0<Te?ue.replace(d,""):ue).trim(),1<(We=ue.length))switch(Be===0&&(_e=ue.charCodeAt(0),_e===45||96<_e&&123>_e)&&(We=(ue=ue.replace(" ",":")).length),0<N&&(ze=a(1,ue,q,F,j,G,Se.length,X,K,X))!==void 0&&(We=(ue=ze.trim()).length)===0&&(ue="\0\0"),_e=ue.charCodeAt(0),ie=ue.charCodeAt(1),_e){case 0:break;case 64:if(ie===105||ie===99){Ve+=ue+ee.charAt(He);break}default:ue.charCodeAt(We-1)!==58&&(Se+=i(ue,_e,ie,ue.charCodeAt(2)))}Ye=Te=Be=_e=0,ue="",ie=ee.charCodeAt(++He)}}switch(ie){case 13:case 10:re===47?re=0:1+_e===0&&X!==107&&0<ue.length&&(Te=1,ue+="\0"),0<N*Z&&a(0,ue,q,F,j,G,Se.length,X,K,X),G=1,j++;break;case 59:case 125:if(re+Ee+me+le===0){G++;break}default:switch(G++,O=ee.charAt(He),ie){case 9:case 32:if(Ee+le+re===0)switch(xe){case 44:case 58:case 9:case 32:O="";break;default:ie!==32&&(O=" ")}break;case 0:O="\\0";break;case 12:O="\\f";break;case 11:O="\\v";break;case 38:Ee+re+le===0&&(Te=Ye=1,O="\f"+O);break;case 108:if(Ee+re+le+D===0&&0<Be)switch(He-Be){case 2:xe===112&&ee.charCodeAt(He-3)===58&&(D=xe);case 8:Le===111&&(D=Le)}break;case 58:Ee+re+le===0&&(Be=He);break;case 44:re+me+Ee+le===0&&(Te=1,O+="\r");break;case 34:case 39:re===0&&(Ee=Ee===ie?0:Ee===0?ie:Ee);break;case 91:Ee+re+me===0&&le++;break;case 93:Ee+re+me===0&&le--;break;case 41:Ee+re+le===0&&me--;break;case 40:if(Ee+re+le===0){if(_e===0)switch(2*xe+3*Le){case 533:break;default:_e=1}me++}break;case 64:re+me+Ee+le+Be+Ce===0&&(Ce=1);break;case 42:case 47:if(!(0<Ee+le+me))switch(re){case 0:switch(2*ie+3*ee.charCodeAt(He+1)){case 235:re=47;break;case 220:We=He,re=42}break;case 42:ie===47&&xe===42&&We+2!==He&&(ee.charCodeAt(We+2)===33&&(Se+=ee.substring(We,He+1)),O="",re=0)}}re===0&&(ue+=O)}Le=xe,xe=ie,He++}if(We=Se.length,0<We){if(Te=q,0<N&&(ze=a(2,Se,Te,F,j,G,We,X,K,X),ze!==void 0&&(Se=ze).length===0))return Ve+Se+Ge;if(Se=Te.join(",")+"{"+Se+"}",k*D!==0){switch(k!==2||s(Se,2)||(D=0),D){case 111:Se=Se.replace(M,":-moz-$1")+Se;break;case 112:Se=Se.replace(x,"::-webkit-input-$1")+Se.replace(x,"::-moz-$1")+Se.replace(x,":-ms-input-$1")+Se}D=0}}return Ve+Se+Ge}function n(F,q,ee){var X=q.trim().split(y);q=X;var K=X.length,le=F.length;switch(le){case 0:case 1:var re=0;for(F=le===0?"":F[0]+" ";re<K;++re)q[re]=r(F,q[re],ee).trim();break;default:var me=re=0;for(q=[];re<K;++re)for(var Ee=0;Ee<le;++Ee)q[me++]=r(F[Ee]+" ",X[re],ee).trim()}return q}function r(F,q,ee){var X=q.charCodeAt(0);switch(33>X&&(X=(q=q.trim()).charCodeAt(0)),X){case 38:return q.replace(w,"$1"+F.trim());case 58:return F.trim()+q.replace(w,"$1"+F.trim());default:if(0<1*ee&&0<q.indexOf("\f"))return q.replace(w,(F.charCodeAt(0)===58?"":"$1")+F.trim())}return F+q}function i(F,q,ee,X){var K=F+";",le=2*q+3*ee+4*X;if(le===944){F=K.indexOf(":",9)+1;var re=K.substring(F,K.length-1).trim();return re=K.substring(0,F).trim()+re+";",k===1||k===2&&s(re,1)?"-webkit-"+re+re:re}if(k===0||k===2&&!s(K,1))return K;switch(le){case 1015:return K.charCodeAt(10)===97?"-webkit-"+K+K:K;case 951:return K.charCodeAt(3)===116?"-webkit-"+K+K:K;case 963:return K.charCodeAt(5)===110?"-webkit-"+K+K:K;case 1009:if(K.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+K+K;case 978:return"-webkit-"+K+"-moz-"+K+K;case 1019:case 983:return"-webkit-"+K+"-moz-"+K+"-ms-"+K+K;case 883:if(K.charCodeAt(8)===45)return"-webkit-"+K+K;if(0<K.indexOf("image-set(",11))return K.replace(U,"$1-webkit-$2")+K;break;case 932:if(K.charCodeAt(4)===45)switch(K.charCodeAt(5)){case 103:return"-webkit-box-"+K.replace("-grow","")+"-webkit-"+K+"-ms-"+K.replace("grow","positive")+K;case 115:return"-webkit-"+K+"-ms-"+K.replace("shrink","negative")+K;case 98:return"-webkit-"+K+"-ms-"+K.replace("basis","preferred-size")+K}return"-webkit-"+K+"-ms-"+K+K;case 964:return"-webkit-"+K+"-ms-flex-"+K+K;case 1023:if(K.charCodeAt(8)!==99)break;return re=K.substring(K.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+re+"-webkit-"+K+"-ms-flex-pack"+re+K;case 1005:return g.test(K)?K.replace(m,":-webkit-")+K.replace(m,":-moz-")+K:K;case 1e3:switch(re=K.substring(13).trim(),q=re.indexOf("-")+1,re.charCodeAt(0)+re.charCodeAt(q)){case 226:re=K.replace(E,"tb");break;case 232:re=K.replace(E,"tb-rl");break;case 220:re=K.replace(E,"lr");break;default:return K}return"-webkit-"+K+"-ms-"+re+K;case 1017:if(K.indexOf("sticky",9)===-1)break;case 975:switch(q=(K=F).length-10,re=(K.charCodeAt(q)===33?K.substring(0,q):K).substring(F.indexOf(":",7)+1).trim(),le=re.charCodeAt(0)+(re.charCodeAt(7)|0)){case 203:if(111>re.charCodeAt(8))break;case 115:K=K.replace(re,"-webkit-"+re)+";"+K;break;case 207:case 102:K=K.replace(re,"-webkit-"+(102<le?"inline-":"")+"box")+";"+K.replace(re,"-webkit-"+re)+";"+K.replace(re,"-ms-"+re+"box")+";"+K}return K+";";case 938:if(K.charCodeAt(5)===45)switch(K.charCodeAt(6)){case 105:return re=K.replace("-items",""),"-webkit-"+K+"-webkit-box-"+re+"-ms-flex-"+re+K;case 115:return"-webkit-"+K+"-ms-flex-item-"+K.replace(T,"")+K;default:return"-webkit-"+K+"-ms-flex-line-pack"+K.replace("align-content","").replace(T,"")+K}break;case 973:case 989:if(K.charCodeAt(3)!==45||K.charCodeAt(4)===122)break;case 931:case 953:if(I.test(F)===!0)return(re=F.substring(F.indexOf(":")+1)).charCodeAt(0)===115?i(F.replace("stretch","fill-available"),q,ee,X).replace(":fill-available",":stretch"):K.replace(re,"-webkit-"+re)+K.replace(re,"-moz-"+re.replace("fill-",""))+K;break;case 962:if(K="-webkit-"+K+(K.charCodeAt(5)===102?"-ms-"+K:"")+K,ee+X===211&&K.charCodeAt(13)===105&&0<K.indexOf("transform",10))return K.substring(0,K.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+K}return K}function s(F,q){var ee=F.indexOf(q===1?":":"{"),X=F.substring(0,q!==3?ee:10);return ee=F.substring(ee+1,F.length-1),W(q!==2?X:X.replace(R,"$1"),ee,q)}function o(F,q){var ee=i(q,q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2));return ee!==q+";"?ee.replace(P," or ($1)").substring(4):"("+q+")"}function a(F,q,ee,X,K,le,re,me,Ee,_e){for(var ie=0,xe=q,Le;ie<N;++ie)switch(Le=oe[ie].call(c,F,xe,ee,X,K,le,re,me,Ee,_e)){case void 0:case!1:case!0:case null:break;default:xe=Le}if(xe!==q)return xe}function l(F){switch(F){case void 0:case null:N=oe.length=0;break;default:if(typeof F=="function")oe[N++]=F;else if(typeof F=="object")for(var q=0,ee=F.length;q<ee;++q)l(F[q]);else Z=!!F|0}return l}function u(F){return F=F.prefix,F!==void 0&&(W=null,F?typeof F!="function"?k=1:(k=2,W=F):k=0),u}function c(F,q){var ee=F;if(33>ee.charCodeAt(0)&&(ee=ee.trim()),Y=ee,ee=[Y],0<N){var X=a(-1,q,ee,ee,j,G,0,0,0,0);X!==void 0&&typeof X=="string"&&(q=X)}var K=e(H,ee,q,0,0);return 0<N&&(X=a(-2,K,ee,ee,j,G,K.length,0,0,0),X!==void 0&&(K=X)),Y="",D=0,G=j=1,K}var f=/^\0+/g,d=/[\0\r\f]/g,m=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,y=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,S=/@(k\w+)\s*(\S*)\s*/,x=/::(place)/g,M=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,P=/([\s\S]*?);/g,T=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,U=/([^-])(image-set\()/,G=1,j=1,D=0,k=1,H=[],oe=[],N=0,W=null,Z=0,Y="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var YU={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function KU(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ZU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,X_=KU(function(t){return ZU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),nx=tx,QU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$U={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},UP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rx={};rx[nx.ForwardRef]=$U;rx[nx.Memo]=UP;function J_(t){return nx.isMemo(t)?UP:rx[t.$$typeof]||QU}var eN=Object.defineProperty,tN=Object.getOwnPropertyNames,Y_=Object.getOwnPropertySymbols,nN=Object.getOwnPropertyDescriptor,rN=Object.getPrototypeOf,K_=Object.prototype;function NP(t,e,n){if(typeof e!="string"){if(K_){var r=rN(e);r&&r!==K_&&NP(t,r,n)}var i=tN(e);Y_&&(i=i.concat(Y_(e)));for(var s=J_(t),o=J_(e),a=0;a<i.length;++a){var l=i[a];if(!qU[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=nN(e,l);try{eN(t,l,u)}catch{}}}}return t}var iN=NP;const sN=w0(iN);function Ba(){return(Ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Z_=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},d8=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!tx.typeOf(t)},k1=Object.freeze([]),Vl=Object.freeze({});function Yp(t){return typeof t=="function"}function Q_(t){return t.displayName||t.name||"Component"}function ix(t){return t&&typeof t.styledComponentId=="string"}var sh=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",sx=typeof window<"u"&&"HTMLElement"in window,oN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function C0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var aN=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&C0(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Xm=new Map,U1=new Map,mp=1,g2=function(t){if(Xm.has(t))return Xm.get(t);for(;U1.has(mp);)mp++;var e=mp++;return Xm.set(t,e),U1.set(e,t),e},lN=function(t){return U1.get(t)},uN=function(t,e){e>=mp&&(mp=e+1),Xm.set(t,e),U1.set(e,t)},cN="style["+sh+'][data-styled-version="5.3.11"]',fN=new RegExp("^"+sh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),hN=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},dN=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(fN);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(uN(u,l),hN(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},pN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},OP=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(sh))return c}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(sh,"active"),r.setAttribute("data-styled-version","5.3.11");var o=pN();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},mN=function(){function t(n){var r=this.element=OP(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}C0(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),gN=function(){function t(n){var r=this.element=OP(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),vN=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),q_=sx,yN={isServer:!sx,useCSSOMInjection:!oN},zP=function(){function t(n,r,i){n===void 0&&(n=Vl),r===void 0&&(r={}),this.options=Ba({},yN,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&sx&&q_&&(q_=!1,function(s){for(var o=document.querySelectorAll(cN),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(sh)!=="active"&&(dN(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return g2(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Ba({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new vN(o):s?new mN(o):new gN(o),new aN(n)));var n,r,i,s,o},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(g2(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(g2(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(g2(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=lN(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=sh+".g"+o+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(d){d.length>0&&(f+=d+",")}),s+=""+u+c+'{content:"'+f+`"}/*!sc*/
`}}}return s}(this)},t}(),xN=/(a)(d)/gi,$_=function(t){return String.fromCharCode(t+(t>25?39:97))};function p8(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=$_(e%52)+n;return($_(e%52)+n).replace(xN,"$1-$2")}var Cf=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},GP=function(t){return Cf(5381,t)};function SN(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yp(n)&&!ix(n))return!1}return!0}var wN=GP("5.3.11"),_N=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&SN(e),this.componentId=n,this.baseHash=Cf(wN,n),this.baseStyle=r,zP.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=oh(this.rules,e,n,r).join(""),a=p8(Cf(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Cf(this.baseHash,r.hash),f="",d=0;d<u;d++){var m=this.rules[d];if(typeof m=="string")f+=m;else if(m){var g=oh(m,e,n,r),v=Array.isArray(g)?g.join(""):g;c=Cf(c,v+d),f+=v}}if(f){var y=p8(c>>>0);if(!n.hasNameForId(i,y)){var w=r(f,"."+y,void 0,i);n.insertRules(i,y,w)}s.push(y)}}return s.join(" ")},t}(),MN=/^\s*\/\/.*$/gm,AN=[":","[",".","#"];function EN(t){var e,n,r,i,s=t===void 0?Vl:t,o=s.options,a=o===void 0?Vl:o,l=s.plugins,u=l===void 0?k1:l,c=new JU(a),f=[],d=function(v){function y(w){if(w)try{v(w+"}")}catch{}}return function(w,S,x,M,E,C,P,T,R,I){switch(w){case 1:if(R===0&&S.charCodeAt(0)===64)return v(S+";"),"";break;case 2:if(T===0)return S+"/*|*/";break;case 3:switch(T){case 102:case 112:return v(x[0]+S),"";default:return S+(I===0?"/*|*/":"")}case-2:S.split("/*|*/}").forEach(y)}}}(function(v){f.push(v)}),m=function(v,y,w){return y===0&&AN.indexOf(w[n.length])!==-1||w.match(i)?v:"."+e};function g(v,y,w,S){S===void 0&&(S="&");var x=v.replace(MN,""),M=y&&w?w+" "+y+" { "+x+" }":x;return e=S,n=y,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(w||!y?"":y,M)}return c.use([].concat(u,[function(v,y,w){v===2&&w.length&&w[0].lastIndexOf(n)>0&&(w[0]=w[0].replace(r,m))},d,function(v){if(v===-2){var y=f;return f=[],y}}])),g.hash=u.length?u.reduce(function(v,y){return y.name||C0(15),Cf(v,y.name)},5381).toString():"",g}var HP=Rn.createContext();HP.Consumer;var VP=Rn.createContext(),TN=(VP.Consumer,new zP),m8=EN();function CN(){return z.useContext(HP)||TN}function bN(){return z.useContext(VP)||m8}var PN=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=m8);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return C0(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=m8),this.name+e.hash},t}(),RN=/([A-Z])/,DN=/([A-Z])/g,BN=/^ms-/,IN=function(t){return"-"+t.toLowerCase()};function eM(t){return RN.test(t)?t.replace(DN,IN).replace(BN,"-ms-"):t}var tM=function(t){return t==null||t===!1||t===""};function oh(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=oh(t[o],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(tM(t))return"";if(ix(t))return"."+t.styledComponentId;if(Yp(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return oh(l,e,n,r)}var u;return t instanceof PN?n?(t.inject(n,r),t.getName(r)):t:d8(t)?function c(f,d){var m,g,v=[];for(var y in f)f.hasOwnProperty(y)&&!tM(f[y])&&(Array.isArray(f[y])&&f[y].isCss||Yp(f[y])?v.push(eM(y)+":",f[y],";"):d8(f[y])?v.push.apply(v,c(f[y],y)):v.push(eM(y)+": "+(m=y,(g=f[y])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in YU||m.startsWith("--")?String(g).trim():g+"px")+";"));return d?[d+" {"].concat(v,["}"]):v}(t):t.toString()}var nM=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function LN(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Yp(t)||d8(t)?nM(oh(Z_(k1,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:nM(oh(Z_(t,n)))}var FN=function(t,e,n){return n===void 0&&(n=Vl),t.theme!==n.theme&&t.theme||e||n.theme},kN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,UN=/(^-|-$)/g;function q5(t){return t.replace(kN,"-").replace(UN,"")}var NN=function(t){return p8(GP(t)>>>0)};function v2(t){return typeof t=="string"&&!0}var g8=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},ON=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function zN(t,e,n){var r=t[n];g8(e)&&g8(r)?WP(r,e):t[n]=e}function WP(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(g8(o))for(var a in o)ON(a)&&zN(t,o[a],a)}return t}var jP=Rn.createContext();jP.Consumer;var $5={};function XP(t,e,n){var r=ix(t),i=!v2(t),s=e.attrs,o=s===void 0?k1:s,a=e.componentId,l=a===void 0?function(S,x){var M=typeof S!="string"?"sc":q5(S);$5[M]=($5[M]||0)+1;var E=M+"-"+NN("5.3.11"+M+$5[M]);return x?x+"-"+E:E}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(S){return v2(S)?"styled."+S:"Styled("+Q_(S)+")"}(t):u,f=e.displayName&&e.componentId?q5(e.displayName)+"-"+e.componentId:e.componentId||l,d=r&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&t.shouldForwardProp&&(m=e.shouldForwardProp?function(S,x,M){return t.shouldForwardProp(S,x,M)&&e.shouldForwardProp(S,x,M)}:t.shouldForwardProp);var g,v=new _N(n,f,r?t.componentStyle:void 0),y=v.isStatic&&o.length===0,w=function(S,x){return function(M,E,C,P){var T=M.attrs,R=M.componentStyle,I=M.defaultProps,U=M.foldedComponentIds,G=M.shouldForwardProp,j=M.styledComponentId,D=M.target,k=function(X,K,le){X===void 0&&(X=Vl);var re=Ba({},K,{theme:X}),me={};return le.forEach(function(Ee){var _e,ie,xe,Le=Ee;for(_e in Yp(Le)&&(Le=Le(re)),Le)re[_e]=me[_e]=_e==="className"?(ie=me[_e],xe=Le[_e],ie&&xe?ie+" "+xe:ie||xe):Le[_e]}),[re,me]}(FN(E,z.useContext(jP),I)||Vl,E,T),H=k[0],oe=k[1],N=function(X,K,le,re){var me=CN(),Ee=bN(),_e=K?X.generateAndInjectStyles(Vl,me,Ee):X.generateAndInjectStyles(le,me,Ee);return _e}(R,P,H),W=C,Z=oe.$as||E.$as||oe.as||E.as||D,Y=v2(Z),F=oe!==E?Ba({},E,{},oe):E,q={};for(var ee in F)ee[0]!=="$"&&ee!=="as"&&(ee==="forwardedAs"?q.as=F[ee]:(G?G(ee,X_,Z):!Y||X_(ee))&&(q[ee]=F[ee]));return E.style&&oe.style!==E.style&&(q.style=Ba({},E.style,{},oe.style)),q.className=Array.prototype.concat(U,j,N!==j?N:null,E.className,oe.className).filter(Boolean).join(" "),q.ref=W,z.createElement(Z,q)}(g,S,x,y)};return w.displayName=c,(g=Rn.forwardRef(w)).attrs=d,g.componentStyle=v,g.displayName=c,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):k1,g.styledComponentId=f,g.target=r?t.target:t,g.withComponent=function(S){var x=e.componentId,M=function(C,P){if(C==null)return{};var T,R,I={},U=Object.keys(C);for(R=0;R<U.length;R++)T=U[R],P.indexOf(T)>=0||(I[T]=C[T]);return I}(e,["componentId"]),E=x&&x+"-"+(v2(S)?S:q5(Q_(S)));return XP(S,Ba({},M,{attrs:d,componentId:E}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?WP({},t.defaultProps,S):S}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),i&&sN(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var v8=function(t){return function e(n,r,i){if(i===void 0&&(i=Vl),!tx.isValidElementType(r))return C0(1,String(r));var s=function(){return n(r,i,LN.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,r,Ba({},i,{},o))},s.attrs=function(o){return e(n,r,Ba({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(XP,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){v8[t]=v8(t)});const Ft=v8,Kp={_origin:"https://api.emailjs.com"},GN=(t,e="https://api.emailjs.com")=>{Kp._userID=t,Kp._origin=e},JP=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class rM{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const YP=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new rM(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new rM(o))}),s.open("POST",Kp._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),HN=(t,e,n,r)=>{const i=r||Kp._userID;return JP(i,t,e),YP("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},VN=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},WN=(t,e,n,r)=>{const i=r||Kp._userID,s=VN(n);JP(i,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),YP("/api/v1.0/email/send-form",o)},jN={init:GN,send:HN,sendForm:WN};var KP={exports:{}},XN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JN=XN,YN=JN;function ZP(){}function QP(){}QP.resetWarningCache=ZP;var KN=function(){function t(r,i,s,o,a,l){if(l!==YN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QP,resetWarningCache:ZP};return n.PropTypes=n,n};KP.exports=KN();var ZN=KP.exports;const lt=w0(ZN);class vi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(n[r++]=a),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}function*QN(t){for(const e of t)yield*e}function qP(t){return Array.from(QN(t))}function bf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var Pt=1e-6,Zp=1e-12,sn=Math.PI,dr=sn/2,N1=sn/4,Fi=sn*2,kn=180/sn,Rt=sn/180,dn=Math.abs,Ch=Math.atan,ki=Math.atan2,_t=Math.cos,y2=Math.ceil,$P=Math.exp,y8=Math.hypot,O1=Math.log,e6=Math.pow,vt=Math.sin,Xs=Math.sign||function(t){return t>0?1:t<0?-1:0},Jr=Math.sqrt,ox=Math.tan;function eR(t){return t>1?0:t<-1?sn:Math.acos(t)}function Ui(t){return t>1?dr:t<-1?-dr:Math.asin(t)}function iM(t){return(t=vt(t/2))*t}function rr(){}function z1(t,e){t&&oM.hasOwnProperty(t.type)&&oM[t.type](t,e)}var sM={Feature:function(t,e){z1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)z1(n[r].geometry,e)}},oM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){x8(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)x8(n[r],e,0)},Polygon:function(t,e){aM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)aM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)z1(n[r],e)}};function x8(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function aM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)x8(t[n],e,1);e.polygonEnd()}function mo(t,e){t&&sM.hasOwnProperty(t.type)?sM[t.type](t,e):z1(t,e)}var G1=new vi,H1=new vi,tR,nR,S8,w8,_8,ta={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){G1=new vi,ta.lineStart=qN,ta.lineEnd=$N},polygonEnd:function(){var t=+G1;H1.add(t<0?Fi+t:t),this.lineStart=this.lineEnd=this.point=rr},sphere:function(){H1.add(Fi)}};function qN(){ta.point=eO}function $N(){rR(tR,nR)}function eO(t,e){ta.point=rR,tR=t,nR=e,t*=Rt,e*=Rt,S8=t,w8=_t(e=e/2+N1),_8=vt(e)}function rR(t,e){t*=Rt,e*=Rt,e=e/2+N1;var n=t-S8,r=n>=0?1:-1,i=r*n,s=_t(e),o=vt(e),a=_8*o,l=w8*s+a*_t(i),u=a*r*vt(i);G1.add(ki(u,l)),S8=t,w8=s,_8=o}function tO(t){return H1=new vi,mo(t,ta),H1*2}function V1(t){return[ki(t[1],t[0]),Ui(t[2])]}function fc(t){var e=t[0],n=t[1],r=_t(n);return[r*_t(e),r*vt(e),vt(n)]}function x2(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ah(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function t6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function S2(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function W1(t){var e=Jr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tr,Yi,fr,gs,Iu,iR,sR,Wf,gp,wl,Va,Ta={point:M8,lineStart:lM,lineEnd:uM,polygonStart:function(){Ta.point=aR,Ta.lineStart=nO,Ta.lineEnd=rO,gp=new vi,ta.polygonStart()},polygonEnd:function(){ta.polygonEnd(),Ta.point=M8,Ta.lineStart=lM,Ta.lineEnd=uM,G1<0?(tr=-(fr=180),Yi=-(gs=90)):gp>Pt?gs=90:gp<-Pt&&(Yi=-90),Va[0]=tr,Va[1]=fr},sphere:function(){tr=-(fr=180),Yi=-(gs=90)}};function M8(t,e){wl.push(Va=[tr=t,fr=t]),e<Yi&&(Yi=e),e>gs&&(gs=e)}function oR(t,e){var n=fc([t*Rt,e*Rt]);if(Wf){var r=ah(Wf,n),i=[r[1],-r[0],0],s=ah(i,r);W1(s),s=V1(s);var o=t-Iu,a=o>0?1:-1,l=s[0]*kn*a,u,c=dn(o)>180;c^(a*Iu<l&&l<a*t)?(u=s[1]*kn,u>gs&&(gs=u)):(l=(l+360)%360-180,c^(a*Iu<l&&l<a*t)?(u=-s[1]*kn,u<Yi&&(Yi=u)):(e<Yi&&(Yi=e),e>gs&&(gs=e))),c?t<Iu?ms(tr,t)>ms(tr,fr)&&(fr=t):ms(t,fr)>ms(tr,fr)&&(tr=t):fr>=tr?(t<tr&&(tr=t),t>fr&&(fr=t)):t>Iu?ms(tr,t)>ms(tr,fr)&&(fr=t):ms(t,fr)>ms(tr,fr)&&(tr=t)}else wl.push(Va=[tr=t,fr=t]);e<Yi&&(Yi=e),e>gs&&(gs=e),Wf=n,Iu=t}function lM(){Ta.point=oR}function uM(){Va[0]=tr,Va[1]=fr,Ta.point=M8,Wf=null}function aR(t,e){if(Wf){var n=t-Iu;gp.add(dn(n)>180?n+(n>0?360:-360):n)}else iR=t,sR=e;ta.point(t,e),oR(t,e)}function nO(){ta.lineStart()}function rO(){aR(iR,sR),ta.lineEnd(),dn(gp)>Pt&&(tr=-(fr=180)),Va[0]=tr,Va[1]=fr,Wf=null}function ms(t,e){return(e-=t)<0?e+360:e}function iO(t,e){return t[0]-e[0]}function cM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function sO(t){var e,n,r,i,s,o,a;if(gs=fr=-(tr=Yi=1/0),wl=[],mo(t,Ta),n=wl.length){for(wl.sort(iO),e=1,r=wl[0],s=[r];e<n;++e)i=wl[e],cM(r,i[0])||cM(r,i[1])?(ms(r[0],i[1])>ms(r[0],r[1])&&(r[1]=i[1]),ms(i[0],r[1])>ms(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=i,++e)i=s[e],(a=ms(r[1],i[0]))>o&&(o=a,tr=i[0],fr=r[1])}return wl=Va=null,tr===1/0||Yi===1/0?[[NaN,NaN],[NaN,NaN]]:[[tr,Yi],[fr,gs]]}var Zd,j1,X1,J1,Y1,K1,Z1,Q1,A8,E8,T8,lR,uR,Di,Bi,Ii,vo={sphere:rr,point:ax,lineStart:fM,lineEnd:hM,polygonStart:function(){vo.lineStart=lO,vo.lineEnd=uO},polygonEnd:function(){vo.lineStart=fM,vo.lineEnd=hM}};function ax(t,e){t*=Rt,e*=Rt;var n=_t(e);b0(n*_t(t),n*vt(t),vt(e))}function b0(t,e,n){++Zd,X1+=(t-X1)/Zd,J1+=(e-J1)/Zd,Y1+=(n-Y1)/Zd}function fM(){vo.point=oO}function oO(t,e){t*=Rt,e*=Rt;var n=_t(e);Di=n*_t(t),Bi=n*vt(t),Ii=vt(e),vo.point=aO,b0(Di,Bi,Ii)}function aO(t,e){t*=Rt,e*=Rt;var n=_t(e),r=n*_t(t),i=n*vt(t),s=vt(e),o=ki(Jr((o=Bi*s-Ii*i)*o+(o=Ii*r-Di*s)*o+(o=Di*i-Bi*r)*o),Di*r+Bi*i+Ii*s);j1+=o,K1+=o*(Di+(Di=r)),Z1+=o*(Bi+(Bi=i)),Q1+=o*(Ii+(Ii=s)),b0(Di,Bi,Ii)}function hM(){vo.point=ax}function lO(){vo.point=cO}function uO(){cR(lR,uR),vo.point=ax}function cO(t,e){lR=t,uR=e,t*=Rt,e*=Rt,vo.point=cR;var n=_t(e);Di=n*_t(t),Bi=n*vt(t),Ii=vt(e),b0(Di,Bi,Ii)}function cR(t,e){t*=Rt,e*=Rt;var n=_t(e),r=n*_t(t),i=n*vt(t),s=vt(e),o=Bi*s-Ii*i,a=Ii*r-Di*s,l=Di*i-Bi*r,u=y8(o,a,l),c=Ui(u),f=u&&-c/u;A8.add(f*o),E8.add(f*a),T8.add(f*l),j1+=c,K1+=c*(Di+(Di=r)),Z1+=c*(Bi+(Bi=i)),Q1+=c*(Ii+(Ii=s)),b0(Di,Bi,Ii)}function fO(t){Zd=j1=X1=J1=Y1=K1=Z1=Q1=0,A8=new vi,E8=new vi,T8=new vi,mo(t,vo);var e=+A8,n=+E8,r=+T8,i=y8(e,n,r);return i<Zp&&(e=K1,n=Z1,r=Q1,j1<Pt&&(e=X1,n=J1,r=Y1),i=y8(e,n,r),i<Zp)?[NaN,NaN]:[ki(n,e)*kn,Ui(r/i)*kn]}function Hc(t){return function(){return t}}function C8(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function b8(t,e){return[dn(t)>sn?t+Math.round(-t/Fi)*Fi:t,e]}b8.invert=b8;function lx(t,e,n){return(t%=Fi)?e||n?C8(pM(t),mM(e,n)):pM(t):e||n?mM(e,n):b8}function dM(t){return function(e,n){return e+=t,[e>sn?e-Fi:e<-sn?e+Fi:e,n]}}function pM(t){var e=dM(t);return e.invert=dM(-t),e}function mM(t,e){var n=_t(t),r=vt(t),i=_t(e),s=vt(e);function o(a,l){var u=_t(l),c=_t(a)*u,f=vt(a)*u,d=vt(l),m=d*n+c*r;return[ki(f*i-m*s,c*n-d*r),Ui(m*i+f*s)]}return o.invert=function(a,l){var u=_t(l),c=_t(a)*u,f=vt(a)*u,d=vt(l),m=d*i-f*s;return[ki(f*i+d*s,c*n+m*r),Ui(m*n-c*r)]},o}function fR(t){t=lx(t[0]*Rt,t[1]*Rt,t.length>2?t[2]*Rt:0);function e(n){return n=t(n[0]*Rt,n[1]*Rt),n[0]*=kn,n[1]*=kn,n}return e.invert=function(n){return n=t.invert(n[0]*Rt,n[1]*Rt),n[0]*=kn,n[1]*=kn,n},e}function hR(t,e,n,r,i,s){if(n){var o=_t(e),a=vt(e),l=r*n;i==null?(i=e+r*Fi,s=e-l/2):(i=gM(o,i),s=gM(o,s),(r>0?i<s:i>s)&&(i+=r*Fi));for(var u,c=i;r>0?c>s:c<s;c-=l)u=V1([o,-a*_t(c),-a*vt(c)]),t.point(u[0],u[1])}}function gM(t,e){e=fc(e),e[0]-=t,W1(e);var n=eR(-e[1]);return((-e[2]<0?-n:n)+Fi-Pt)%Fi}function hO(){var t=Hc([0,0]),e=Hc(90),n=Hc(6),r,i,s={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=kn,l[1]*=kn}function a(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*Rt,c=n.apply(this,arguments)*Rt;return r=[],i=lx(-l[0]*Rt,-l[1]*Rt,0).invert,hR(s,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(t=typeof l=="function"?l:Hc([+l[0],+l[1]]),a):t},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Hc(+l),a):e},a.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Hc(+l),a):n},a}function dR(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:rr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Jm(t,e){return dn(t[0]-e[0])<Pt&&dn(t[1]-e[1])<Pt}function w2(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function pR(t,e,n,r,i){var s=[],o=[],a,l;if(t.forEach(function(g){if(!((v=g.length-1)<=0)){var v,y=g[0],w=g[v],S;if(Jm(y,w)){if(!y[2]&&!w[2]){for(i.lineStart(),a=0;a<v;++a)i.point((y=g[a])[0],y[1]);i.lineEnd();return}w[0]+=2*Pt}s.push(S=new w2(y,g,null,!0)),o.push(S.o=new w2(y,null,S,!1)),s.push(S=new w2(w,g,null,!1)),o.push(S.o=new w2(w,null,S,!0))}}),!!s.length){for(o.sort(e),vM(s),vM(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,f;;){for(var d=u,m=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(m)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(m)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,m=!m}while(!d.v);i.lineEnd()}}}function vM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function n6(t){return dn(t[0])<=sn?t[0]:Xs(t[0])*((dn(t[0])+sn)%Fi-sn)}function mR(t,e){var n=n6(e),r=e[1],i=vt(r),s=[vt(n),-_t(n),0],o=0,a=0,l=new vi;i===1?r=dr+Pt:i===-1&&(r=-dr-Pt);for(var u=0,c=t.length;u<c;++u)if(d=(f=t[u]).length)for(var f,d,m=f[d-1],g=n6(m),v=m[1]/2+N1,y=vt(v),w=_t(v),S=0;S<d;++S,g=M,y=C,w=P,m=x){var x=f[S],M=n6(x),E=x[1]/2+N1,C=vt(E),P=_t(E),T=M-g,R=T>=0?1:-1,I=R*T,U=I>sn,G=y*C;if(l.add(ki(G*R*vt(I),w*P+G*_t(I))),o+=U?T+R*Fi:T,U^g>=n^M>=n){var j=ah(fc(m),fc(x));W1(j);var D=ah(s,j);W1(D);var k=(U^T>=0?-1:1)*Ui(D[2]);(r>k||r===k&&(j[0]||j[1]))&&(a+=U^T>=0?1:-1)}}return(o<-Pt||o<Pt&&l<-Zp)^a&1}function gR(t,e,n,r){return function(i){var s=e(i),o=dR(),a=e(o),l=!1,u,c,f,d={point:m,lineStart:v,lineEnd:y,polygonStart:function(){d.point=w,d.lineStart=S,d.lineEnd=x,c=[],u=[]},polygonEnd:function(){d.point=m,d.lineStart=v,d.lineEnd=y,c=qP(c);var M=mR(u,r);c.length?(l||(i.polygonStart(),l=!0),pR(c,pO,M,n,i)):M&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(M,E){t(M,E)&&i.point(M,E)}function g(M,E){s.point(M,E)}function v(){d.point=g,s.lineStart()}function y(){d.point=m,s.lineEnd()}function w(M,E){f.push([M,E]),a.point(M,E)}function S(){a.lineStart(),f=[]}function x(){w(f[0][0],f[0][1]),a.lineEnd();var M=a.clean(),E=o.result(),C,P=E.length,T,R,I;if(f.pop(),u.push(f),f=null,!!P){if(M&1){if(R=E[0],(T=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<T;++C)i.point((I=R[C])[0],I[1]);i.lineEnd()}return}P>1&&M&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(dO))}}return d}}function dO(t){return t.length>1}function pO(t,e){return((t=t.x)[0]<0?t[1]-dr-Pt:dr-t[1])-((e=e.x)[0]<0?e[1]-dr-Pt:dr-e[1])}const P8=gR(function(){return!0},mO,vO,[-sn,-dr]);function mO(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,o){var a=s>0?sn:-sn,l=dn(s-e);dn(l-sn)<Pt?(t.point(e,n=(n+o)/2>0?dr:-dr),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),i=0):r!==a&&l>=sn&&(dn(e-r)<Pt&&(e-=r*Pt),dn(s-a)<Pt&&(s-=a*Pt),n=gO(e,n,s,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=s,n=o),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function gO(t,e,n,r){var i,s,o=vt(t-n);return dn(o)>Pt?Ch((vt(e)*(s=_t(r))*vt(n)-vt(r)*(i=_t(e))*vt(t))/(i*s*o)):(e+r)/2}function vO(t,e,n,r){var i;if(t==null)i=n*dr,r.point(-sn,i),r.point(0,i),r.point(sn,i),r.point(sn,0),r.point(sn,-i),r.point(0,-i),r.point(-sn,-i),r.point(-sn,0),r.point(-sn,i);else if(dn(t[0]-e[0])>Pt){var s=t[0]<e[0]?sn:-sn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function vR(t){var e=_t(t),n=6*Rt,r=e>0,i=dn(e)>Pt;function s(c,f,d,m){hR(m,t,n,d,c,f)}function o(c,f){return _t(c)*_t(f)>e}function a(c){var f,d,m,g,v;return{lineStart:function(){g=m=!1,v=1},point:function(y,w){var S=[y,w],x,M=o(y,w),E=r?M?0:u(y,w):M?u(y+(y<0?sn:-sn),w):0;if(!f&&(g=m=M)&&c.lineStart(),M!==m&&(x=l(f,S),(!x||Jm(f,x)||Jm(S,x))&&(S[2]=1)),M!==m)v=0,M?(c.lineStart(),x=l(S,f),c.point(x[0],x[1])):(x=l(f,S),c.point(x[0],x[1],2),c.lineEnd()),f=x;else if(i&&f&&r^M){var C;!(E&d)&&(C=l(S,f,!0))&&(v=0,r?(c.lineStart(),c.point(C[0][0],C[0][1]),c.point(C[1][0],C[1][1]),c.lineEnd()):(c.point(C[1][0],C[1][1]),c.lineEnd(),c.lineStart(),c.point(C[0][0],C[0][1],3)))}M&&(!f||!Jm(f,S))&&c.point(S[0],S[1]),f=S,m=M,d=E},lineEnd:function(){m&&c.lineEnd(),f=null},clean:function(){return v|(g&&m)<<1}}}function l(c,f,d){var m=fc(c),g=fc(f),v=[1,0,0],y=ah(m,g),w=x2(y,y),S=y[0],x=w-S*S;if(!x)return!d&&c;var M=e*w/x,E=-e*S/x,C=ah(v,y),P=S2(v,M),T=S2(y,E);t6(P,T);var R=C,I=x2(P,R),U=x2(R,R),G=I*I-U*(x2(P,P)-1);if(!(G<0)){var j=Jr(G),D=S2(R,(-I-j)/U);if(t6(D,P),D=V1(D),!d)return D;var k=c[0],H=f[0],oe=c[1],N=f[1],W;H<k&&(W=k,k=H,H=W);var Z=H-k,Y=dn(Z-sn)<Pt,F=Y||Z<Pt;if(!Y&&N<oe&&(W=oe,oe=N,N=W),F?Y?oe+N>0^D[1]<(dn(D[0]-k)<Pt?oe:N):oe<=D[1]&&D[1]<=N:Z>sn^(k<=D[0]&&D[0]<=H)){var q=S2(R,(-I+j)/U);return t6(q,P),[D,V1(q)]}}}function u(c,f){var d=r?t:sn-t,m=0;return c<-d?m|=1:c>d&&(m|=2),f<-d?m|=4:f>d&&(m|=8),m}return gR(o,a,s,r?[0,-t]:[-sn,t-sn])}function yO(t,e,n,r,i,s){var o=t[0],a=t[1],l=e[0],u=e[1],c=0,f=1,d=l-o,m=u-a,g;if(g=n-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=i-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}if(g=r-a,!(!m&&g>0)){if(g/=m,m<0){if(g<c)return;g<f&&(f=g)}else if(m>0){if(g>f)return;g>c&&(c=g)}if(g=s-a,!(!m&&g<0)){if(g/=m,m<0){if(g>f)return;g>c&&(c=g)}else if(m>0){if(g<c)return;g<f&&(f=g)}return c>0&&(t[0]=o+c*d,t[1]=a+c*m),f<1&&(e[0]=o+f*d,e[1]=a+f*m),!0}}}}}var Qd=1e9,_2=-Qd;function tv(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function s(u,c,f,d){var m=0,g=0;if(u==null||(m=o(u,f))!==(g=o(c,f))||l(u,c)<0^f>0)do d.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+f+4)%4)!==g);else d.point(c[0],c[1])}function o(u,c){return dn(u[0]-t)<Pt?c>0?0:3:dn(u[0]-n)<Pt?c>0?2:1:dn(u[1]-e)<Pt?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=dR(),d,m,g,v,y,w,S,x,M,E,C,P={point:T,lineStart:G,lineEnd:j,polygonStart:I,polygonEnd:U};function T(k,H){i(k,H)&&c.point(k,H)}function R(){for(var k=0,H=0,oe=m.length;H<oe;++H)for(var N=m[H],W=1,Z=N.length,Y=N[0],F,q,ee=Y[0],X=Y[1];W<Z;++W)F=ee,q=X,Y=N[W],ee=Y[0],X=Y[1],q<=r?X>r&&(ee-F)*(r-q)>(X-q)*(t-F)&&++k:X<=r&&(ee-F)*(r-q)<(X-q)*(t-F)&&--k;return k}function I(){c=f,d=[],m=[],C=!0}function U(){var k=R(),H=C&&k,oe=(d=qP(d)).length;(H||oe)&&(u.polygonStart(),H&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),oe&&pR(d,a,k,s,u),u.polygonEnd()),c=u,d=m=g=null}function G(){P.point=D,m&&m.push(g=[]),E=!0,M=!1,S=x=NaN}function j(){d&&(D(v,y),w&&M&&f.rejoin(),d.push(f.result())),P.point=T,M&&c.lineEnd()}function D(k,H){var oe=i(k,H);if(m&&g.push([k,H]),E)v=k,y=H,w=oe,E=!1,oe&&(c.lineStart(),c.point(k,H));else if(oe&&M)c.point(k,H);else{var N=[S=Math.max(_2,Math.min(Qd,S)),x=Math.max(_2,Math.min(Qd,x))],W=[k=Math.max(_2,Math.min(Qd,k)),H=Math.max(_2,Math.min(Qd,H))];yO(N,W,t,e,n,r)?(M||(c.lineStart(),c.point(N[0],N[1])),c.point(W[0],W[1]),oe||c.lineEnd(),C=!1):oe&&(c.lineStart(),c.point(k,H),C=!1)}S=k,x=H,M=oe}return P}}function xO(){var t=0,e=0,n=960,r=500,i,s,o;return o={stream:function(a){return i&&s===a?i:i=tv(t,e,n,r)(s=a)},extent:function(a){return arguments.length?(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1],i=s=null,o):[[t,e],[n,r]]}}}var R8,D8,Ym,Km,lh={sphere:rr,point:rr,lineStart:SO,lineEnd:rr,polygonStart:rr,polygonEnd:rr};function SO(){lh.point=_O,lh.lineEnd=wO}function wO(){lh.point=lh.lineEnd=rr}function _O(t,e){t*=Rt,e*=Rt,D8=t,Ym=vt(e),Km=_t(e),lh.point=MO}function MO(t,e){t*=Rt,e*=Rt;var n=vt(e),r=_t(e),i=dn(t-D8),s=_t(i),o=vt(i),a=r*o,l=Km*n-Ym*r*s,u=Ym*n+Km*r*s;R8.add(ki(Jr(a*a+l*l),u)),D8=t,Ym=n,Km=r}function yR(t){return R8=new vi,mo(t,lh),+R8}var B8=[null,null],AO={type:"LineString",coordinates:B8};function q1(t,e){return B8[0]=t,B8[1]=e,yR(AO)}var yM={Feature:function(t,e){return $1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if($1(n[r].geometry,e))return!0;return!1}},xM={Sphere:function(){return!0},Point:function(t,e){return SM(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(SM(n[r],e))return!0;return!1},LineString:function(t,e){return wM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wM(n[r],e))return!0;return!1},Polygon:function(t,e){return _M(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_M(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if($1(n[r],e))return!0;return!1}};function $1(t,e){return t&&xM.hasOwnProperty(t.type)?xM[t.type](t,e):!1}function SM(t,e){return q1(t,e)===0}function wM(t,e){for(var n,r,i,s=0,o=t.length;s<o;s++){if(r=q1(t[s],e),r===0||s>0&&(i=q1(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Zp*i))return!0;n=r}return!1}function _M(t,e){return!!mR(t.map(EO),xR(e))}function EO(t){return t=t.map(xR),t.pop(),t}function xR(t){return[t[0]*Rt,t[1]*Rt]}function TO(t,e){return(t&&yM.hasOwnProperty(t.type)?yM[t.type]:$1)(t,e)}function MM(t,e,n){var r=bf(t,e-Pt,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function AM(t,e,n){var r=bf(t,e-Pt,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function ux(){var t,e,n,r,i,s,o,a,l=10,u=l,c=90,f=360,d,m,g,v,y=2.5;function w(){return{type:"MultiLineString",coordinates:S()}}function S(){return bf(y2(r/c)*c,n,c).map(g).concat(bf(y2(a/f)*f,o,f).map(v)).concat(bf(y2(e/l)*l,t,l).filter(function(x){return dn(x%c)>Pt}).map(d)).concat(bf(y2(s/u)*u,i,u).filter(function(x){return dn(x%f)>Pt}).map(m))}return w.lines=function(){return S().map(function(x){return{type:"LineString",coordinates:x}})},w.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(v(o).slice(1),g(n).reverse().slice(1),v(a).reverse().slice(1))]}},w.extent=function(x){return arguments.length?w.extentMajor(x).extentMinor(x):w.extentMinor()},w.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],a=+x[0][1],o=+x[1][1],r>n&&(x=r,r=n,n=x),a>o&&(x=a,a=o,o=x),w.precision(y)):[[r,a],[n,o]]},w.extentMinor=function(x){return arguments.length?(e=+x[0][0],t=+x[1][0],s=+x[0][1],i=+x[1][1],e>t&&(x=e,e=t,t=x),s>i&&(x=s,s=i,i=x),w.precision(y)):[[e,s],[t,i]]},w.step=function(x){return arguments.length?w.stepMajor(x).stepMinor(x):w.stepMinor()},w.stepMajor=function(x){return arguments.length?(c=+x[0],f=+x[1],w):[c,f]},w.stepMinor=function(x){return arguments.length?(l=+x[0],u=+x[1],w):[l,u]},w.precision=function(x){return arguments.length?(y=+x,d=MM(s,i,90),m=AM(e,t,y),g=MM(a,o,90),v=AM(r,n,y),w):y},w.extentMajor([[-180,-90+Pt],[180,90-Pt]]).extentMinor([[-180,-80-Pt],[180,80+Pt]])}function CO(){return ux()()}function bO(t,e){var n=t[0]*Rt,r=t[1]*Rt,i=e[0]*Rt,s=e[1]*Rt,o=_t(r),a=vt(r),l=_t(s),u=vt(s),c=o*_t(n),f=o*vt(n),d=l*_t(i),m=l*vt(i),g=2*Ui(Jr(iM(s-r)+o*l*iM(i-n))),v=vt(g),y=g?function(w){var S=vt(w*=g)/v,x=vt(g-w)/v,M=x*c+S*d,E=x*f+S*m,C=x*a+S*u;return[ki(E,M)*kn,ki(C,Jr(M*M+E*E))*kn]}:function(){return[n*kn,r*kn]};return y.distance=g,y}const Qp=t=>t;var r6=new vi,I8=new vi,SR,wR,L8,F8,Cl={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){Cl.lineStart=PO,Cl.lineEnd=DO},polygonEnd:function(){Cl.lineStart=Cl.lineEnd=Cl.point=rr,r6.add(dn(I8)),I8=new vi},result:function(){var t=r6/2;return r6=new vi,t}};function PO(){Cl.point=RO}function RO(t,e){Cl.point=_R,SR=L8=t,wR=F8=e}function _R(t,e){I8.add(F8*t-L8*e),L8=t,F8=e}function DO(){_R(SR,wR)}const EM=Cl;var uh=1/0,eg=uh,qp=-uh,tg=qp,BO={point:IO,lineStart:rr,lineEnd:rr,polygonStart:rr,polygonEnd:rr,result:function(){var t=[[uh,eg],[qp,tg]];return qp=tg=-(eg=uh=1/0),t}};function IO(t,e){t<uh&&(uh=t),t>qp&&(qp=t),e<eg&&(eg=e),e>tg&&(tg=e)}const ng=BO;var k8=0,U8=0,qd=0,rg=0,ig=0,Pf=0,N8=0,O8=0,$d=0,MR,AR,jo,Xo,go={point:hc,lineStart:TM,lineEnd:CM,polygonStart:function(){go.lineStart=kO,go.lineEnd=UO},polygonEnd:function(){go.point=hc,go.lineStart=TM,go.lineEnd=CM},result:function(){var t=$d?[N8/$d,O8/$d]:Pf?[rg/Pf,ig/Pf]:qd?[k8/qd,U8/qd]:[NaN,NaN];return k8=U8=qd=rg=ig=Pf=N8=O8=$d=0,t}};function hc(t,e){k8+=t,U8+=e,++qd}function TM(){go.point=LO}function LO(t,e){go.point=FO,hc(jo=t,Xo=e)}function FO(t,e){var n=t-jo,r=e-Xo,i=Jr(n*n+r*r);rg+=i*(jo+t)/2,ig+=i*(Xo+e)/2,Pf+=i,hc(jo=t,Xo=e)}function CM(){go.point=hc}function kO(){go.point=NO}function UO(){ER(MR,AR)}function NO(t,e){go.point=ER,hc(MR=jo=t,AR=Xo=e)}function ER(t,e){var n=t-jo,r=e-Xo,i=Jr(n*n+r*r);rg+=i*(jo+t)/2,ig+=i*(Xo+e)/2,Pf+=i,i=Xo*t-jo*e,N8+=i*(jo+t),O8+=i*(Xo+e),$d+=i*3,hc(jo=t,Xo=e)}const bM=go;function TR(t){this._context=t}TR.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fi);break}}},result:rr};var z8=new vi,i6,CR,bR,ep,tp,sg={point:rr,lineStart:function(){sg.point=OO},lineEnd:function(){i6&&PR(CR,bR),sg.point=rr},polygonStart:function(){i6=!0},polygonEnd:function(){i6=null},result:function(){var t=+z8;return z8=new vi,t}};function OO(t,e){sg.point=PR,CR=ep=t,bR=tp=e}function PR(t,e){ep-=t,tp-=e,z8.add(Jr(ep*ep+tp*tp)),ep=t,tp=e}const PM=sg;function RR(){this._string=[]}RR.prototype={_radius:4.5,_circle:RM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=RM(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function RM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function DR(t,e){var n=4.5,r,i;function s(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),mo(o,r(i))),i.result()}return s.area=function(o){return mo(o,r(EM)),EM.result()},s.measure=function(o){return mo(o,r(PM)),PM.result()},s.bounds=function(o){return mo(o,r(ng)),ng.result()},s.centroid=function(o){return mo(o,r(bM)),bM.result()},s.projection=function(o){return arguments.length?(r=o==null?(t=null,Qp):(t=o).stream,s):t},s.context=function(o){return arguments.length?(i=o==null?(e=null,new RR):new TR(e=o),typeof n!="function"&&i.pointRadius(n),s):e},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),s):n},s.projection(t).context(e)}function zO(t){return{stream:P0(t)}}function P0(t){return function(e){var n=new G8;for(var r in t)n[r]=t[r];return n.stream=e,n}}function G8(){}G8.prototype={constructor:G8,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function cx(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),mo(n,t.stream(ng)),e(ng.result()),r!=null&&t.clipExtent(r),t}function nv(t,e,n){return cx(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(s-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,l])},n)}function fx(t,e,n){return nv(t,[[0,0],e],n)}function hx(t,e,n){return cx(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];t.scale(150*s).translate([o,a])},n)}function dx(t,e,n){return cx(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,a])},n)}var DM=16,GO=_t(30*Rt);function BM(t,e){return+e?VO(t,e):HO(t)}function HO(t){return P0({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function VO(t,e){function n(r,i,s,o,a,l,u,c,f,d,m,g,v,y){var w=u-r,S=c-i,x=w*w+S*S;if(x>4*e&&v--){var M=o+d,E=a+m,C=l+g,P=Jr(M*M+E*E+C*C),T=Ui(C/=P),R=dn(dn(C)-1)<Pt||dn(s-f)<Pt?(s+f)/2:ki(E,M),I=t(R,T),U=I[0],G=I[1],j=U-r,D=G-i,k=S*j-w*D;(k*k/x>e||dn((w*j+S*D)/x-.5)>.3||o*d+a*m+l*g<GO)&&(n(r,i,s,o,a,l,U,G,R,M/=P,E/=P,C,v,y),y.point(U,G),n(U,G,R,M,E,C,u,c,f,d,m,g,v,y))}}return function(r){var i,s,o,a,l,u,c,f,d,m,g,v,y={point:w,lineStart:S,lineEnd:M,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=S}};function w(T,R){T=t(T,R),r.point(T[0],T[1])}function S(){f=NaN,y.point=x,r.lineStart()}function x(T,R){var I=fc([T,R]),U=t(T,R);n(f,d,c,m,g,v,f=U[0],d=U[1],c=T,m=I[0],g=I[1],v=I[2],DM,r),r.point(f,d)}function M(){y.point=w,r.lineEnd()}function E(){S(),y.point=C,y.lineEnd=P}function C(T,R){x(i=T,R),s=f,o=d,a=m,l=g,u=v,y.point=x}function P(){n(f,d,c,m,g,v,s,o,i,a,l,u,DM,r),y.lineEnd=M,M()}return y}}var WO=P0({point:function(t,e){this.stream.point(t*Rt,e*Rt)}});function jO(t){return P0({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function XO(t,e,n,r,i){function s(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return s.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},s}function IM(t,e,n,r,i,s){if(!s)return XO(t,e,n,r,i);var o=_t(s),a=vt(s),l=o*t,u=a*t,c=o/t,f=a/t,d=(a*n-o*e)/t,m=(a*e+o*n)/t;function g(v,y){return v*=r,y*=i,[l*v-u*y+e,n-u*v-l*y]}return g.invert=function(v,y){return[r*(c*v-f*y+d),i*(m-f*v-c*y)]},g}function ra(t){return px(function(){return t})()}function px(t){var e,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,f=0,d=1,m=1,g=null,v=P8,y=null,w,S,x,M=Qp,E=.5,C,P,T,R,I;function U(k){return T(k[0]*Rt,k[1]*Rt)}function G(k){return k=T.invert(k[0],k[1]),k&&[k[0]*kn,k[1]*kn]}U.stream=function(k){return R&&I===k?R:R=WO(jO(c)(v(C(M(I=k)))))},U.preclip=function(k){return arguments.length?(v=k,g=void 0,D()):v},U.postclip=function(k){return arguments.length?(M=k,y=w=S=x=null,D()):M},U.clipAngle=function(k){return arguments.length?(v=+k?vR(g=k*Rt):(g=null,P8),D()):g*kn},U.clipExtent=function(k){return arguments.length?(M=k==null?(y=w=S=x=null,Qp):tv(y=+k[0][0],w=+k[0][1],S=+k[1][0],x=+k[1][1]),D()):y==null?null:[[y,w],[S,x]]},U.scale=function(k){return arguments.length?(n=+k,j()):n},U.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],j()):[r,i]},U.center=function(k){return arguments.length?(s=k[0]%360*Rt,o=k[1]%360*Rt,j()):[s*kn,o*kn]},U.rotate=function(k){return arguments.length?(a=k[0]%360*Rt,l=k[1]%360*Rt,u=k.length>2?k[2]%360*Rt:0,j()):[a*kn,l*kn,u*kn]},U.angle=function(k){return arguments.length?(f=k%360*Rt,j()):f*kn},U.reflectX=function(k){return arguments.length?(d=k?-1:1,j()):d<0},U.reflectY=function(k){return arguments.length?(m=k?-1:1,j()):m<0},U.precision=function(k){return arguments.length?(C=BM(P,E=k*k),D()):Jr(E)},U.fitExtent=function(k,H){return nv(U,k,H)},U.fitSize=function(k,H){return fx(U,k,H)},U.fitWidth=function(k,H){return hx(U,k,H)},U.fitHeight=function(k,H){return dx(U,k,H)};function j(){var k=IM(n,0,0,d,m,f).apply(null,e(s,o)),H=IM(n,r-k[0],i-k[1],d,m,f);return c=lx(a,l,u),P=C8(e,H),T=C8(c,P),C=BM(P,E),D()}function D(){return R=I=null,U}return function(){return e=t.apply(this,arguments),U.invert=e.invert&&G,j()}}function mx(t){var e=0,n=sn/3,r=px(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*Rt,n=s[1]*Rt):[e*kn,n*kn]},i}function JO(t){var e=_t(t);function n(r,i){return[r*e,vt(i)/e]}return n.invert=function(r,i){return[r/e,Ui(i*e)]},n}function BR(t,e){var n=vt(t),r=(n+vt(e))/2;if(dn(r)<Pt)return JO(t);var i=1+n*(2*r-n),s=Jr(i)/r;function o(a,l){var u=Jr(i-2*r*vt(l))/r;return[u*vt(a*=r),s-u*_t(a)]}return o.invert=function(a,l){var u=s-l,c=ki(a,dn(u))*Xs(u);return u*r<0&&(c-=sn*Xs(a)*Xs(u)),[c/r,Ui((i-(a*a+u*u)*r*r)/(2*r))]},o}function og(){return mx(BR).scale(155.424).center([0,33.6442])}function IR(){return og().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function YO(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function KO(){var t,e,n=IR(),r,i=og().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=og().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,m){l=[d,m]}};function c(d){var m=d[0],g=d[1];return l=null,r.point(m,g),l||(s.point(m,g),l)||(a.point(m,g),l)}c.invert=function(d){var m=n.scale(),g=n.translate(),v=(d[0]-g[0])/m,y=(d[1]-g[1])/m;return(y>=.12&&y<.234&&v>=-.425&&v<-.214?i:y>=.166&&y<.234&&v>=-.214&&v<-.115?o:n).invert(d)},c.stream=function(d){return t&&e===d?t:t=YO([n.stream(e=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var m=n.scale(),g=+d[0],v=+d[1];return r=n.translate(d).clipExtent([[g-.455*m,v-.238*m],[g+.455*m,v+.238*m]]).stream(u),s=i.translate([g-.307*m,v+.201*m]).clipExtent([[g-.425*m+Pt,v+.12*m+Pt],[g-.214*m-Pt,v+.234*m-Pt]]).stream(u),a=o.translate([g-.205*m,v+.212*m]).clipExtent([[g-.214*m+Pt,v+.166*m+Pt],[g-.115*m-Pt,v+.234*m-Pt]]).stream(u),f()},c.fitExtent=function(d,m){return nv(c,d,m)},c.fitSize=function(d,m){return fx(c,d,m)},c.fitWidth=function(d,m){return hx(c,d,m)},c.fitHeight=function(d,m){return dx(c,d,m)};function f(){return t=e=null,c}return c.scale(1070)}function LR(t){return function(e,n){var r=_t(e),i=_t(n),s=t(r*i);return s===1/0?[2,0]:[s*i*vt(e),s*vt(n)]}}function R0(t){return function(e,n){var r=Jr(e*e+n*n),i=t(r),s=vt(i),o=_t(i);return[ki(e*s,r*o),Ui(r&&n*s/r)]}}var gx=LR(function(t){return Jr(2/(1+t))});gx.invert=R0(function(t){return 2*Ui(t/2)});function ZO(){return ra(gx).scale(124.75).clipAngle(180-.001)}var vx=LR(function(t){return(t=eR(t))&&t/vt(t)});vx.invert=R0(function(t){return t});function QO(){return ra(vx).scale(79.4188).clipAngle(180-.001)}function D0(t,e){return[t,O1(ox((dr+e)/2))]}D0.invert=function(t,e){return[t,2*Ch($P(e))-dr]};function qO(){return FR(D0).scale(961/Fi)}function FR(t){var e=ra(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,o=null,a,l,u;e.scale=function(f){return arguments.length?(r(f),c()):r()},e.translate=function(f){return arguments.length?(i(f),c()):i()},e.center=function(f){return arguments.length?(n(f),c()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=a=l=u=null:(o=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var f=sn*r(),d=e(fR(e.rotate()).invert([0,0]));return s(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:t===D0?[[Math.max(d[0]-f,o),a],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function M2(t){return ox((dr+t)/2)}function kR(t,e){var n=_t(t),r=t===e?vt(t):O1(n/_t(e))/O1(M2(e)/M2(t)),i=n*e6(M2(t),r)/r;if(!r)return D0;function s(o,a){i>0?a<-dr+Pt&&(a=-dr+Pt):a>dr-Pt&&(a=dr-Pt);var l=i/e6(M2(a),r);return[l*vt(r*o),i-l*_t(r*o)]}return s.invert=function(o,a){var l=i-a,u=Xs(r)*Jr(o*o+l*l),c=ki(o,dn(l))*Xs(l);return l*r<0&&(c-=sn*Xs(o)*Xs(l)),[c/r,2*Ch(e6(i/u,1/r))-dr]},s}function $O(){return mx(kR).scale(109.5).parallels([30,30])}function $p(t,e){return[t,e]}$p.invert=$p;function ez(){return ra($p).scale(152.63)}function UR(t,e){var n=_t(t),r=t===e?vt(t):(n-_t(e))/(e-t),i=n/r+t;if(dn(r)<Pt)return $p;function s(o,a){var l=i-a,u=r*o;return[l*vt(u),i-l*_t(u)]}return s.invert=function(o,a){var l=i-a,u=ki(o,dn(l))*Xs(l);return l*r<0&&(u-=sn*Xs(o)*Xs(l)),[u/r,i-Xs(r)*Jr(o*o+l*l)]},s}function tz(){return mx(UR).scale(131.154).center([0,13.9389])}var vp=1.340264,yp=-.081106,xp=893e-6,Sp=.003796,ag=Jr(3)/2,nz=12;function yx(t,e){var n=Ui(ag*vt(e)),r=n*n,i=r*r*r;return[t*_t(n)/(ag*(vp+3*yp*r+i*(7*xp+9*Sp*r))),n*(vp+yp*r+i*(xp+Sp*r))]}yx.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,o,a,l;s<nz&&(a=n*(vp+yp*r+i*(xp+Sp*r))-e,l=vp+3*yp*r+i*(7*xp+9*Sp*r),n-=o=a/l,r=n*n,i=r*r*r,!(dn(o)<Zp));++s);return[ag*t*(vp+3*yp*r+i*(7*xp+9*Sp*r))/_t(n),Ui(vt(n)/ag)]};function rz(){return ra(yx).scale(177.158)}function xx(t,e){var n=_t(e),r=_t(t)*n;return[n*vt(t)/r,vt(e)/r]}xx.invert=R0(Ch);function iz(){return ra(xx).scale(144.049).clipAngle(60)}function sz(){var t=1,e=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,f,d=1,m=1,g=P0({point:function(M,E){var C=x([M,E]);this.stream.point(C[0],C[1])}}),v=Qp,y,w;function S(){return d=t*r,m=t*i,y=w=null,x}function x(M){var E=M[0]*d,C=M[1]*m;if(s){var P=C*o-E*a;E=E*o+C*a,C=P}return[E+e,C+n]}return x.invert=function(M){var E=M[0]-e,C=M[1]-n;if(s){var P=C*o+E*a;E=E*o-C*a,C=P}return[E/d,C/m]},x.stream=function(M){return y&&w===M?y:y=g(v(w=M))},x.postclip=function(M){return arguments.length?(v=M,l=u=c=f=null,S()):v},x.clipExtent=function(M){return arguments.length?(v=M==null?(l=u=c=f=null,Qp):tv(l=+M[0][0],u=+M[0][1],c=+M[1][0],f=+M[1][1]),S()):l==null?null:[[l,u],[c,f]]},x.scale=function(M){return arguments.length?(t=+M,S()):t},x.translate=function(M){return arguments.length?(e=+M[0],n=+M[1],S()):[e,n]},x.angle=function(M){return arguments.length?(s=M%360*Rt,a=vt(s),o=_t(s),S()):s*kn},x.reflectX=function(M){return arguments.length?(r=M?-1:1,S()):r<0},x.reflectY=function(M){return arguments.length?(i=M?-1:1,S()):i<0},x.fitExtent=function(M,E){return nv(x,M,E)},x.fitSize=function(M,E){return fx(x,M,E)},x.fitWidth=function(M,E){return hx(x,M,E)},x.fitHeight=function(M,E){return dx(x,M,E)},x}function Sx(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Sx.invert=function(t,e){var n=e,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-e)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(dn(i)>Pt&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function oz(){return ra(Sx).scale(175.295)}function wx(t,e){return[_t(e)*vt(t),vt(e)]}wx.invert=R0(Ui);function az(){return ra(wx).scale(249.5).clipAngle(90+Pt)}function _x(t,e){var n=_t(e),r=1+_t(t)*n;return[n*vt(t)/r,vt(e)/r]}_x.invert=R0(function(t){return 2*Ch(t)});function lz(){return ra(_x).scale(250).clipAngle(142)}function Mx(t,e){return[O1(ox((dr+e)/2)),-t]}Mx.invert=function(t,e){return[-e,2*Ch($P(t))-dr]};function uz(){var t=FR(Mx),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const cz=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:IR,geoAlbersUsa:KO,geoArea:tO,geoAzimuthalEqualArea:ZO,geoAzimuthalEqualAreaRaw:gx,geoAzimuthalEquidistant:QO,geoAzimuthalEquidistantRaw:vx,geoBounds:sO,geoCentroid:fO,geoCircle:hO,geoClipAntimeridian:P8,geoClipCircle:vR,geoClipExtent:xO,geoClipRectangle:tv,geoConicConformal:$O,geoConicConformalRaw:kR,geoConicEqualArea:og,geoConicEqualAreaRaw:BR,geoConicEquidistant:tz,geoConicEquidistantRaw:UR,geoContains:TO,geoDistance:q1,geoEqualEarth:rz,geoEqualEarthRaw:yx,geoEquirectangular:ez,geoEquirectangularRaw:$p,geoGnomonic:iz,geoGnomonicRaw:xx,geoGraticule:ux,geoGraticule10:CO,geoIdentity:sz,geoInterpolate:bO,geoLength:yR,geoMercator:qO,geoMercatorRaw:D0,geoNaturalEarth1:oz,geoNaturalEarth1Raw:Sx,geoOrthographic:az,geoOrthographicRaw:wx,geoPath:DR,geoProjection:ra,geoProjectionMutator:px,geoRotation:fR,geoStereographic:lz,geoStereographicRaw:_x,geoStream:mo,geoTransform:zO,geoTransverseMercator:uz,geoTransverseMercatorRaw:Mx},Symbol.toStringTag,{value:"Module"}));function fz(t){return t}function hz(t){if(t==null)return fz;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,l){l||(e=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(e+=a[0])*r+s,f[1]=(n+=a[1])*i+o;u<c;)f[u]=a[u],++u;return f}}function dz(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function pz(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return LM(t,n)})}:LM(t,e)}function LM(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=NR(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function NR(t,e){var n=hz(t.transform),r=t.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],m=0,g=d.length;m<g;++m)f.push(n(d[m],m));c<0&&dz(f,g)}function s(c){return n(c)}function o(c){for(var f=[],d=0,m=c.length;d<m;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=s(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(s);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(e)}function mz(t,e){var n={},r={},i={},s=[],o=-1;e.forEach(function(u,c){var f=t.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=e[++o],e[o]=u,e[c]=d)}),e.forEach(function(u){var c=a(u),f=c[0],d=c[1],m,g;if(m=i[f])if(delete i[m.end],m.push(u),m.end=d,g=r[d]){delete r[g.start];var v=g===m?m:m.concat(g);r[v.start=m.start]=i[v.end=g.end]=v}else r[m.start]=i[m.end]=m;else if(m=r[d])if(delete r[m.start],m.unshift(u),m.start=f,g=i[f]){delete i[g.end];var y=g===m?m:g.concat(m);r[y.start=g.start]=i[y.end=m.end]=y}else r[m.start]=i[m.end]=m;else m=[u],r[m.start=f]=i[m.end=d]=m});function a(u){var c=t.arcs[u<0?~u:u],f=c[0],d;return t.transform?(d=[0,0],c.forEach(function(m){d[0]+=m[0],d[1]+=m[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(m){n[m<0?~m:m]=1}),s.push(d)}}return l(i,r),l(r,i),e.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function FM(t){return NR(t,gz.apply(this,arguments))}function gz(t,e,n){var r,i,s;if(arguments.length>1)r=vz(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:mz(t,r)}}function vz(t,e,n){var r=[],i=[],s;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var yz={value:()=>{}};function Ax(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zm(n)}function Zm(t){this._=t}function xz(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zm.prototype=Ax.prototype={constructor:Zm,on:function(t,e){var n=this._,r=xz(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Sz(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=kM(n[i],t.name,e);else if(e==null)for(i in n)n[i]=kM(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Sz(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function kM(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=yz,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var H8="http://www.w3.org/1999/xhtml";const UM={svg:"http://www.w3.org/2000/svg",xhtml:H8,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rv(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),UM.hasOwnProperty(e)?{space:UM[e],local:t}:t}function wz(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===H8&&e.documentElement.namespaceURI===H8?e.createElement(t):e.createElementNS(n,t)}}function _z(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function OR(t){var e=rv(t);return(e.local?_z:wz)(e)}function Mz(){}function Ex(t){return t==null?Mz:function(){return this.querySelector(t)}}function Az(t){typeof t!="function"&&(t=Ex(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new ts(r,this._parents)}function zR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ez(){return[]}function GR(t){return t==null?Ez:function(){return this.querySelectorAll(t)}}function Tz(t){return function(){var e=t.apply(this,arguments);return e==null?[]:zR(e)}}function Cz(t){typeof t=="function"?t=Tz(t):t=GR(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ts(r,i)}function HR(t){return function(){return this.matches(t)}}function VR(t){return function(e){return e.matches(t)}}var bz=Array.prototype.find;function Pz(t){return function(){return bz.call(this.children,t)}}function Rz(){return this.firstElementChild}function Dz(t){return this.select(t==null?Rz:Pz(typeof t=="function"?t:VR(t)))}var Bz=Array.prototype.filter;function Iz(){return this.children}function Lz(t){return function(){return Bz.call(this.children,t)}}function Fz(t){return this.selectAll(t==null?Iz:Lz(typeof t=="function"?t:VR(t)))}function kz(t){typeof t!="function"&&(t=HR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ts(r,this._parents)}function WR(t){return new Array(t.length)}function Uz(){return new ts(this._enter||this._groups.map(WR),this._parents)}function lg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}lg.prototype={constructor:lg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nz(t){return function(){return t}}function Oz(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new lg(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function zz(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,f=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?i[a]=l:u.set(m,l));for(a=0;a<f;++a)m=o.call(t,s[a],a,s)+"",(l=u.get(m))?(r[a]=l,l.__data__=s[a],u.delete(m)):n[a]=new lg(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(i[a]=l)}function Gz(t){return t.__data__}function Hz(t,e){if(!arguments.length)return Array.from(this,Gz);var n=e?zz:Oz,r=this._parents,i=this._groups;typeof t!="function"&&(t=Nz(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],d=f.length,m=zR(t.call(c,c&&c.__data__,u,r)),g=m.length,v=a[u]=new Array(g),y=o[u]=new Array(g),w=l[u]=new Array(d);n(c,f,v,y,w,m,e);for(var S=0,x=0,M,E;S<g;++S)if(M=v[S]){for(S>=x&&(x=S+1);!(E=y[x])&&++x<g;);M._next=E||null}}return o=new ts(o,r),o._enter=a,o._exit=l,o}function Vz(){return new ts(this._exit||this._groups.map(WR),this._parents)}function Wz(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function jz(t){if(!(t instanceof ts))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new ts(o,this._parents)}function Xz(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Jz(t){t||(t=Yz);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new ts(i,this._parents).order()}function Yz(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kz(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zz(){return Array.from(this)}function Qz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function qz(){let t=0;for(const e of this)++t;return t}function $z(){return!this.node()}function eG(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function tG(t){return function(){this.removeAttribute(t)}}function nG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rG(t,e){return function(){this.setAttribute(t,e)}}function iG(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sG(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function oG(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aG(t,e){var n=rv(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?nG:tG:typeof e=="function"?n.local?oG:sG:n.local?iG:rG)(n,e))}function jR(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lG(t){return function(){this.style.removeProperty(t)}}function uG(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cG(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fG(t,e,n){return arguments.length>1?this.each((e==null?lG:typeof e=="function"?cG:uG)(t,e,n??"")):ch(this.node(),t)}function ch(t,e){return t.style.getPropertyValue(e)||jR(t).getComputedStyle(t,null).getPropertyValue(e)}function hG(t){return function(){delete this[t]}}function dG(t,e){return function(){this[t]=e}}function pG(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mG(t,e){return arguments.length>1?this.each((e==null?hG:typeof e=="function"?pG:dG)(t,e)):this.node()[t]}function XR(t){return t.trim().split(/^|\s+/)}function Tx(t){return t.classList||new JR(t)}function JR(t){this._node=t,this._names=XR(t.getAttribute("class")||"")}JR.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function YR(t,e){for(var n=Tx(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function KR(t,e){for(var n=Tx(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gG(t){return function(){YR(this,t)}}function vG(t){return function(){KR(this,t)}}function yG(t,e){return function(){(e.apply(this,arguments)?YR:KR)(this,t)}}function xG(t,e){var n=XR(t+"");if(arguments.length<2){for(var r=Tx(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?yG:e?gG:vG)(n,e))}function SG(){this.textContent=""}function wG(t){return function(){this.textContent=t}}function _G(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function MG(t){return arguments.length?this.each(t==null?SG:(typeof t=="function"?_G:wG)(t)):this.node().textContent}function AG(){this.innerHTML=""}function EG(t){return function(){this.innerHTML=t}}function TG(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function CG(t){return arguments.length?this.each(t==null?AG:(typeof t=="function"?TG:EG)(t)):this.node().innerHTML}function bG(){this.nextSibling&&this.parentNode.appendChild(this)}function PG(){return this.each(bG)}function RG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function DG(){return this.each(RG)}function BG(t){var e=typeof t=="function"?t:OR(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function IG(){return null}function LG(t,e){var n=typeof t=="function"?t:OR(t),r=e==null?IG:typeof e=="function"?e:Ex(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function FG(){var t=this.parentNode;t&&t.removeChild(this)}function kG(){return this.each(FG)}function UG(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function NG(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function OG(t){return this.select(t?NG:UG)}function zG(t){return arguments.length?this.property("__data__",t):this.node().__data__}function GG(t){return function(e){t.call(this,e,this.__data__)}}function HG(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function VG(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function WG(t,e,n){return function(){var r=this.__on,i,s=GG(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function jG(t,e,n){var r=HG(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?WG:VG,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function ZR(t,e,n){var r=jR(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function XG(t,e){return function(){return ZR(this,t,e)}}function JG(t,e){return function(){return ZR(this,t,e.apply(this,arguments))}}function YG(t,e){return this.each((typeof e=="function"?JG:XG)(t,e))}function*KG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var QR=[null];function ts(t,e){this._groups=t,this._parents=e}function B0(){return new ts([[document.documentElement]],QR)}function ZG(){return this}ts.prototype=B0.prototype={constructor:ts,select:Az,selectAll:Cz,selectChild:Dz,selectChildren:Fz,filter:kz,data:Hz,enter:Uz,exit:Vz,join:Wz,merge:jz,selection:ZG,order:Xz,sort:Jz,call:Kz,nodes:Zz,node:Qz,size:qz,empty:$z,each:eG,attr:aG,style:fG,property:mG,classed:xG,text:MG,html:CG,raise:PG,lower:DG,append:BG,insert:LG,remove:kG,clone:OG,datum:zG,on:jG,dispatch:YG,[Symbol.iterator]:KG};function ba(t){return typeof t=="string"?new ts([[document.querySelector(t)]],[document.documentElement]):new ts([[t]],QR)}function QG(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yu(t,e){if(t=QG(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function V8(t){t.preventDefault(),t.stopImmediatePropagation()}function qG(t){var e=t.document.documentElement,n=ba(t).on("dragstart.drag",V8,!0);"onselectstart"in e?n.on("selectstart.drag",V8,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $G(t,e){var n=t.document.documentElement,r=ba(t).on("dragstart.drag",null);e&&(r.on("click.drag",V8,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Cx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function I0(){}var e0=.7,ug=1/e0,jf="\\s*([+-]?\\d+)\\s*",t0="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eH=/^#([0-9a-f]{3,8})$/,tH=new RegExp("^rgb\\("+[jf,jf,jf]+"\\)$"),nH=new RegExp("^rgb\\("+[Qo,Qo,Qo]+"\\)$"),rH=new RegExp("^rgba\\("+[jf,jf,jf,t0]+"\\)$"),iH=new RegExp("^rgba\\("+[Qo,Qo,Qo,t0]+"\\)$"),sH=new RegExp("^hsl\\("+[t0,Qo,Qo]+"\\)$"),oH=new RegExp("^hsla\\("+[t0,Qo,Qo,t0]+"\\)$"),NM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cx(I0,n0,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHsl:aH,formatRgb:zM,toString:zM});function OM(){return this.rgb().formatHex()}function aH(){return $R(this).formatHsl()}function zM(){return this.rgb().formatRgb()}function n0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GM(e):n===3?new ys(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?A2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?A2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tH.exec(t))?new ys(e[1],e[2],e[3],1):(e=nH.exec(t))?new ys(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rH.exec(t))?A2(e[1],e[2],e[3],e[4]):(e=iH.exec(t))?A2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sH.exec(t))?WM(e[1],e[2]/100,e[3]/100,1):(e=oH.exec(t))?WM(e[1],e[2]/100,e[3]/100,e[4]):NM.hasOwnProperty(t)?GM(NM[t]):t==="transparent"?new ys(NaN,NaN,NaN,0):null}function GM(t){return new ys(t>>16&255,t>>8&255,t&255,1)}function A2(t,e,n,r){return r<=0&&(t=e=n=NaN),new ys(t,e,n,r)}function lH(t){return t instanceof I0||(t=n0(t)),t?(t=t.rgb(),new ys(t.r,t.g,t.b,t.opacity)):new ys}function W8(t,e,n,r){return arguments.length===1?lH(t):new ys(t,e,n,r??1)}function ys(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Cx(ys,W8,qR(I0,{brighter:function(t){return t=t==null?ug:Math.pow(ug,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?e0:Math.pow(e0,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HM,formatHex:HM,formatRgb:VM,toString:VM}));function HM(){return"#"+s6(this.r)+s6(this.g)+s6(this.b)}function VM(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function s6(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function WM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jo(t,e,n,r)}function $R(t){if(t instanceof Jo)return new Jo(t.h,t.s,t.l,t.opacity);if(t instanceof I0||(t=n0(t)),!t)return new Jo;if(t instanceof Jo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Jo(o,a,l,t.opacity)}function uH(t,e,n,r){return arguments.length===1?$R(t):new Jo(t,e,n,r??1)}function Jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cx(Jo,uH,qR(I0,{brighter:function(t){return t=t==null?ug:Math.pow(ug,t),new Jo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?e0:Math.pow(e0,t),new Jo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ys(o6(t>=240?t-240:t+120,i,r),o6(t,i,r),o6(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function o6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eD=t=>()=>t;function cH(t,e){return function(n){return t+n*e}}function fH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hH(t){return(t=+t)==1?tD:function(e,n){return n-e?fH(e,n,t):eD(isNaN(e)?n:e)}}function tD(t,e){var n=e-t;return n?cH(t,n):eD(isNaN(t)?e:t)}const jM=function t(e){var n=hH(e);function r(i,s){var o=n((i=W8(i)).r,(s=W8(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=tD(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function _l(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var j8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a6=new RegExp(j8.source,"g");function dH(t){return function(){return t}}function pH(t){return function(e){return t(e)+""}}function mH(t,e){var n=j8.lastIndex=a6.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=j8.exec(t))&&(i=a6.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:_l(r,i)})),n=a6.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?pH(l[0].x):dH(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var XM=180/Math.PI,X8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nD(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*XM,skewX:Math.atan(l)*XM,scaleX:o,scaleY:a}}var E2;function gH(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?X8:nD(e.a,e.b,e.c,e.d,e.e,e.f)}function vH(t){return t==null||(E2||(E2=document.createElementNS("http://www.w3.org/2000/svg","g")),E2.setAttribute("transform",t),!(t=E2.transform.baseVal.consolidate()))?X8:(t=t.matrix,nD(t.a,t.b,t.c,t.d,t.e,t.f))}function rD(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,d,m,g){if(u!==f||c!==d){var v=m.push("translate(",null,e,null,n);g.push({i:v-4,x:_l(u,f)},{i:v-2,x:_l(c,d)})}else(f||d)&&m.push("translate("+f+e+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:_l(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:_l(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,m,g){if(u!==f||c!==d){var v=m.push(i(m)+"scale(",null,",",null,")");g.push({i:v-4,x:_l(u,f)},{i:v-2,x:_l(c,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(m){for(var g=-1,v=d.length,y;++g<v;)f[(y=d[g]).i]=y.x(m);return f.join("")}}}var yH=rD(gH,"px, ","px)","deg)"),xH=rD(vH,", ",")",")"),SH=1e-12;function JM(t){return((t=Math.exp(t))+1/t)/2}function wH(t){return((t=Math.exp(t))-1/t)/2}function _H(t){return((t=Math.exp(2*t))-1)/(t+1)}const MH=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],f=o[1],d=o[2],m=c-a,g=f-l,v=m*m+g*g,y,w;if(v<SH)w=Math.log(d/u)/e,y=function(P){return[a+P*m,l+P*g,u*Math.exp(e*P*w)]};else{var S=Math.sqrt(v),x=(d*d-u*u+r*v)/(2*u*n*S),M=(d*d-u*u-r*v)/(2*d*n*S),E=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(M*M+1)-M);w=(C-E)/e,y=function(P){var T=P*w,R=JM(E),I=u/(n*S)*(R*_H(e*T+E)-wH(E));return[a+I*m,l+I*g,u*R/JM(e*T+E)]}}return y.duration=w*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var fh=0,np=0,wd=0,iD=1e3,cg,rp,fg=0,dc=0,iv=0,r0=typeof performance=="object"&&performance.now?performance:Date,sD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bx(){return dc||(sD(AH),dc=r0.now()+iv)}function AH(){dc=0}function hg(){this._call=this._time=this._next=null}hg.prototype=oD.prototype={constructor:hg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?bx():+n)+(e==null?0:+e),!this._next&&rp!==this&&(rp?rp._next=this:cg=this,rp=this),this._call=t,this._time=n,J8()},stop:function(){this._call&&(this._call=null,this._time=1/0,J8())}};function oD(t,e,n){var r=new hg;return r.restart(t,e,n),r}function EH(){bx(),++fh;for(var t=cg,e;t;)(e=dc-t._time)>=0&&t._call.call(null,e),t=t._next;--fh}function YM(){dc=(fg=r0.now())+iv,fh=np=0;try{EH()}finally{fh=0,CH(),dc=0}}function TH(){var t=r0.now(),e=t-fg;e>iD&&(iv-=e,fg=t)}function CH(){for(var t,e=cg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cg=n);rp=t,J8(r)}function J8(t){if(!fh){np&&(np=clearTimeout(np));var e=t-dc;e>24?(t<1/0&&(np=setTimeout(YM,t-r0.now()-iv)),wd&&(wd=clearInterval(wd))):(wd||(fg=r0.now(),wd=setInterval(TH,iD)),fh=1,sD(YM))}}function KM(t,e,n){var r=new hg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var bH=Ax("start","end","cancel","interrupt"),PH=[],aD=0,ZM=1,Y8=2,Qm=3,QM=4,K8=5,qm=6;function sv(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;RH(t,n,{name:e,index:r,group:i,on:bH,tween:PH,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aD})}function Px(t,e){var n=bo(t,e);if(n.state>aD)throw new Error("too late; already scheduled");return n}function ia(t,e){var n=bo(t,e);if(n.state>Qm)throw new Error("too late; already running");return n}function bo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function RH(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=oD(s,0,n.time);function s(u){n.state=ZM,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,m;if(n.state!==ZM)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===Qm)return KM(o);m.state===QM?(m.state=qm,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=qm,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(KM(function(){n.state===Qm&&(n.state=QM,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Y8,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Y8){for(n.state=Qm,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=K8,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===K8&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=qm,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function $m(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Y8&&r.state<K8,r.state=qm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function DH(t){return this.each(function(){$m(this,t)})}function BH(t,e){var n,r;return function(){var i=ia(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function IH(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ia(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function LH(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=bo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?BH:IH)(n,t,e))}function Rx(t,e,n){var r=t._id;return t.each(function(){var i=ia(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return bo(i,r).value[e]}}function lD(t,e){var n;return(typeof e=="number"?_l:e instanceof n0?jM:(n=n0(e))?(e=n,jM):mH)(t,e)}function FH(t){return function(){this.removeAttribute(t)}}function kH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function UH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function NH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function OH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function zH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function GH(t,e){var n=rv(t),r=n==="transform"?xH:lD;return this.attrTween(t,typeof e=="function"?(n.local?zH:OH)(n,r,Rx(this,"attr."+t,e)):e==null?(n.local?kH:FH)(n):(n.local?NH:UH)(n,r,e))}function HH(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function VH(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function WH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&VH(t,s)),n}return i._value=e,i}function jH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&HH(t,s)),n}return i._value=e,i}function XH(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=rv(t);return this.tween(n,(r.local?WH:jH)(r,e))}function JH(t,e){return function(){Px(this,t).delay=+e.apply(this,arguments)}}function YH(t,e){return e=+e,function(){Px(this,t).delay=e}}function KH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?JH:YH)(e,t)):bo(this.node(),e).delay}function ZH(t,e){return function(){ia(this,t).duration=+e.apply(this,arguments)}}function QH(t,e){return e=+e,function(){ia(this,t).duration=e}}function qH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ZH:QH)(e,t)):bo(this.node(),e).duration}function $H(t,e){if(typeof e!="function")throw new Error;return function(){ia(this,t).ease=e}}function eV(t){var e=this._id;return arguments.length?this.each($H(e,t)):bo(this.node(),e).ease}function tV(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ia(this,t).ease=n}}function nV(t){if(typeof t!="function")throw new Error;return this.each(tV(this._id,t))}function rV(t){typeof t!="function"&&(t=HR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Wa(r,this._parents,this._name,this._id)}function iV(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new Wa(o,this._parents,this._name,this._id)}function sV(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function oV(t,e,n){var r,i,s=sV(e)?Px:ia;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function aV(t,e){var n=this._id;return arguments.length<2?bo(this.node(),n).on.on(t):this.each(oV(n,t,e))}function lV(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function uV(){return this.on("end.remove",lV(this._id))}function cV(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ex(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=t.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,sv(u[d],e,n,d,u,bo(c,n)));return new Wa(s,this._parents,e,n)}function fV(t){var e=this._name,n=this._id;typeof t!="function"&&(t=GR(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),m,g=bo(c,n),v=0,y=d.length;v<y;++v)(m=d[v])&&sv(m,e,n,v,d,g);s.push(d),o.push(c)}return new Wa(s,o,e,n)}var hV=B0.prototype.constructor;function dV(){return new hV(this._groups,this._parents)}function pV(t,e){var n,r,i;return function(){var s=ch(this,t),o=(this.style.removeProperty(t),ch(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function uD(t){return function(){this.style.removeProperty(t)}}function mV(t,e,n){var r,i=n+"",s;return function(){var o=ch(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function gV(t,e,n){var r,i,s;return function(){var o=ch(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),ch(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function vV(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=ia(this,t),u=l.on,c=l.value[s]==null?a||(a=uD(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function yV(t,e,n){var r=(t+="")=="transform"?yH:lD;return e==null?this.styleTween(t,pV(t,r)).on("end.style."+t,uD(t)):typeof e=="function"?this.styleTween(t,gV(t,r,Rx(this,"style."+t,e))).each(vV(this._id,t)):this.styleTween(t,mV(t,r,e),n).on("end.style."+t,null)}function xV(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function SV(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&xV(t,o,n)),r}return s._value=e,s}function wV(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,SV(t,e,n??""))}function _V(t){return function(){this.textContent=t}}function MV(t){return function(){var e=t(this);this.textContent=e??""}}function AV(t){return this.tween("text",typeof t=="function"?MV(Rx(this,"text",t)):_V(t==null?"":t+""))}function EV(t){return function(e){this.textContent=t.call(this,e)}}function TV(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&EV(i)),e}return r._value=t,r}function CV(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,TV(t))}function bV(){for(var t=this._name,e=this._id,n=cD(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=bo(l,e);sv(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wa(r,this._parents,t,n)}function PV(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=ia(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var RV=0;function Wa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function cD(){return++RV}var xu=B0.prototype;Wa.prototype={constructor:Wa,select:cV,selectAll:fV,filter:rV,merge:iV,selection:dV,transition:bV,call:xu.call,nodes:xu.nodes,node:xu.node,size:xu.size,empty:xu.empty,each:xu.each,on:aV,attr:GH,attrTween:XH,style:yV,styleTween:wV,text:AV,textTween:CV,remove:uV,tween:LH,delay:KH,duration:qH,ease:eV,easeVarying:nV,end:PV,[Symbol.iterator]:xu[Symbol.iterator]};function DV(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var BV={time:null,delay:0,duration:250,ease:DV};function IV(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function LV(t){var e,n;t instanceof Wa?(e=t._id,t=t._name):(e=cD(),(n=BV).time=bx(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&sv(l,t,e,u,o,n||IV(l,e));return new Wa(r,this._parents,t,e)}B0.prototype.interrupt=DH;B0.prototype.transition=LV;const T2=t=>()=>t;function FV(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ia(t,e,n){this.k=t,this.x=e,this.y=n}Ia.prototype={constructor:Ia,scale:function(t){return t===1?this:new Ia(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ia(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dx=new Ia(1,0,0);Ia.prototype;function l6(t){t.stopImmediatePropagation()}function _d(t){t.preventDefault(),t.stopImmediatePropagation()}function kV(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function UV(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function qM(){return this.__zoom||Dx}function NV(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function OV(){return navigator.maxTouchPoints||"ontouchstart"in this}function zV(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function GV(){var t=kV,e=UV,n=zV,r=NV,i=OV,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=MH,u=Ax("start","zoom","end"),c,f,d,m=500,g=150,v=0,y=10;function w(D){D.property("__zoom",qM).on("wheel.zoom",T).on("mousedown.zoom",R).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",U).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(D,k,H,oe){var N=D.selection?D.selection():D;N.property("__zoom",qM),D!==N?E(D,k,H,oe):N.interrupt().each(function(){C(this,arguments).event(oe).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},w.scaleBy=function(D,k,H,oe){w.scaleTo(D,function(){var N=this.__zoom.k,W=typeof k=="function"?k.apply(this,arguments):k;return N*W},H,oe)},w.scaleTo=function(D,k,H,oe){w.transform(D,function(){var N=e.apply(this,arguments),W=this.__zoom,Z=H==null?M(N):typeof H=="function"?H.apply(this,arguments):H,Y=W.invert(Z),F=typeof k=="function"?k.apply(this,arguments):k;return n(x(S(W,F),Z,Y),N,o)},H,oe)},w.translateBy=function(D,k,H,oe){w.transform(D,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof H=="function"?H.apply(this,arguments):H),e.apply(this,arguments),o)},null,oe)},w.translateTo=function(D,k,H,oe,N){w.transform(D,function(){var W=e.apply(this,arguments),Z=this.__zoom,Y=oe==null?M(W):typeof oe=="function"?oe.apply(this,arguments):oe;return n(Dx.translate(Y[0],Y[1]).scale(Z.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof H=="function"?-H.apply(this,arguments):-H),W,o)},oe,N)};function S(D,k){return k=Math.max(s[0],Math.min(s[1],k)),k===D.k?D:new Ia(k,D.x,D.y)}function x(D,k,H){var oe=k[0]-H[0]*D.k,N=k[1]-H[1]*D.k;return oe===D.x&&N===D.y?D:new Ia(D.k,oe,N)}function M(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function E(D,k,H,oe){D.on("start.zoom",function(){C(this,arguments).event(oe).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(oe).end()}).tween("zoom",function(){var N=this,W=arguments,Z=C(N,W).event(oe),Y=e.apply(N,W),F=H==null?M(Y):typeof H=="function"?H.apply(N,W):H,q=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ee=N.__zoom,X=typeof k=="function"?k.apply(N,W):k,K=l(ee.invert(F).concat(q/ee.k),X.invert(F).concat(q/X.k));return function(le){if(le===1)le=X;else{var re=K(le),me=q/re[2];le=new Ia(me,F[0]-re[0]*me,F[1]-re[1]*me)}Z.zoom(null,le)}})}function C(D,k,H){return!H&&D.__zooming||new P(D,k)}function P(D,k){this.that=D,this.args=k,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,k),this.taps=0}P.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,k){return this.mouse&&D!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var k=ba(this.that).datum();u.call(D,this.that,new FV(D,{sourceEvent:this.sourceEvent,target:w,type:D,transform:this.that.__zoom,dispatch:u}),k)}};function T(D,...k){if(!t.apply(this,arguments))return;var H=C(this,k).event(D),oe=this.__zoom,N=Math.max(s[0],Math.min(s[1],oe.k*Math.pow(2,r.apply(this,arguments)))),W=yu(D);if(H.wheel)(H.mouse[0][0]!==W[0]||H.mouse[0][1]!==W[1])&&(H.mouse[1]=oe.invert(H.mouse[0]=W)),clearTimeout(H.wheel);else{if(oe.k===N)return;H.mouse=[W,oe.invert(W)],$m(this),H.start()}_d(D),H.wheel=setTimeout(Z,g),H.zoom("mouse",n(x(S(oe,N),H.mouse[0],H.mouse[1]),H.extent,o));function Z(){H.wheel=null,H.end()}}function R(D,...k){if(d||!t.apply(this,arguments))return;var H=C(this,k,!0).event(D),oe=ba(D.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",q,!0),N=yu(D,W),W=D.currentTarget,Z=D.clientX,Y=D.clientY;qG(D.view),l6(D),H.mouse=[N,this.__zoom.invert(N)],$m(this),H.start();function F(ee){if(_d(ee),!H.moved){var X=ee.clientX-Z,K=ee.clientY-Y;H.moved=X*X+K*K>v}H.event(ee).zoom("mouse",n(x(H.that.__zoom,H.mouse[0]=yu(ee,W),H.mouse[1]),H.extent,o))}function q(ee){oe.on("mousemove.zoom mouseup.zoom",null),$G(ee.view,H.moved),_d(ee),H.event(ee).end()}}function I(D,...k){if(t.apply(this,arguments)){var H=this.__zoom,oe=yu(D.changedTouches?D.changedTouches[0]:D,this),N=H.invert(oe),W=H.k*(D.shiftKey?.5:2),Z=n(x(S(H,W),oe,N),e.apply(this,k),o);_d(D),a>0?ba(this).transition().duration(a).call(E,Z,oe,D):ba(this).call(w.transform,Z,oe,D)}}function U(D,...k){if(t.apply(this,arguments)){var H=D.touches,oe=H.length,N=C(this,k,D.changedTouches.length===oe).event(D),W,Z,Y,F;for(l6(D),Z=0;Z<oe;++Z)Y=H[Z],F=yu(Y,this),F=[F,this.__zoom.invert(F),Y.identifier],N.touch0?!N.touch1&&N.touch0[2]!==F[2]&&(N.touch1=F,N.taps=0):(N.touch0=F,W=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),W&&(N.taps<2&&(f=F[0],c=setTimeout(function(){c=null},m)),$m(this),N.start())}}function G(D,...k){if(this.__zooming){var H=C(this,k).event(D),oe=D.changedTouches,N=oe.length,W,Z,Y,F;for(_d(D),W=0;W<N;++W)Z=oe[W],Y=yu(Z,this),H.touch0&&H.touch0[2]===Z.identifier?H.touch0[0]=Y:H.touch1&&H.touch1[2]===Z.identifier&&(H.touch1[0]=Y);if(Z=H.that.__zoom,H.touch1){var q=H.touch0[0],ee=H.touch0[1],X=H.touch1[0],K=H.touch1[1],le=(le=X[0]-q[0])*le+(le=X[1]-q[1])*le,re=(re=K[0]-ee[0])*re+(re=K[1]-ee[1])*re;Z=S(Z,Math.sqrt(le/re)),Y=[(q[0]+X[0])/2,(q[1]+X[1])/2],F=[(ee[0]+K[0])/2,(ee[1]+K[1])/2]}else if(H.touch0)Y=H.touch0[0],F=H.touch0[1];else return;H.zoom("touch",n(x(Z,Y,F),H.extent,o))}}function j(D,...k){if(this.__zooming){var H=C(this,k).event(D),oe=D.changedTouches,N=oe.length,W,Z;for(l6(D),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),W=0;W<N;++W)Z=oe[W],H.touch0&&H.touch0[2]===Z.identifier?delete H.touch0:H.touch1&&H.touch1[2]===Z.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(Z=yu(Z,this),Math.hypot(f[0]-Z[0],f[1]-Z[1])<y)){var Y=ba(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return w.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:T2(+D),w):r},w.filter=function(D){return arguments.length?(t=typeof D=="function"?D:T2(!!D),w):t},w.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:T2(!!D),w):i},w.extent=function(D){return arguments.length?(e=typeof D=="function"?D:T2([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),w):e},w.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],w):[s[0],s[1]]},w.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(D){return arguments.length?(n=D,w):n},w.duration=function(D){return arguments.length?(a=+D,w):a},w.interpolate=function(D){return arguments.length?(l=D,w):l},w.on=function(){var D=u.on.apply(u,arguments);return D===u?w:D},w.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,w):Math.sqrt(v)},w.tapDistance=function(D){return arguments.length?(y=+D,w):y},w}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){HV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z8(t){"@babel/helpers - typeof";return Z8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z8(t)}function HV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}function VV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qs(t,e){if(t==null)return{};var n=VV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ni(t,e){return WV(t)||jV(t,e)||XV(t,e)||JV()}function WV(t){if(Array.isArray(t))return t}function jV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function XV(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var YV=["width","height","projection","projectionConfig"],KV=DR,ZV=Qs(cz,["geoPath"]),sa=z.createContext(),QV=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,s=i===void 0?"geoEqualEarth":i,o=e.width,a=o===void 0?800:o,l=e.height,u=l===void 0?600:l,c=typeof s=="function";if(c)return s;var f=ZV[s]().translate([a/2,u/2]),d=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return d.forEach(function(m){m&&(f=f[m](r[m]||f[m]()))}),f},fD=function(e){var n=e.width,r=e.height,i=e.projection,s=e.projectionConfig,o=Qs(e,YV),a=s.center||[],l=ni(a,2),u=l[0],c=l[1],f=s.rotate||[],d=ni(f,3),m=d[0],g=d[1],v=d[2],y=s.parallels||[],w=ni(y,2),S=w[0],x=w[1],M=s.scale||null,E=z.useMemo(function(){return QV({projectionConfig:{center:u||u===0||c||c===0?[u,c]:null,rotate:m||m===0||g||g===0?[m,g,v]:null,parallels:S||S===0||x||x===0?[S,x]:null,scale:M},projection:i,width:n,height:r})},[n,r,i,u,c,m,g,v,S,x,M]),C=z.useCallback(E,[E]),P=z.useMemo(function(){return{width:n,height:r,projection:C,path:KV().projection(C)}},[n,r,C]);return Rn.createElement(sa.Provider,ns({value:P},o))};fD.propTypes={width:lt.number,height:lt.number,projection:lt.oneOfType([lt.string,lt.func]),projectionConfig:lt.object};var qV=["width","height","projection","projectionConfig","className"],Bx=z.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,s=i===void 0?600:i,o=t.projection,a=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,u=l===void 0?{}:l,c=t.className,f=c===void 0?"":c,d=Qs(t,qV);return Rn.createElement(fD,{width:r,height:s,projection:a,projectionConfig:u},Rn.createElement("svg",ns({ref:e,viewBox:"0 0 ".concat(r," ").concat(s),className:"rsm-svg ".concat(f)},d)))});Bx.displayName="ComposableMap";Bx.propTypes={width:lt.number,height:lt.number,projection:lt.oneOfType([lt.string,lt.func]),projectionConfig:lt.object,className:lt.string};function tA(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function $V(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function nA(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=pz(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function rA(t){var e=t.type==="Topology";if(!e)return null;var n=FM(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i===s}),r=FM(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i!==s});return{outline:n,borders:r}}function eW(t,e,n){return t&&e?{outline:Rf(Rf({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Rf(Rf({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function tW(t,e){return t?t.map(function(n,r){return Rf(Rf({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function nW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],s=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+s," ").concat(-t,",").concat(-e)}function rW(t){return typeof t=="string"}function iW(t){var e=t.geography,n=t.parseGeographies,r=z.useContext(sa),i=r.path,s=z.useState({}),o=ni(s,2),a=o[0],l=o[1];z.useEffect(function(){(typeof window>"u"?"undefined":Z8(window))!=="undefined"&&e&&(rW(e)?$V(e).then(function(m){m&&l({geographies:nA(m,n),mesh:rA(m)})}):l({geographies:nA(e,n),mesh:rA(e)}))},[e,n]);var u=z.useMemo(function(){var m=a.mesh||{},g=eW(m.outline,m.borders,i);return{geographies:tW(a.geographies,i),outline:g.outline,borders:g.borders}},[a,i]),c=u.geographies,f=u.outline,d=u.borders;return{geographies:c,outline:f,borders:d}}var sW=["geography","children","parseGeographies","className"],Ix=z.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,s=t.className,o=s===void 0?"":s,a=Qs(t,sW),l=z.useContext(sa),u=l.path,c=l.projection,f=iW({geography:n,parseGeographies:i}),d=f.geographies,m=f.outline,g=f.borders;return Rn.createElement("g",ns({ref:e,className:"rsm-geographies ".concat(o)},a),d&&d.length>0&&r({geographies:d,outline:m,borders:g,path:u,projection:c}))});Ix.displayName="Geographies";Ix.propTypes={geography:lt.oneOfType([lt.string,lt.object,lt.array]),children:lt.func,parseGeographies:lt.func,className:lt.string};var oW=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Lx=z.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,a=t.onFocus,l=t.onBlur,u=t.style,c=u===void 0?{}:u,f=t.className,d=f===void 0?"":f,m=Qs(t,oW),g=z.useState(!1),v=ni(g,2),y=v[0],w=v[1],S=z.useState(!1),x=ni(S,2),M=x[0],E=x[1];function C(G){E(!0),r&&r(G)}function P(G){E(!1),y&&w(!1),i&&i(G)}function T(G){E(!0),a&&a(G)}function R(G){E(!1),y&&w(!1),l&&l(G)}function I(G){w(!0),s&&s(G)}function U(G){w(!1),o&&o(G)}return Rn.createElement("path",ns({ref:e,tabIndex:"0",className:"rsm-geography ".concat(d),d:n.svgPath,onMouseEnter:C,onMouseLeave:P,onFocus:T,onBlur:R,onMouseDown:I,onMouseUp:U,style:c[y||M?y?"pressed":"hover":"default"]},m))});Lx.displayName="Geography";Lx.propTypes={geography:lt.object,onMouseEnter:lt.func,onMouseLeave:lt.func,onMouseDown:lt.func,onMouseUp:lt.func,onFocus:lt.func,onBlur:lt.func,style:lt.object,className:lt.string};var aW=z.memo(Lx),lW=["fill","stroke","step","className"],Fx=z.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,s=i===void 0?"currentcolor":i,o=t.step,a=o===void 0?[10,10]:o,l=t.className,u=l===void 0?"":l,c=Qs(t,lW),f=z.useContext(sa),d=f.path;return Rn.createElement("path",ns({ref:e,d:d(ux().step(a)()),fill:r,stroke:s,className:"rsm-graticule ".concat(u)},c))});Fx.displayName="Graticule";Fx.propTypes={fill:lt.string,stroke:lt.string,step:lt.array,className:lt.string};z.memo(Fx);var uW=["value"],cW=z.createContext(),fW={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},hD=function(e){var n=e.value,r=n===void 0?fW:n,i=Qs(e,uW);return Rn.createElement(cW.Provider,ns({value:r},i))};hD.propTypes={x:lt.number,y:lt.number,k:lt.number,transformString:lt.string};function hW(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,s=t.onMove,o=t.translateExtent,a=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,u=l===void 0?[1,8]:l,c=t.zoom,f=c===void 0?1:c,d=z.useContext(sa),m=d.width,g=d.height,v=d.projection,y=ni(e,2),w=y[0],S=y[1],x=z.useState({x:0,y:0,k:1}),M=ni(x,2),E=M[0],C=M[1],P=z.useRef({x:0,y:0,k:1}),T=z.useRef(),R=z.useRef(),I=z.useRef(!1),U=ni(a,2),G=U[0],j=U[1],D=ni(G,2),k=D[0],H=D[1],oe=ni(j,2),N=oe[0],W=oe[1],Z=ni(u,2),Y=Z[0],F=Z[1];return z.useEffect(function(){var q=ba(T.current);function ee(me){!r||I.current||r({coordinates:v.invert(tA(m,g,me.transform)),zoom:me.transform.k},me)}function X(me){if(!I.current){var Ee=me.transform,_e=me.sourceEvent;C({x:Ee.x,y:Ee.y,k:Ee.k,dragging:_e}),s&&s({x:Ee.x,y:Ee.y,zoom:Ee.k,dragging:_e},me)}}function K(me){if(I.current){I.current=!1;return}var Ee=v.invert(tA(m,g,me.transform)),_e=ni(Ee,2),ie=_e[0],xe=_e[1];P.current={x:ie,y:xe,k:me.transform.k},i&&i({coordinates:[ie,xe],zoom:me.transform.k},me)}function le(me){return n?n(me):me?!me.ctrlKey&&!me.button:!1}var re=GV().filter(le).scaleExtent([Y,F]).translateExtent([[k,H],[N,W]]).on("start",ee).on("zoom",X).on("end",K);R.current=re,q.call(re)},[m,g,k,H,N,W,Y,F,v,r,s,i,n]),z.useEffect(function(){if(!(w===P.current.x&&S===P.current.y&&f===P.current.k)){var q=v([w,S]),ee=q[0]*f,X=q[1]*f,K=ba(T.current);I.current=!0,K.call(R.current.transform,Dx.translate(m/2-ee,g/2-X).scale(f)),C({x:m/2-ee,y:g/2-X,k:f}),P.current={x:w,y:S,k:f}}},[w,S,f,m,g,v]),{mapRef:T,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var dW=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],dD=z.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,s=i===void 0?1:i,o=t.minZoom,a=o===void 0?1:o,l=t.maxZoom,u=l===void 0?8:l,c=t.translateExtent,f=t.filterZoomEvent,d=t.onMoveStart,m=t.onMove,g=t.onMoveEnd,v=t.className,y=Qs(t,dW),w=z.useContext(sa),S=w.width,x=w.height,M=hW({center:r,filterZoomEvent:f,onMoveStart:d,onMove:m,onMoveEnd:g,scaleExtent:[a,u],translateExtent:c,zoom:s}),E=M.mapRef,C=M.transformString,P=M.position;return Rn.createElement(hD,{value:{x:P.x,y:P.y,k:P.k,transformString:C}},Rn.createElement("g",{ref:E},Rn.createElement("rect",{width:S,height:x,fill:"transparent"}),Rn.createElement("g",ns({ref:e,transform:C,className:"rsm-zoomable-group ".concat(v)},y))))});dD.displayName="ZoomableGroup";dD.propTypes={center:lt.array,zoom:lt.number,minZoom:lt.number,maxZoom:lt.number,translateExtent:lt.arrayOf(lt.array),onMoveStart:lt.func,onMove:lt.func,onMoveEnd:lt.func,className:lt.string};var pW=["id","fill","stroke","strokeWidth","className"],kx=z.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,s=i===void 0?"transparent":i,o=t.stroke,a=o===void 0?"currentcolor":o,l=t.strokeWidth,u=l===void 0?.5:l,c=t.className,f=c===void 0?"":c,d=Qs(t,pW),m=z.useContext(sa),g=m.path,v=z.useMemo(function(){return g({type:"Sphere"})},[g]);return Rn.createElement(z.Fragment,null,Rn.createElement("defs",null,Rn.createElement("clipPath",{id:r},Rn.createElement("path",{d:v}))),Rn.createElement("path",ns({ref:e,d:v,fill:s,stroke:a,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},d)))});kx.displayName="Sphere";kx.propTypes={id:lt.string,fill:lt.string,stroke:lt.string,strokeWidth:lt.number,className:lt.string};z.memo(kx);var mW=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],pD=z.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,s=t.onMouseLeave,o=t.onMouseDown,a=t.onMouseUp,l=t.onFocus,u=t.onBlur,c=t.style,f=c===void 0?{}:c,d=t.className,m=d===void 0?"":d,g=Qs(t,mW),v=z.useContext(sa),y=v.projection,w=z.useState(!1),S=ni(w,2),x=S[0],M=S[1],E=z.useState(!1),C=ni(E,2),P=C[0],T=C[1],R=y(n),I=ni(R,2),U=I[0],G=I[1];function j(W){T(!0),i&&i(W)}function D(W){T(!1),x&&M(!1),s&&s(W)}function k(W){T(!0),l&&l(W)}function H(W){T(!1),x&&M(!1),u&&u(W)}function oe(W){M(!0),o&&o(W)}function N(W){M(!1),a&&a(W)}return Rn.createElement("g",ns({ref:e,transform:"translate(".concat(U,", ").concat(G,")"),className:"rsm-marker ".concat(m),onMouseEnter:j,onMouseLeave:D,onFocus:k,onBlur:H,onMouseDown:oe,onMouseUp:N,style:f[x||P?x?"pressed":"hover":"default"]},g),r)});pD.displayName="Marker";pD.propTypes={coordinates:lt.array,children:lt.oneOfType([lt.node,lt.arrayOf(lt.node)]),onMouseEnter:lt.func,onMouseLeave:lt.func,onMouseDown:lt.func,onMouseUp:lt.func,onFocus:lt.func,onBlur:lt.func,style:lt.object,className:lt.string};var gW=["from","to","coordinates","stroke","strokeWidth","fill","className"],mD=z.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,s=i===void 0?[0,0]:i,o=t.coordinates,a=t.stroke,l=a===void 0?"currentcolor":a,u=t.strokeWidth,c=u===void 0?3:u,f=t.fill,d=f===void 0?"transparent":f,m=t.className,g=m===void 0?"":m,v=Qs(t,gW),y=z.useContext(sa),w=y.path,S={type:"LineString",coordinates:o||[r,s]};return Rn.createElement("path",ns({ref:e,d:w(S),className:"rsm-line ".concat(g),stroke:l,strokeWidth:c,fill:d},v))});mD.displayName="Line";mD.propTypes={from:lt.array,to:lt.array,coordinates:lt.array,stroke:lt.string,strokeWidth:lt.number,fill:lt.string,className:lt.string};var vW=["subject","children","connectorProps","dx","dy","curve","className"],dg=z.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,s=t.dx,o=s===void 0?30:s,a=t.dy,l=a===void 0?30:a,u=t.curve,c=u===void 0?0:u,f=t.className,d=f===void 0?"":f,m=Qs(t,vW),g=z.useContext(sa),v=g.projection,y=v(n),w=ni(y,2),S=w[0],x=w[1],M=nW(o,l,c);return Rn.createElement("g",ns({ref:e,transform:"translate(".concat(S+o,", ").concat(x+l,")"),className:"rsm-annotation ".concat(d)},m),Rn.createElement("path",ns({d:M,fill:"transparent",stroke:"#000"},i)),r)});dg.displayName="Annotation";dg.propTypes={subject:lt.array,children:lt.oneOfType([lt.node,lt.arrayOf(lt.node)]),dx:lt.number,dy:lt.number,curve:lt.number,connectorProps:lt.object,className:lt.string};const yW=()=>hn(Bx,{projection:"geoAzimuthalEqualArea",projectionConfig:{rotate:[-10,-52,0],center:[-5,-3],scale:1600},style:{width:"100%",height:"100%"},children:[Oe(Ix,{geography:"/features.json",fill:"#4c85ba",stroke:"#FFFFFF",strokeWidth:.5,children:({geographies:t})=>t.map(e=>Oe(aW,{geography:e},e.rsmKey))}),Oe(dg,{subject:[2.3522,48.8566],dx:-90,dy:-30,connectorProps:{stroke:"white",strokeWidth:2,strokeLinecap:"round"},children:Oe("text",{x:"-8",textAnchor:"end",alignmentBaseline:"middle",fill:"white",children:"Paris"})}),Oe(dg,{subject:[21.01178,52.22977],dx:-90,dy:-30,connectorProps:{stroke:"white",strokeWidth:2,strokeLinecap:"round"},children:Oe("text",{x:"-8",textAnchor:"end",alignmentBaseline:"middle",fill:"white",children:"Warsaw"})})]}),xW=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
`,SW=Ft.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: space-between;
  gap: 50px;
`,wW=Ft.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  @media only screen and (max-width: 768px) {
    justify-content: center;
  }
`,_W=Ft.h1`
  font-weight: 200;
`,MW=Ft.form`
  width: 500px;
  display: flex;
  flex-direction: column;
  gap: 25px;

  @media only screen and (max-width: 768px) {
    width: 300px;
  }
`,iA=Ft.input`
  padding: 20px;
  background-color: #e8e6e6;
  border: none;
  border-radius: 5px;
`,AW=Ft.textarea`
  padding: 20px;
  border: none;
  border-radius: 5px;
  background-color: #e8e6e6;
`,EW=Ft.button`
  background-color: #4e6fda;#4e6fda
  color: white;
  border: none;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  padding: 20px;
`,TW=Ft.div`
  flex: 1;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,CW=()=>{const t=z.useRef(),[e,n]=z.useState(null);return Oe(xW,{children:hn(SW,{children:[Oe(wW,{children:hn(MW,{ref:t,onSubmit:i=>{i.preventDefault(),jN.sendForm("service_id","template_id",t.current,"public_key").then(s=>{console.log(s.text),n(!0)},s=>{console.log(s.text),n(!1)})},children:[Oe(_W,{children:"Contact Us"}),Oe(iA,{placeholder:"Name",name:"name"}),Oe(iA,{placeholder:"Email",name:"email"}),Oe(AW,{placeholder:"Write your message",name:"message",rows:10}),Oe(EW,{type:"submit",children:"Send"}),e&&"Your message has been sent. We'll get back to you soon :)"]})}),Oe(TW,{children:Oe(yW,{})})]})})},bW=Ft.div`
  display: flex;
  justify-content: center;

  @media only screen and (max-width: 768px) {
    width: 100%;
  }
`,PW=Ft.div`
  width: 1400px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0px;

  @media only screen and (max-width: 768px) {
    width: 100%;
    padding: 10px;
  }
`,RW=Ft.div`
  display: flex;
  align-items: center;
  gap: 50px;
`,DW=Ft.img`
  height: 50px;
`,BW=Ft.ul`
  display: flex;
  gap: 20px;
  list-style: none;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,C2=Ft.li`
  cursor: pointer;
`,IW=Ft.div`
  display: flex;
  align-items: center;
  gap: 20px;
`,LW=Ft.img`
  width: 20px;
  cursor: pointer;
`,FW=Ft.button`
  width: 100px;
  padding: 10px;
  background-color: #4e6fda;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,kW=()=>Oe(bW,{children:hn(PW,{children:[hn(RW,{children:[Oe(DW,{src:"./img/logo.png"}),hn(BW,{children:[Oe(C2,{children:"Home"}),Oe(C2,{children:"Studio"}),Oe(C2,{children:"Works"}),Oe(C2,{children:"Contact"})]})]}),hn(IW,{children:[Oe(LW,{src:"./img/search.png"}),Oe(FW,{children:"Hire Now"})]})]})});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qs="150",Lu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},gD=0,Q8=1,vD=2,UW=3,yD=0,ov=1,wp=2,Vu=3,Zs=0,br=1,ri=2,NW=2,Jn=0,$u=1,q8=2,$8=3,ey=4,xD=5,Uu=100,SD=101,wD=102,ty=103,ny=104,_D=200,MD=201,AD=202,ED=203,Ux=204,Nx=205,TD=206,CD=207,bD=208,PD=209,RD=210,Ox=0,zx=1,pg=2,i0=3,s0=4,Gx=5,Hx=6,av=7,L0=0,DD=1,BD=2,Mo=0,ID=1,LD=2,FD=3,Vx=4,kD=5,lv=300,ja=301,Kl=302,hh=303,o0=304,bh=306,xi=1e3,Cr=1001,dh=1002,Nt=1003,a0=1004,OW=1004,Xf=1005,zW=1005,gt=1006,uv=1007,GW=1007,na=1008,HW=1008,Gn=1009,UD=1010,ND=1011,Wx=1012,OD=1013,La=1014,Pn=1015,Xn=1016,zD=1017,GD=1018,Wl=1020,HD=1021,zn=1023,cv=1024,VD=1025,jl=1026,Zl=1027,F0=1028,WD=1029,jx=1030,jD=1031,XD=1033,e1=33776,t1=33777,n1=33778,r1=33779,ry=35840,iy=35841,sy=35842,oy=35843,JD=36196,ay=37492,ly=37496,uy=37808,cy=37809,fy=37810,hy=37811,dy=37812,py=37813,my=37814,gy=37815,vy=37816,yy=37817,xy=37818,Sy=37819,wy=37820,_y=37821,i1=36492,YD=36283,My=36284,Ay=36285,Ey=36286,KD=2200,ZD=2201,QD=2202,ph=2300,pc=2301,s1=2302,Wu=2400,ju=2401,l0=2402,fv=2500,Xx=2501,qD=0,Jx=1,mg=2,To=3e3,En=3001,Yr=3200,Co=3201,Za=0,$D=1,eB="",co="srgb",mh="srgb-linear",Yx="display-p3",VW=0,o1=7680,WW=7681,jW=7682,XW=7683,JW=34055,YW=34056,KW=5386,ZW=512,QW=513,qW=514,$W=515,ej=516,tj=517,nj=518,tB=519,u0=35044,rj=35048,ij=35040,sj=35045,oj=35049,aj=35041,lj=35046,uj=35050,cj=35042,fj="100",gg="300 es",vg=1035;class Ts{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let sA=1234567;const ec=Math.PI/180,c0=180/Math.PI;function Ss(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hi[t&255]+hi[t>>8&255]+hi[t>>16&255]+hi[t>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[n&63|128]+hi[n>>8&255]+"-"+hi[n>>16&255]+hi[n>>24&255]+hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]).toLowerCase()}function _r(t,e,n){return Math.max(e,Math.min(n,t))}function Kx(t,e){return(t%e+e)%e}function hj(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function dj(t,e,n){return t!==e?(n-t)/(e-t):0}function _p(t,e,n){return(1-n)*t+n*e}function pj(t,e,n,r){return _p(t,e,1-Math.exp(-n*r))}function mj(t,e=1){return e-Math.abs(Kx(t,e*2)-e)}function gj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function vj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function yj(t,e){return t+Math.floor(Math.random()*(e-t+1))}function xj(t,e){return t+Math.random()*(e-t)}function Sj(t){return t*(.5-Math.random())}function wj(t){t!==void 0&&(sA=t);let e=sA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _j(t){return t*ec}function Mj(t){return t*c0}function Ty(t){return(t&t-1)===0&&t!==0}function nB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function rB(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Aj(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*d,a*u);break;case"YZY":t.set(l*d,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*d,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Fa(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const yo={DEG2RAD:ec,RAD2DEG:c0,generateUUID:Ss,clamp:_r,euclideanModulo:Kx,mapLinear:hj,inverseLerp:dj,lerp:_p,damp:pj,pingpong:mj,smoothstep:gj,smootherstep:vj,randInt:yj,randFloat:xj,randFloatSpread:Sj,seededRandom:wj,degToRad:_j,radToDeg:Mj,isPowerOfTwo:Ty,ceilPowerOfTwo:nB,floorPowerOfTwo:rB,setQuaternionFromProperEuler:Aj,normalize:Fn,denormalize:Fa};class ve{constructor(e=0,n=0){ve.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fr{constructor(){Fr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],m=r[5],g=r[8],v=i[0],y=i[3],w=i[6],S=i[1],x=i[4],M=i[7],E=i[2],C=i[5],P=i[8];return s[0]=o*v+a*S+l*E,s[3]=o*y+a*x+l*C,s[6]=o*w+a*M+l*P,s[1]=u*v+c*S+f*E,s[4]=u*y+c*x+f*C,s[7]=u*w+c*M+f*P,s[2]=d*v+m*S+g*E,s[5]=d*y+m*x+g*C,s[8]=d*w+m*M+g*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=a*l-c*s,m=u*s-o*l,g=n*f+r*d+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(c*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=m*v,e[7]=(r*l-u*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(u6.makeScale(e,n)),this}rotate(e){return this.premultiply(u6.makeRotation(-e)),this}translate(e,n){return this.premultiply(u6.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const u6=new Fr;function iB(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Ej={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Df(t,e){return new Ej[t](e)}function f0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}class or{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=m,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==d||u!==m||c!==g){let y=1-a;const w=l*d+u*m+c*g+f*v,S=w>=0?1:-1,x=1-w*w;if(x>Number.EPSILON){const E=Math.sqrt(x),C=Math.atan2(E,w*S);y=Math.sin(y*C)/E,a=Math.sin(a*C)/E}const M=a*S;if(l=l*y+d*M,u=u*y+m*M,c=c*y+g*M,f=f*y+v*M,y===1-a){const E=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=E,u*=E,c*=E,f*=E}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*m-u*d,e[n+1]=l*g+c*d+u*f-a*m,e[n+2]=u*g+c*m+a*d-l*f,e[n+3]=c*g-a*f-l*d-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),d=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"YXZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"ZXY":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"ZYX":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"YZX":this._x=d*c*f+u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f-d*m*g;break;case"XZY":this._x=d*c*f-u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+a+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(_r(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(oA.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(oA.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,d=-s*n-o*r-a*i;return this.x=u*l+d*-s+c*-a-f*-o,this.y=c*l+d*-o+f*-s-u*-a,this.z=f*l+d*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return c6.copy(this).projectOnVector(e),this.sub(c6)}reflect(e){return this.sub(c6.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(_r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const c6=new J,oA=new or;function Jf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function f6(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Tj=new Fr().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Cj=new Fr().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Rl=new J;function bj(t){return t.convertSRGBToLinear(),Rl.set(t.r,t.g,t.b).applyMatrix3(Cj),t.setRGB(Rl.x,Rl.y,Rl.z)}function Pj(t){return Rl.set(t.r,t.g,t.b).applyMatrix3(Tj),t.setRGB(Rl.x,Rl.y,Rl.z).convertLinearToSRGB()}const Rj={[mh]:t=>t,[co]:t=>t.convertSRGBToLinear(),[Yx]:bj},Dj={[mh]:t=>t,[co]:t=>t.convertLinearToSRGB(),[Yx]:Pj},pi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return mh},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Rj[e],i=Dj[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Vc;class Zx{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Vc===void 0&&(Vc=f0("canvas")),Vc.width=e.width,Vc.height=e.height;const r=Vc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Vc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=f0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Jf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Jf(n[r]/255)*255):n[r]=Jf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Xu{constructor(e=null){this.isSource=!0,this.uuid=Ss(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(h6(i[o].image)):s.push(h6(i[o]))}else s=h6(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function h6(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Zx.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Bj=0;class bn extends Ts{constructor(e=bn.DEFAULT_IMAGE,n=bn.DEFAULT_MAPPING,r=Cr,i=Cr,s=gt,o=na,a=zn,l=Gn,u=bn.DEFAULT_ANISOTROPY,c=To){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Bj++}),this.uuid=Ss(),this.name="",this.source=new Xu(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xi:e.x=e.x-Math.floor(e.x);break;case Cr:e.x=e.x<0?0:1;break;case dh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xi:e.y=e.y-Math.floor(e.y);break;case Cr:e.y=e.y<0?0:1;break;case dh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=lv;bn.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,n=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],m=l[5],g=l[9],v=l[2],y=l[6],w=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(u+1)/2,M=(m+1)/2,E=(w+1)/2,C=(c+d)/4,P=(f+v)/4,T=(g+y)/4;return x>M&&x>E?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=C/r,s=P/r):M>E?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=C/i,s=T/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=P/s,i=T/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-c)*(d-c));return Math.abs(S)<.001&&(S=1),this.x=(y-g)/S,this.y=(f-v)/S,this.z=(d-c)/S,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $t extends Ts{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new qt(0,0,e,n),this.scissorTest=!1,this.viewport=new qt(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:gt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Xu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hv extends bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nt,this.minFilter=Nt,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ij extends $t{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new hv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class tc extends bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nt,this.minFilter=Nt,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lj extends $t{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new tc(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Qx extends $t{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class rs{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Su.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Su.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Su)}else r.boundingBox===null&&r.computeBoundingBox(),d6.copy(r.boundingBox),d6.applyMatrix4(e.matrixWorld),this.union(d6);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Su),Su.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Md),b2.subVectors(this.max,Md),Wc.subVectors(e.a,Md),jc.subVectors(e.b,Md),Xc.subVectors(e.c,Md),cl.subVectors(jc,Wc),fl.subVectors(Xc,jc),wu.subVectors(Wc,Xc);let n=[0,-cl.z,cl.y,0,-fl.z,fl.y,0,-wu.z,wu.y,cl.z,0,-cl.x,fl.z,0,-fl.x,wu.z,0,-wu.x,-cl.y,cl.x,0,-fl.y,fl.x,0,-wu.y,wu.x,0];return!p6(n,Wc,jc,Xc,b2)||(n=[1,0,0,0,1,0,0,0,1],!p6(n,Wc,jc,Xc,b2))?!1:(P2.crossVectors(cl,fl),n=[P2.x,P2.y,P2.z],p6(n,Wc,jc,Xc,b2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Su).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Su).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(va[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),va[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),va[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),va[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),va[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),va[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),va[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),va[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(va),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const va=[new J,new J,new J,new J,new J,new J,new J,new J],Su=new J,d6=new rs,Wc=new J,jc=new J,Xc=new J,cl=new J,fl=new J,wu=new J,Md=new J,b2=new J,P2=new J,_u=new J;function p6(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){_u.fromArray(t,s);const a=i.x*Math.abs(_u.x)+i.y*Math.abs(_u.y)+i.z*Math.abs(_u.z),l=e.dot(_u),u=n.dot(_u),c=r.dot(_u);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Fj=new rs,Ad=new J,m6=new J;let Cs=class{constructor(e=new J,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Fj.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ad.subVectors(e,this.center);const n=Ad.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Ad,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(m6.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ad.copy(e.center).add(m6)),this.expandByPoint(Ad.copy(e.center).sub(m6))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ya=new J,g6=new J,R2=new J,hl=new J,v6=new J,D2=new J,y6=new J;class Ph{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ya)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ya.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ya.copy(this.origin).addScaledVector(this.direction,n),ya.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){g6.copy(e).add(n).multiplyScalar(.5),R2.copy(n).sub(e).normalize(),hl.copy(this.origin).sub(g6);const s=e.distanceTo(n)*.5,o=-this.direction.dot(R2),a=hl.dot(this.direction),l=-hl.dot(R2),u=hl.lengthSq(),c=Math.abs(1-o*o);let f,d,m,g;if(c>0)if(f=o*l-a,d=o*a-l,g=s*c,f>=0)if(d>=-g)if(d<=g){const v=1/c;f*=v,d*=v,m=f*(f+o*d+2*a)+d*(o*f+d+2*l)+u}else d=s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d=-s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+u):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(g6).addScaledVector(R2,d),m}intersectSphere(e,n){ya.subVectors(e.center,this.origin);const r=ya.dot(this.direction),i=ya.dot(ya)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ya)!==null}intersectTriangle(e,n,r,i,s){v6.subVectors(n,e),D2.subVectors(r,e),y6.crossVectors(v6,D2);let o=this.direction.dot(y6),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;hl.subVectors(this.origin,e);const l=a*this.direction.dot(D2.crossVectors(hl,D2));if(l<0)return null;const u=a*this.direction.dot(v6.cross(hl));if(u<0||l+u>o)return null;const c=-a*hl.dot(y6);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,f,d,m,g,v,y){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=c,w[10]=f,w[14]=d,w[3]=m,w[7]=g,w[11]=v,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Jc.setFromMatrixColumn(e,0).length(),s=1/Jc.setFromMatrixColumn(e,1).length(),o=1/Jc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=d-v*u,n[9]=-a*l,n[2]=v-d*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d+v*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=v+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d-v*a,n[4]=-o*f,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=v-d*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=g*u-m,n[8]=d*u+v,n[1]=l*f,n[5]=v*u+d,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=v-d*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*f+g,n[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+v,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=a*c,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kj,e,Uj)}lookAt(e,n,r){const i=this.elements;return hs.subVectors(e,n),hs.lengthSq()===0&&(hs.z=1),hs.normalize(),dl.crossVectors(r,hs),dl.lengthSq()===0&&(Math.abs(r.z)===1?hs.x+=1e-4:hs.z+=1e-4,hs.normalize(),dl.crossVectors(r,hs)),dl.normalize(),B2.crossVectors(hs,dl),i[0]=dl.x,i[4]=B2.x,i[8]=hs.x,i[1]=dl.y,i[5]=B2.y,i[9]=hs.y,i[2]=dl.z,i[6]=B2.z,i[10]=hs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],m=r[13],g=r[2],v=r[6],y=r[10],w=r[14],S=r[3],x=r[7],M=r[11],E=r[15],C=i[0],P=i[4],T=i[8],R=i[12],I=i[1],U=i[5],G=i[9],j=i[13],D=i[2],k=i[6],H=i[10],oe=i[14],N=i[3],W=i[7],Z=i[11],Y=i[15];return s[0]=o*C+a*I+l*D+u*N,s[4]=o*P+a*U+l*k+u*W,s[8]=o*T+a*G+l*H+u*Z,s[12]=o*R+a*j+l*oe+u*Y,s[1]=c*C+f*I+d*D+m*N,s[5]=c*P+f*U+d*k+m*W,s[9]=c*T+f*G+d*H+m*Z,s[13]=c*R+f*j+d*oe+m*Y,s[2]=g*C+v*I+y*D+w*N,s[6]=g*P+v*U+y*k+w*W,s[10]=g*T+v*G+y*H+w*Z,s[14]=g*R+v*j+y*oe+w*Y,s[3]=S*C+x*I+M*D+E*N,s[7]=S*P+x*U+M*k+E*W,s[11]=S*T+x*G+M*H+E*Z,s[15]=S*R+x*j+M*oe+E*Y,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],m=e[14],g=e[3],v=e[7],y=e[11],w=e[15];return g*(+s*l*f-i*u*f-s*a*d+r*u*d+i*a*m-r*l*m)+v*(+n*l*m-n*u*d+s*o*d-i*o*m+i*u*c-s*l*c)+y*(+n*u*f-n*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+w*(-i*a*c-n*l*f+n*a*d+i*o*f-r*o*d+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],m=e[11],g=e[12],v=e[13],y=e[14],w=e[15],S=f*y*u-v*d*u+v*l*m-a*y*m-f*l*w+a*d*w,x=g*d*u-c*y*u-g*l*m+o*y*m+c*l*w-o*d*w,M=c*v*u-g*f*u+g*a*m-o*v*m-c*a*w+o*f*w,E=g*f*l-c*v*l-g*a*d+o*v*d+c*a*y-o*f*y,C=n*S+r*x+i*M+s*E;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=S*P,e[1]=(v*d*s-f*y*s-v*i*m+r*y*m+f*i*w-r*d*w)*P,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*w+r*l*w)*P,e[3]=(f*l*s-a*d*s-f*i*u+r*d*u+a*i*m-r*l*m)*P,e[4]=x*P,e[5]=(c*y*s-g*d*s+g*i*m-n*y*m-c*i*w+n*d*w)*P,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*w-n*l*w)*P,e[7]=(o*d*s-c*l*s+c*i*u-n*d*u-o*i*m+n*l*m)*P,e[8]=M*P,e[9]=(g*f*s-c*v*s-g*r*m+n*v*m+c*r*w-n*f*w)*P,e[10]=(o*v*s-g*a*s+g*r*u-n*v*u-o*r*w+n*a*w)*P,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*m-n*a*m)*P,e[12]=E*P,e[13]=(c*v*i-g*f*i+g*r*d-n*v*d-c*r*y+n*f*y)*P,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*y-n*a*y)*P,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*d+n*a*d)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,d=s*u,m=s*c,g=s*f,v=o*c,y=o*f,w=a*f,S=l*u,x=l*c,M=l*f,E=r.x,C=r.y,P=r.z;return i[0]=(1-(v+w))*E,i[1]=(m+M)*E,i[2]=(g-x)*E,i[3]=0,i[4]=(m-M)*C,i[5]=(1-(d+w))*C,i[6]=(y+S)*C,i[7]=0,i[8]=(g+x)*P,i[9]=(y-S)*P,i[10]=(1-(d+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Jc.set(i[0],i[1],i[2]).length();const o=Jc.set(i[4],i[5],i[6]).length(),a=Jc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ro.copy(this);const u=1/s,c=1/o,f=1/a;return ro.elements[0]*=u,ro.elements[1]*=u,ro.elements[2]*=u,ro.elements[4]*=c,ro.elements[5]*=c,ro.elements[6]*=c,ro.elements[8]*=f,ro.elements[9]*=f,ro.elements[10]*=f,n.setFromRotationMatrix(ro),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),f=(n+e)*l,d=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Jc=new J,ro=new ht,kj=new J(0,0,0),Uj=new J(1,1,1),dl=new J,B2=new J,hs=new J,aA=new ht,lA=new or;class Rh{constructor(e=0,n=0,r=0,i=Rh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(_r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-_r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(_r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-_r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(_r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-_r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return aA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(aA,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return lA.setFromEuler(this),this.setFromQuaternion(lA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Rh.DEFAULT_ORDER="XYZ";class nc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Nj=0;const uA=new J,Yc=new or,xa=new ht,I2=new J,Ed=new J,Oj=new J,zj=new or,cA=new J(1,0,0),fA=new J(0,1,0),hA=new J(0,0,1),Gj={type:"added"},dA={type:"removed"};class pn extends Ts{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Nj++}),this.uuid=Ss(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pn.DEFAULT_UP.clone();const e=new J,n=new Rh,r=new or,i=new J(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ht},normalMatrix:{value:new Fr}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new nc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Yc.setFromAxisAngle(e,n),this.quaternion.multiply(Yc),this}rotateOnWorldAxis(e,n){return Yc.setFromAxisAngle(e,n),this.quaternion.premultiply(Yc),this}rotateX(e){return this.rotateOnAxis(cA,e)}rotateY(e){return this.rotateOnAxis(fA,e)}rotateZ(e){return this.rotateOnAxis(hA,e)}translateOnAxis(e,n){return uA.copy(e).applyQuaternion(this.quaternion),this.position.add(uA.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(cA,e)}translateY(e){return this.translateOnAxis(fA,e)}translateZ(e){return this.translateOnAxis(hA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?I2.copy(e):I2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ed.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(Ed,I2,this.up):xa.lookAt(I2,Ed,this.up),this.quaternion.setFromRotationMatrix(xa),i&&(xa.extractRotation(i.matrixWorld),Yc.setFromRotationMatrix(xa),this.quaternion.premultiply(Yc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Gj)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(dA)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(dA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(xa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ed,e,Oj),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ed,zj,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}pn.DEFAULT_UP=new J(0,1,0);pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const io=new J,Sa=new J,x6=new J,wa=new J,Kc=new J,Zc=new J,pA=new J,S6=new J,w6=new J,_6=new J;class Hs{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),io.subVectors(e,n),i.cross(io);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){io.subVectors(i,n),Sa.subVectors(r,n),x6.subVectors(e,n);const o=io.dot(io),a=io.dot(Sa),l=io.dot(x6),u=Sa.dot(Sa),c=Sa.dot(x6),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,m=(u*l-a*c)*d,g=(o*c-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,wa),wa.x>=0&&wa.y>=0&&wa.x+wa.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,wa),l.set(0,0),l.addScaledVector(s,wa.x),l.addScaledVector(o,wa.y),l.addScaledVector(a,wa.z),l}static isFrontFacing(e,n,r,i){return io.subVectors(r,n),Sa.subVectors(e,n),io.cross(Sa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return io.subVectors(this.c,this.b),Sa.subVectors(this.a,this.b),io.cross(Sa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Hs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Hs.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Hs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Kc.subVectors(i,r),Zc.subVectors(s,r),S6.subVectors(e,r);const l=Kc.dot(S6),u=Zc.dot(S6);if(l<=0&&u<=0)return n.copy(r);w6.subVectors(e,i);const c=Kc.dot(w6),f=Zc.dot(w6);if(c>=0&&f<=c)return n.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Kc,o);_6.subVectors(e,s);const m=Kc.dot(_6),g=Zc.dot(_6);if(g>=0&&m<=g)return n.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(Zc,a);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return pA.subVectors(s,i),a=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(pA,a);const w=1/(y+v+d);return o=v*w,a=d*w,n.copy(r).addScaledVector(Kc,o).addScaledVector(Zc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Hj=0;class pr extends Ts{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hj++}),this.uuid=Ss(),this.name="",this.type="Material",this.blending=$u,this.side=Zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ux,this.blendDst=Nx,this.blendEquation=Uu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=i0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=o1,this.stencilZFail=o1,this.stencilZPass=o1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==$u&&(r.blending=this.blending),this.side!==Zs&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const sB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},so={h:0,s:0,l:0},L2={h:0,s:0,l:0};function M6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=co){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,pi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=pi.workingColorSpace){return this.r=e,this.g=n,this.b=r,pi.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=pi.workingColorSpace){if(e=Kx(e,1),n=_r(n,0,1),r=_r(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=M6(o,s,e+1/3),this.g=M6(o,s,e),this.b=M6(o,s,e-1/3)}return pi.toWorkingColorSpace(this,i),this}setStyle(e,n=co){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,pi.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,pi.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,pi.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,pi.toWorkingColorSpace(this,n),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=co){const r=sB[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jf(e.r),this.g=Jf(e.g),this.b=Jf(e.b),this}copyLinearToSRGB(e){return this.r=f6(e.r),this.g=f6(e.g),this.b=f6(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=co){return pi.fromWorkingColorSpace(di.copy(this),e),_r(di.r*255,0,255)<<16^_r(di.g*255,0,255)<<8^_r(di.b*255,0,255)<<0}getHexString(e=co){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=pi.workingColorSpace){pi.fromWorkingColorSpace(di.copy(this),n);const r=di.r,i=di.g,s=di.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=pi.workingColorSpace){return pi.fromWorkingColorSpace(di.copy(this),n),e.r=di.r,e.g=di.g,e.b=di.b,e}getStyle(e=co){pi.fromWorkingColorSpace(di.copy(this),e);const n=di.r,r=di.g,i=di.b;return e!==co?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${n*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,n,r){return this.getHSL(so),so.h+=e,so.s+=n,so.l+=r,this.setHSL(so.h,so.s,so.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(so),e.getHSL(L2);const r=_p(so.h,L2.h,n),i=_p(so.s,L2.s,n),s=_p(so.l,L2.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const di=new et;et.NAMES=sB;class Zi extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=L0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Er=new J,F2=new ve;class ln{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=u0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)F2.fromBufferAttribute(this,n),F2.applyMatrix3(e),this.setXY(n,F2.x,F2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix3(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix4(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyNormalMatrix(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.transformDirection(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==u0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Vj extends ln{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Wj extends ln{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class jj extends ln{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Xj extends ln{constructor(e,n,r){super(new Int16Array(e),n,r)}}class qx extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Jj extends ln{constructor(e,n,r){super(new Int32Array(e),n,r)}}class $x extends ln{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Yj extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class wt extends ln{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Kj extends ln{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Zj=0;const ks=new ht,A6=new pn,Qc=new J,ds=new rs,Td=new rs,Wr=new J;class Vt extends Ts{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zj++}),this.uuid=Ss(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iB(e)?$x:qx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Fr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ks.makeRotationFromQuaternion(e),this.applyMatrix4(ks),this}rotateX(e){return ks.makeRotationX(e),this.applyMatrix4(ks),this}rotateY(e){return ks.makeRotationY(e),this.applyMatrix4(ks),this}rotateZ(e){return ks.makeRotationZ(e),this.applyMatrix4(ks),this}translate(e,n,r){return ks.makeTranslation(e,n,r),this.applyMatrix4(ks),this}scale(e,n,r){return ks.makeScale(e,n,r),this.applyMatrix4(ks),this}lookAt(e){return A6.lookAt(e),A6.updateMatrix(),this.applyMatrix4(A6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new wt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ds.setFromBufferAttribute(s),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,ds.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,ds.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(ds.min),this.boundingBox.expandByPoint(ds.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(ds.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Td.setFromBufferAttribute(a),this.morphTargetsRelative?(Wr.addVectors(ds.min,Td.min),ds.expandByPoint(Wr),Wr.addVectors(ds.max,Td.max),ds.expandByPoint(Wr)):(ds.expandByPoint(Td.min),ds.expandByPoint(Td.max))}ds.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Wr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Wr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Wr.fromBufferAttribute(a,u),l&&(Qc.fromBufferAttribute(e,u),Wr.add(Qc)),i=Math.max(i,r.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new J,c[I]=new J;const f=new J,d=new J,m=new J,g=new ve,v=new ve,y=new ve,w=new J,S=new J;function x(I,U,G){f.fromArray(i,I*3),d.fromArray(i,U*3),m.fromArray(i,G*3),g.fromArray(o,I*2),v.fromArray(o,U*2),y.fromArray(o,G*2),d.sub(f),m.sub(f),v.sub(g),y.sub(g);const j=1/(v.x*y.y-y.x*v.y);isFinite(j)&&(w.copy(d).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(j),S.copy(m).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(j),u[I].add(w),u[U].add(w),u[G].add(w),c[I].add(S),c[U].add(S),c[G].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let I=0,U=M.length;I<U;++I){const G=M[I],j=G.start,D=G.count;for(let k=j,H=j+D;k<H;k+=3)x(r[k+0],r[k+1],r[k+2])}const E=new J,C=new J,P=new J,T=new J;function R(I){P.fromArray(s,I*3),T.copy(P);const U=u[I];E.copy(U),E.sub(P.multiplyScalar(P.dot(U))).normalize(),C.crossVectors(T,U);const j=C.dot(c[I])<0?-1:1;l[I*4]=E.x,l[I*4+1]=E.y,l[I*4+2]=E.z,l[I*4+3]=j}for(let I=0,U=M.length;I<U;++I){const G=M[I],j=G.start,D=G.count;for(let k=j,H=j+D;k<H;k+=3)R(r[k+0]),R(r[k+1]),R(r[k+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ln(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new J,s=new J,o=new J,a=new J,l=new J,u=new J,c=new J,f=new J;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Wr.fromBufferAttribute(e,n),Wr.normalize(),e.setXYZ(n,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*c;for(let w=0;w<c;w++)d[g++]=u[m++]}return new ln(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Vt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],m=e(d,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let d=0,m=f.length;d<m;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mA=new ht,zo=new Ph,k2=new Cs,gA=new J,Cd=new J,bd=new J,Pd=new J,E6=new J,U2=new J,N2=new ve,O2=new ve,z2=new ve,T6=new J,G2=new J;class Un extends pn{constructor(e=new Vt,n=new Zi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){U2.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(E6.fromBufferAttribute(f,e),o?U2.addScaledVector(E6,c):U2.addScaledVector(E6.sub(n),c))}n.add(U2)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),k2.copy(r.boundingSphere),k2.applyMatrix4(s),zo.copy(e.ray).recast(e.near),k2.containsPoint(zo.origin)===!1&&(zo.intersectSphere(k2,gA)===null||zo.origin.distanceToSquared(gA)>(e.far-e.near)**2))||(mA.copy(s).invert(),zo.copy(e.ray).applyMatrix4(mA),r.boundingBox!==null&&zo.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,f=r.groups,d=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],w=Math.max(v.start,d.start),S=Math.min(a.count,Math.min(v.start+v.count,d.start+d.count));for(let x=w,M=S;x<M;x+=3){const E=a.getX(x),C=a.getX(x+1),P=a.getX(x+2);o=H2(this,y,e,zo,u,c,E,C,P),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(a.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const w=a.getX(v),S=a.getX(v+1),x=a.getX(v+2);o=H2(this,i,e,zo,u,c,w,S,x),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],w=Math.max(v.start,d.start),S=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let x=w,M=S;x<M;x+=3){const E=x,C=x+1,P=x+2;o=H2(this,y,e,zo,u,c,E,C,P),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const w=v,S=v+1,x=v+2;o=H2(this,i,e,zo,u,c,w,S,x),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}}}function Qj(t,e,n,r,i,s,o,a){let l;if(e.side===br?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Zs,a),l===null)return null;G2.copy(a),G2.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(G2);return u<n.near||u>n.far?null:{distance:u,point:G2.clone(),object:t}}function H2(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,Cd),t.getVertexPosition(a,bd),t.getVertexPosition(l,Pd);const u=Qj(t,e,n,r,Cd,bd,Pd,T6);if(u){i&&(N2.fromBufferAttribute(i,o),O2.fromBufferAttribute(i,a),z2.fromBufferAttribute(i,l),u.uv=Hs.getUV(T6,Cd,bd,Pd,N2,O2,z2,new ve)),s&&(N2.fromBufferAttribute(s,o),O2.fromBufferAttribute(s,a),z2.fromBufferAttribute(s,l),u.uv2=Hs.getUV(T6,Cd,bd,Pd,N2,O2,z2,new ve));const c={a:o,b:a,c:l,normal:new J,materialIndex:0};Hs.getNormal(Cd,bd,Pd,c.normal),u.face=c}return u}class tu extends Vt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(c,3)),this.setAttribute("uv",new wt(f,2));function g(v,y,w,S,x,M,E,C,P,T,R){const I=M/P,U=E/T,G=M/2,j=E/2,D=C/2,k=P+1,H=T+1;let oe=0,N=0;const W=new J;for(let Z=0;Z<H;Z++){const Y=Z*U-j;for(let F=0;F<k;F++){const q=F*I-G;W[v]=q*S,W[y]=Y*x,W[w]=D,u.push(W.x,W.y,W.z),W[v]=0,W[y]=0,W[w]=C>0?1:-1,c.push(W.x,W.y,W.z),f.push(F/P),f.push(1-Z/T),oe+=1}}for(let Z=0;Z<T;Z++)for(let Y=0;Y<P;Y++){const F=d+Y+k*Z,q=d+Y+k*(Z+1),ee=d+(Y+1)+k*(Z+1),X=d+(Y+1)+k*Z;l.push(F,q,X),l.push(q,ee,X),N+=6}a.addGroup(m,N,R),m+=N,d+=oe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Pi(t){const e={};for(let n=0;n<t.length;n++){const r=gh(t[n]);for(const i in r)e[i]=r[i]}return e}function qj(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oB(t){return t.getRenderTarget()===null&&t.outputEncoding===En?co:mh}const mc={clone:gh,merge:Pi};var $j=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ht extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$j,this.fragmentShader=eX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gh(e.uniforms),this.uniformsGroups=qj(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Dh extends pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let In=class extends Dh{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=c0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ec*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return c0*2*Math.atan(Math.tan(ec*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ec*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const qc=-90,$c=1;class e7 extends pn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new In(qc,$c,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new In(qc,$c,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new In(qc,$c,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new In(qc,$c,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new In(qc,$c,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new In(qc,$c,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Mo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class k0 extends bn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:ja,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class U0 extends $t{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new k0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:gt}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new tu(5,5,5),s=new Ht({name:"CubemapFromEquirect",uniforms:gh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:br,blending:Jn});s.uniforms.tEquirect.value=n;const o=new Un(i,s),a=n.minFilter;return n.minFilter===na&&(n.minFilter=gt),new e7(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const C6=new J,tX=new J,nX=new Fr;class Ca{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=C6.subVectors(r,n).cross(tX.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(C6),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||nX.getNormalMatrix(e),i=this.coplanarPoint(C6).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ef=new Cs,V2=new J;class dv{constructor(e=new Ca,n=new Ca,r=new Ca,i=new Ca,s=new Ca,o=new Ca){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],m=r[9],g=r[10],v=r[11],y=r[12],w=r[13],S=r[14],x=r[15];return n[0].setComponents(a-i,f-l,v-d,x-y).normalize(),n[1].setComponents(a+i,f+l,v+d,x+y).normalize(),n[2].setComponents(a+s,f+u,v+m,x+w).normalize(),n[3].setComponents(a-s,f-u,v-m,x-w).normalize(),n[4].setComponents(a-o,f-c,v-g,x-S).normalize(),n[5].setComponents(a+o,f+c,v+g,x+S).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),ef.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSprite(e){return ef.center.set(0,0,0),ef.radius=.7071067811865476,ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(V2.x=i.normal.x>0?e.max.x:e.min.x,V2.y=i.normal.y>0?e.max.y:e.min.y,V2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(V2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function aB(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function rX(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,f,d),u.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const d=c.array,m=c.updateRange;t.bindBuffer(f,u),m.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class oa extends Vt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,d=n/l,m=[],g=[],v=[],y=[];for(let w=0;w<c;w++){const S=w*d-o;for(let x=0;x<u;x++){const M=x*f-s;g.push(M,-S,0),v.push(0,0,1),y.push(x/a),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let S=0;S<a;S++){const x=S+u*w,M=S+u*(w+1),E=S+1+u*(w+1),C=S+1+u*w;m.push(x,M,C),m.push(M,E,C)}this.setIndex(m),this.setAttribute("position",new wt(g,3)),this.setAttribute("normal",new wt(v,3)),this.setAttribute("uv",new wt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oa(e.width,e.height,e.widthSegments,e.heightSegments)}}var iX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,sX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oX=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,aX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cX="vec3 transformed = vec3( position );",fX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hX=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,dX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,gX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xX=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,SX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_X=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,MX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,AX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,EX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,CX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,bX=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RX="gl_FragColor = linearToOutputTexel( gl_FragColor );",DX=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,BX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,LX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,FX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,UX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,NX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,OX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,GX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HX=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,VX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,XX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,JX=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,YX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,$X=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,eJ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,rJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,oJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,aJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dJ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,mJ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,gJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,vJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,yJ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_J=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,MJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,AJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,EJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,TJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,CJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,PJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,RJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,DJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,BJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,LJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,FJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,kJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,UJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,NJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,OJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,GJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,WJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,JJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,YJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,KJ=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,ZJ=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,QJ=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,qJ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,$J=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,eY=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,tY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rY=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sY=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,oY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aY=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lY=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,cY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gY=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,vY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Y=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,MY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,AY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,CY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,DY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BY=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,LY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,FY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bt={alphamap_fragment:iX,alphamap_pars_fragment:sX,alphatest_fragment:oX,alphatest_pars_fragment:aX,aomap_fragment:lX,aomap_pars_fragment:uX,begin_vertex:cX,beginnormal_vertex:fX,bsdfs:hX,iridescence_fragment:dX,bumpmap_pars_fragment:pX,clipping_planes_fragment:mX,clipping_planes_pars_fragment:gX,clipping_planes_pars_vertex:vX,clipping_planes_vertex:yX,color_fragment:xX,color_pars_fragment:SX,color_pars_vertex:wX,color_vertex:_X,common:MX,cube_uv_reflection_fragment:AX,defaultnormal_vertex:EX,displacementmap_pars_vertex:TX,displacementmap_vertex:CX,emissivemap_fragment:bX,emissivemap_pars_fragment:PX,encodings_fragment:RX,encodings_pars_fragment:DX,envmap_fragment:BX,envmap_common_pars_fragment:IX,envmap_pars_fragment:LX,envmap_pars_vertex:FX,envmap_physical_pars_fragment:JX,envmap_vertex:kX,fog_vertex:UX,fog_pars_vertex:NX,fog_fragment:OX,fog_pars_fragment:zX,gradientmap_pars_fragment:GX,lightmap_fragment:HX,lightmap_pars_fragment:VX,lights_lambert_fragment:WX,lights_lambert_pars_fragment:jX,lights_pars_begin:XX,lights_toon_fragment:YX,lights_toon_pars_fragment:KX,lights_phong_fragment:ZX,lights_phong_pars_fragment:QX,lights_physical_fragment:qX,lights_physical_pars_fragment:$X,lights_fragment_begin:eJ,lights_fragment_maps:tJ,lights_fragment_end:nJ,logdepthbuf_fragment:rJ,logdepthbuf_pars_fragment:iJ,logdepthbuf_pars_vertex:sJ,logdepthbuf_vertex:oJ,map_fragment:aJ,map_pars_fragment:lJ,map_particle_fragment:uJ,map_particle_pars_fragment:cJ,metalnessmap_fragment:fJ,metalnessmap_pars_fragment:hJ,morphcolor_vertex:dJ,morphnormal_vertex:pJ,morphtarget_pars_vertex:mJ,morphtarget_vertex:gJ,normal_fragment_begin:vJ,normal_fragment_maps:yJ,normal_pars_fragment:xJ,normal_pars_vertex:SJ,normal_vertex:wJ,normalmap_pars_fragment:_J,clearcoat_normal_fragment_begin:MJ,clearcoat_normal_fragment_maps:AJ,clearcoat_pars_fragment:EJ,iridescence_pars_fragment:TJ,output_fragment:CJ,packing:bJ,premultiplied_alpha_fragment:PJ,project_vertex:RJ,dithering_fragment:DJ,dithering_pars_fragment:BJ,roughnessmap_fragment:IJ,roughnessmap_pars_fragment:LJ,shadowmap_pars_fragment:FJ,shadowmap_pars_vertex:kJ,shadowmap_vertex:UJ,shadowmask_pars_fragment:NJ,skinbase_vertex:OJ,skinning_pars_vertex:zJ,skinning_vertex:GJ,skinnormal_vertex:HJ,specularmap_fragment:VJ,specularmap_pars_fragment:WJ,tonemapping_fragment:jJ,tonemapping_pars_fragment:XJ,transmission_fragment:JJ,transmission_pars_fragment:YJ,uv_pars_fragment:KJ,uv_pars_vertex:ZJ,uv_vertex:QJ,uv2_pars_fragment:qJ,uv2_pars_vertex:$J,uv2_vertex:eY,worldpos_vertex:tY,background_vert:nY,background_frag:rY,backgroundCube_vert:iY,backgroundCube_frag:sY,cube_vert:oY,cube_frag:aY,depth_vert:lY,depth_frag:uY,distanceRGBA_vert:cY,distanceRGBA_frag:fY,equirect_vert:hY,equirect_frag:dY,linedashed_vert:pY,linedashed_frag:mY,meshbasic_vert:gY,meshbasic_frag:vY,meshlambert_vert:yY,meshlambert_frag:xY,meshmatcap_vert:SY,meshmatcap_frag:wY,meshnormal_vert:_Y,meshnormal_frag:MY,meshphong_vert:AY,meshphong_frag:EY,meshphysical_vert:TY,meshphysical_frag:CY,meshtoon_vert:bY,meshtoon_frag:PY,points_vert:RY,points_frag:DY,shadow_vert:BY,shadow_frag:IY,sprite_vert:LY,sprite_frag:FY},ct={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Fr},uv2Transform:{value:new Fr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fr}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fr}}},ho={basic:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:bt.meshbasic_vert,fragmentShader:bt.meshbasic_frag},lambert:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new et(0)}}]),vertexShader:bt.meshlambert_vert,fragmentShader:bt.meshlambert_frag},phong:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:bt.meshphong_vert,fragmentShader:bt.meshphong_frag},standard:{uniforms:Pi([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag},toon:{uniforms:Pi([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new et(0)}}]),vertexShader:bt.meshtoon_vert,fragmentShader:bt.meshtoon_frag},matcap:{uniforms:Pi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:bt.meshmatcap_vert,fragmentShader:bt.meshmatcap_frag},points:{uniforms:Pi([ct.points,ct.fog]),vertexShader:bt.points_vert,fragmentShader:bt.points_frag},dashed:{uniforms:Pi([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bt.linedashed_vert,fragmentShader:bt.linedashed_frag},depth:{uniforms:Pi([ct.common,ct.displacementmap]),vertexShader:bt.depth_vert,fragmentShader:bt.depth_frag},normal:{uniforms:Pi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:bt.meshnormal_vert,fragmentShader:bt.meshnormal_frag},sprite:{uniforms:Pi([ct.sprite,ct.fog]),vertexShader:bt.sprite_vert,fragmentShader:bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Fr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bt.background_vert,fragmentShader:bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:bt.backgroundCube_vert,fragmentShader:bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bt.cube_vert,fragmentShader:bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bt.equirect_vert,fragmentShader:bt.equirect_frag},distanceRGBA:{uniforms:Pi([ct.common,ct.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bt.distanceRGBA_vert,fragmentShader:bt.distanceRGBA_frag},shadow:{uniforms:Pi([ct.lights,ct.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:bt.shadow_vert,fragmentShader:bt.shadow_frag}};ho.physical={uniforms:Pi([ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag};const W2={r:0,b:0,g:0};function kY(t,e,n,r,i,s,o){const a=new et(0);let l=s===!0?0:1,u,c,f=null,d=0,m=null;function g(y,w){let S=!1,x=w.isScene===!0?w.background:null;x&&x.isTexture&&(x=(w.backgroundBlurriness>0?n:e).get(x));const M=t.xr,E=M.getSession&&M.getSession();E&&E.environmentBlendMode==="additive"&&(x=null),x===null?v(a,l):x&&x.isColor&&(v(x,1),S=!0),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===bh)?(c===void 0&&(c=new Un(new tu(1,1,1),new Ht({name:"BackgroundCubeMaterial",uniforms:gh(ho.backgroundCube.uniforms),vertexShader:ho.backgroundCube.vertexShader,fragmentShader:ho.backgroundCube.fragmentShader,side:br,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,P,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=x.encoding!==En,(f!==x||d!==x.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=x,d=x.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(u===void 0&&(u=new Un(new oa(2,2),new Ht({name:"BackgroundMaterial",uniforms:gh(ho.background.uniforms),vertexShader:ho.background.vertexShader,fragmentShader:ho.background.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=x,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=x.encoding!==En,x.matrixAutoUpdate===!0&&x.updateMatrix(),u.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||d!==x.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=x,d=x.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,w){y.getRGB(W2,oB(t)),r.buffers.color.setClear(W2.r,W2.g,W2.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(y,w=1){a.set(y),l=w,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function UY(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(D,k,H,oe,N){let W=!1;if(o){const Z=v(oe,H,k);u!==Z&&(u=Z,m(u.object)),W=w(D,oe,H,N),W&&S(D,oe,H,N)}else{const Z=k.wireframe===!0;(u.geometry!==oe.id||u.program!==H.id||u.wireframe!==Z)&&(u.geometry=oe.id,u.program=H.id,u.wireframe=Z,W=!0)}N!==null&&n.update(N,34963),(W||c)&&(c=!1,T(D,k,H,oe),N!==null&&t.bindBuffer(34963,n.get(N).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(D){return r.isWebGL2?t.bindVertexArray(D):s.bindVertexArrayOES(D)}function g(D){return r.isWebGL2?t.deleteVertexArray(D):s.deleteVertexArrayOES(D)}function v(D,k,H){const oe=H.wireframe===!0;let N=a[D.id];N===void 0&&(N={},a[D.id]=N);let W=N[k.id];W===void 0&&(W={},N[k.id]=W);let Z=W[oe];return Z===void 0&&(Z=y(d()),W[oe]=Z),Z}function y(D){const k=[],H=[],oe=[];for(let N=0;N<i;N++)k[N]=0,H[N]=0,oe[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:H,attributeDivisors:oe,object:D,attributes:{},index:null}}function w(D,k,H,oe){const N=u.attributes,W=k.attributes;let Z=0;const Y=H.getAttributes();for(const F in Y)if(Y[F].location>=0){const ee=N[F];let X=W[F];if(X===void 0&&(F==="instanceMatrix"&&D.instanceMatrix&&(X=D.instanceMatrix),F==="instanceColor"&&D.instanceColor&&(X=D.instanceColor)),ee===void 0||ee.attribute!==X||X&&ee.data!==X.data)return!0;Z++}return u.attributesNum!==Z||u.index!==oe}function S(D,k,H,oe){const N={},W=k.attributes;let Z=0;const Y=H.getAttributes();for(const F in Y)if(Y[F].location>=0){let ee=W[F];ee===void 0&&(F==="instanceMatrix"&&D.instanceMatrix&&(ee=D.instanceMatrix),F==="instanceColor"&&D.instanceColor&&(ee=D.instanceColor));const X={};X.attribute=ee,ee&&ee.data&&(X.data=ee.data),N[F]=X,Z++}u.attributes=N,u.attributesNum=Z,u.index=oe}function x(){const D=u.newAttributes;for(let k=0,H=D.length;k<H;k++)D[k]=0}function M(D){E(D,0)}function E(D,k){const H=u.newAttributes,oe=u.enabledAttributes,N=u.attributeDivisors;H[D]=1,oe[D]===0&&(t.enableVertexAttribArray(D),oe[D]=1),N[D]!==k&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,k),N[D]=k)}function C(){const D=u.newAttributes,k=u.enabledAttributes;for(let H=0,oe=k.length;H<oe;H++)k[H]!==D[H]&&(t.disableVertexAttribArray(H),k[H]=0)}function P(D,k,H,oe,N,W){r.isWebGL2===!0&&(H===5124||H===5125)?t.vertexAttribIPointer(D,k,H,N,W):t.vertexAttribPointer(D,k,H,oe,N,W)}function T(D,k,H,oe){if(r.isWebGL2===!1&&(D.isInstancedMesh||oe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const N=oe.attributes,W=H.getAttributes(),Z=k.defaultAttributeValues;for(const Y in W){const F=W[Y];if(F.location>=0){let q=N[Y];if(q===void 0&&(Y==="instanceMatrix"&&D.instanceMatrix&&(q=D.instanceMatrix),Y==="instanceColor"&&D.instanceColor&&(q=D.instanceColor)),q!==void 0){const ee=q.normalized,X=q.itemSize,K=n.get(q);if(K===void 0)continue;const le=K.buffer,re=K.type,me=K.bytesPerElement;if(q.isInterleavedBufferAttribute){const Ee=q.data,_e=Ee.stride,ie=q.offset;if(Ee.isInstancedInterleavedBuffer){for(let xe=0;xe<F.locationSize;xe++)E(F.location+xe,Ee.meshPerAttribute);D.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let xe=0;xe<F.locationSize;xe++)M(F.location+xe);t.bindBuffer(34962,le);for(let xe=0;xe<F.locationSize;xe++)P(F.location+xe,X/F.locationSize,re,ee,_e*me,(ie+X/F.locationSize*xe)*me)}else{if(q.isInstancedBufferAttribute){for(let Ee=0;Ee<F.locationSize;Ee++)E(F.location+Ee,q.meshPerAttribute);D.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let Ee=0;Ee<F.locationSize;Ee++)M(F.location+Ee);t.bindBuffer(34962,le);for(let Ee=0;Ee<F.locationSize;Ee++)P(F.location+Ee,X/F.locationSize,re,ee,X*me,X/F.locationSize*Ee*me)}}else if(Z!==void 0){const ee=Z[Y];if(ee!==void 0)switch(ee.length){case 2:t.vertexAttrib2fv(F.location,ee);break;case 3:t.vertexAttrib3fv(F.location,ee);break;case 4:t.vertexAttrib4fv(F.location,ee);break;default:t.vertexAttrib1fv(F.location,ee)}}}}C()}function R(){G();for(const D in a){const k=a[D];for(const H in k){const oe=k[H];for(const N in oe)g(oe[N].object),delete oe[N];delete k[H]}delete a[D]}}function I(D){if(a[D.id]===void 0)return;const k=a[D.id];for(const H in k){const oe=k[H];for(const N in oe)g(oe[N].object),delete oe[N];delete k[H]}delete a[D.id]}function U(D){for(const k in a){const H=a[k];if(H[D.id]===void 0)continue;const oe=H[D.id];for(const N in oe)g(oe[N].object),delete oe[N];delete H[D.id]}}function G(){j(),c=!0,u!==l&&(u=l,m(u.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:G,resetDefaultState:j,dispose:R,releaseStatesOfGeometry:I,releaseStatesOfProgram:U,initAttributes:x,enableAttribute:M,disableUnusedAttributes:C}}function NY(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function OY(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),d=t.getParameter(35660),m=t.getParameter(3379),g=t.getParameter(34076),v=t.getParameter(34921),y=t.getParameter(36347),w=t.getParameter(36348),S=t.getParameter(36349),x=d>0,M=o||e.has("OES_texture_float"),E=x&&M,C=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:w,maxFragmentUniforms:S,vertexTextures:x,floatFragmentTextures:M,floatVertexTextures:E,maxSamples:C}}function zY(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ca,a=new Fr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const m=f.length!==0||d||r!==0||i;return i=d,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,m){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,w=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const S=s?0:r,x=S*4;let M=w.clippingState||null;l.value=M,M=c(g,d,x,m);for(let E=0;E!==x;++E)M[E]=n[E];w.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,m,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const w=m+v*4,S=d.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<w)&&(y=new Float32Array(w));for(let x=0,M=m;x!==v;++x,M+=4)o.copy(f[x]).applyMatrix4(S,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function GY(t){let e=new WeakMap;function n(o,a){return a===hh?o.mapping=ja:a===o0&&(o.mapping=Kl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===hh||a===o0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new U0(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class xo extends Dh{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Bf=4,vA=[.125,.215,.35,.446,.526,.582],Nu=20,b6=new xo,yA=new et;let P6=null;const ku=(1+Math.sqrt(5))/2,tf=1/ku,xA=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,ku,tf),new J(0,ku,-tf),new J(tf,0,ku),new J(-tf,0,ku),new J(ku,tf,0),new J(-ku,tf,0)];class yg{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){P6=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_A(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(P6),e.scissorTest=!1,j2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ja||e.mapping===Kl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),P6=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:gt,minFilter:gt,generateMipmaps:!1,type:Xn,format:zn,encoding:To,depthBuffer:!1},i=SA(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SA(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=HY(s)),this._blurMaterial=VY(s,e,n)}return i}_compileMaterial(e){const n=new Un(this._lodPlanes[0],e);this._renderer.compile(n,b6)}_sceneToCubeUV(e,n,r,i){const a=new In(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(yA),c.toneMapping=Mo,c.autoClear=!1;const m=new Zi({name:"PMREM.Background",side:br,depthWrite:!1,depthTest:!1}),g=new Un(new tu,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(yA),v=!0);for(let w=0;w<6;w++){const S=w%3;S===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):S===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const x=this._cubeSize;j2(i,S*x,w>2?x:0,x,x),c.setRenderTarget(i),v&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ja||e.mapping===Kl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=_A()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wA());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Un(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;j2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,b6)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=xA[(i-1)%xA.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Un(this._lodPlanes[i],u),d=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Nu-1),v=s/g,y=isFinite(s)?1+Math.floor(c*v):Nu;y>Nu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Nu}`);const w=[];let S=0;for(let P=0;P<Nu;++P){const T=P/v,R=Math.exp(-T*T/2);w.push(R),P===0?S+=R:P<y&&(S+=2*R)}for(let P=0;P<w.length;P++)w[P]=w[P]/S;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=w,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:x}=this;d.dTheta.value=g,d.mipInt.value=x-r;const M=this._sizeLods[i],E=3*M*(i>x-Bf?i-x+Bf:0),C=4*(this._cubeSize-M);j2(n,E,C,3*M,2*M),l.setRenderTarget(n),l.render(f,b6)}}function HY(t){const e=[],n=[],r=[];let i=t;const s=t-Bf+1+vA.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Bf?l=vA[o-t+Bf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,v=3,y=2,w=1,S=new Float32Array(v*g*m),x=new Float32Array(y*g*m),M=new Float32Array(w*g*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,T=C>2?0:-1,R=[P,T,0,P+2/3,T,0,P+2/3,T+1,0,P,T,0,P+2/3,T+1,0,P,T+1,0];S.set(R,v*g*C),x.set(d,y*g*C);const I=[C,C,C,C,C,C];M.set(I,w*g*C)}const E=new Vt;E.setAttribute("position",new ln(S,v)),E.setAttribute("uv",new ln(x,y)),E.setAttribute("faceIndex",new ln(M,w)),e.push(E),i>Bf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function SA(t,e,n){const r=new $t(t,e,n);return r.texture.mapping=bh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function j2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function VY(t,e,n){const r=new Float32Array(Nu),i=new J(0,1,0);return new Ht({name:"SphericalGaussianBlur",defines:{n:Nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:t7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function wA(){return new Ht({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:t7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function _A(){return new Ht({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:t7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function t7(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WY(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===hh||l===o0,c=l===ja||l===Kl;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new yg(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new yg(t));const d=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function jY(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function XY(t,e,n,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let y=0,w=v.length;y<w;y++)e.update(v[y],34962)}}function u(f){const d=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const S=m.array;v=m.version;for(let x=0,M=S.length;x<M;x+=3){const E=S[x+0],C=S[x+1],P=S[x+2];d.push(E,C,C,P,P,E)}}else{const S=g.array;v=g.version;for(let x=0,M=S.length/3-1;x<M;x+=3){const E=x+0,C=x+1,P=x+2;d.push(E,C,C,P,P,E)}}const y=new(iB(d)?$x:qx)(d,1);y.version=v;const w=s.get(f);w&&e.remove(w),s.set(f,y)}function c(f){const d=s.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function JY(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,m){t.drawElements(s,m,a,d*l),n.update(m,s,1)}function f(d,m,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,d*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function YY(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function KY(t,e){return t[0]-e[0]}function ZY(t,e){return Math.abs(e[1])-Math.abs(t[1])}function QY(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const d=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(c);if(y===void 0||y.count!==v){let k=function(){j.dispose(),s.delete(c),c.removeEventListener("dispose",k)};var m=k;y!==void 0&&y.texture.dispose();const x=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,C=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],T=c.morphAttributes.color||[];let R=0;x===!0&&(R=1),M===!0&&(R=2),E===!0&&(R=3);let I=c.attributes.position.count*R,U=1;I>e.maxTextureSize&&(U=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const G=new Float32Array(I*U*4*v),j=new hv(G,I,U,v);j.type=Pn,j.needsUpdate=!0;const D=R*4;for(let H=0;H<v;H++){const oe=C[H],N=P[H],W=T[H],Z=I*U*4*H;for(let Y=0;Y<oe.count;Y++){const F=Y*D;x===!0&&(o.fromBufferAttribute(oe,Y),G[Z+F+0]=o.x,G[Z+F+1]=o.y,G[Z+F+2]=o.z,G[Z+F+3]=0),M===!0&&(o.fromBufferAttribute(N,Y),G[Z+F+4]=o.x,G[Z+F+5]=o.y,G[Z+F+6]=o.z,G[Z+F+7]=0),E===!0&&(o.fromBufferAttribute(W,Y),G[Z+F+8]=o.x,G[Z+F+9]=o.y,G[Z+F+10]=o.z,G[Z+F+11]=W.itemSize===4?o.w:1)}}y={count:v,texture:j,size:new ve(I,U)},s.set(c,y),c.addEventListener("dispose",k)}let w=0;for(let x=0;x<d.length;x++)w+=d[x];const S=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=d===void 0?0:d.length;let v=r[c.id];if(v===void 0||v.length!==g){v=[];for(let M=0;M<g;M++)v[M]=[M,0];r[c.id]=v}for(let M=0;M<g;M++){const E=v[M];E[0]=M,E[1]=d[M]}v.sort(ZY);for(let M=0;M<8;M++)M<g&&v[M][1]?(a[M][0]=v[M][0],a[M][1]=v[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(KY);const y=c.morphAttributes.position,w=c.morphAttributes.normal;let S=0;for(let M=0;M<8;M++){const E=a[M],C=E[0],P=E[1];C!==Number.MAX_SAFE_INTEGER&&P?(y&&c.getAttribute("morphTarget"+M)!==y[C]&&c.setAttribute("morphTarget"+M,y[C]),w&&c.getAttribute("morphNormal"+M)!==w[C]&&c.setAttribute("morphNormal"+M,w[C]),i[M]=P,S+=P):(y&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),w&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const x=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function qY(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const lB=new bn,uB=new hv,cB=new tc,fB=new k0,MA=[],AA=[],EA=new Float32Array(16),TA=new Float32Array(9),CA=new Float32Array(4);function Bh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=MA[i];if(s===void 0&&(s=new Float32Array(i),MA[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Or(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function pv(t,e){let n=AA[e];n===void 0&&(n=new Int32Array(e),AA[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function $Y(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function eK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2fv(this.addr,e),Or(n,e)}}function tK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Nr(n,e))return;t.uniform3fv(this.addr,e),Or(n,e)}}function nK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4fv(this.addr,e),Or(n,e)}}function rK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;CA.set(r),t.uniformMatrix2fv(this.addr,!1,CA),Or(n,r)}}function iK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;TA.set(r),t.uniformMatrix3fv(this.addr,!1,TA),Or(n,r)}}function sK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;EA.set(r),t.uniformMatrix4fv(this.addr,!1,EA),Or(n,r)}}function oK(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function aK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2iv(this.addr,e),Or(n,e)}}function lK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3iv(this.addr,e),Or(n,e)}}function uK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4iv(this.addr,e),Or(n,e)}}function cK(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function fK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2uiv(this.addr,e),Or(n,e)}}function hK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3uiv(this.addr,e),Or(n,e)}}function dK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4uiv(this.addr,e),Or(n,e)}}function pK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||lB,i)}function mK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||cB,i)}function gK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||fB,i)}function vK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||uB,i)}function yK(t){switch(t){case 5126:return $Y;case 35664:return eK;case 35665:return tK;case 35666:return nK;case 35674:return rK;case 35675:return iK;case 35676:return sK;case 5124:case 35670:return oK;case 35667:case 35671:return aK;case 35668:case 35672:return lK;case 35669:case 35673:return uK;case 5125:return cK;case 36294:return fK;case 36295:return hK;case 36296:return dK;case 35678:case 36198:case 36298:case 36306:case 35682:return pK;case 35679:case 36299:case 36307:return mK;case 35680:case 36300:case 36308:case 36293:return gK;case 36289:case 36303:case 36311:case 36292:return vK}}function xK(t,e){t.uniform1fv(this.addr,e)}function SK(t,e){const n=Bh(e,this.size,2);t.uniform2fv(this.addr,n)}function wK(t,e){const n=Bh(e,this.size,3);t.uniform3fv(this.addr,n)}function _K(t,e){const n=Bh(e,this.size,4);t.uniform4fv(this.addr,n)}function MK(t,e){const n=Bh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function AK(t,e){const n=Bh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function EK(t,e){const n=Bh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function TK(t,e){t.uniform1iv(this.addr,e)}function CK(t,e){t.uniform2iv(this.addr,e)}function bK(t,e){t.uniform3iv(this.addr,e)}function PK(t,e){t.uniform4iv(this.addr,e)}function RK(t,e){t.uniform1uiv(this.addr,e)}function DK(t,e){t.uniform2uiv(this.addr,e)}function BK(t,e){t.uniform3uiv(this.addr,e)}function IK(t,e){t.uniform4uiv(this.addr,e)}function LK(t,e,n){const r=this.cache,i=e.length,s=pv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||lB,s[o])}function FK(t,e,n){const r=this.cache,i=e.length,s=pv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||cB,s[o])}function kK(t,e,n){const r=this.cache,i=e.length,s=pv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||fB,s[o])}function UK(t,e,n){const r=this.cache,i=e.length,s=pv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||uB,s[o])}function NK(t){switch(t){case 5126:return xK;case 35664:return SK;case 35665:return wK;case 35666:return _K;case 35674:return MK;case 35675:return AK;case 35676:return EK;case 5124:case 35670:return TK;case 35667:case 35671:return CK;case 35668:case 35672:return bK;case 35669:case 35673:return PK;case 5125:return RK;case 36294:return DK;case 36295:return BK;case 36296:return IK;case 35678:case 36198:case 36298:case 36306:case 35682:return LK;case 35679:case 36299:case 36307:return FK;case 35680:case 36300:case 36308:case 36293:return kK;case 36289:case 36303:case 36311:case 36292:return UK}}class OK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=yK(n.type)}}class zK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=NK(n.type)}}class GK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const R6=/(\w+)(\])?(\[|\.)?/g;function bA(t,e){t.seq.push(e),t.map[e.id]=e}function HK(t,e,n){const r=t.name,i=r.length;for(R6.lastIndex=0;;){const s=R6.exec(r),o=R6.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){bA(n,u===void 0?new OK(a,t,e):new zK(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new GK(a),bA(n,f)),n=f}}}class a1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);HK(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function PA(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let VK=0;function WK(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function jK(t){switch(t){case To:return["Linear","( value )"];case En:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function RA(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+WK(t.getShaderSource(e),o)}else return i}function XK(t,e){const n=jK(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function JK(t,e){let n;switch(e){case ID:n="Linear";break;case LD:n="Reinhard";break;case FD:n="OptimizedCineon";break;case Vx:n="ACESFilmic";break;case kD:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function YK(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ip).join(`
`)}function KK(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function ZK(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function ip(t){return t!==""}function DA(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function BA(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QK=/^[ \t]*#include +<([\w\d./]+)>/gm;function Cy(t){return t.replace(QK,qK)}function qK(t,e){const n=bt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return Cy(n)}const $K=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function IA(t){return t.replace($K,eZ)}function eZ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function LA(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tZ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===ov?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===wp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Vu&&(e="SHADOWMAP_TYPE_VSM"),e}function nZ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ja:case Kl:e="ENVMAP_TYPE_CUBE";break;case bh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function rZ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Kl:e="ENVMAP_MODE_REFRACTION";break}return e}function iZ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case L0:e="ENVMAP_BLENDING_MULTIPLY";break;case DD:e="ENVMAP_BLENDING_MIX";break;case BD:e="ENVMAP_BLENDING_ADD";break}return e}function sZ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function oZ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=tZ(n),u=nZ(n),c=rZ(n),f=iZ(n),d=sZ(n),m=n.isWebGL2?"":YK(n),g=KK(s),v=i.createProgram();let y,w,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[g].filter(ip).join(`
`),y.length>0&&(y+=`
`),w=[m,g].filter(ip).join(`
`),w.length>0&&(w+=`
`)):(y=[LA(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ip).join(`
`),w=[m,LA(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Mo?"#define TONE_MAPPING":"",n.toneMapping!==Mo?bt.tonemapping_pars_fragment:"",n.toneMapping!==Mo?JK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",bt.encodings_pars_fragment,XK("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ip).join(`
`)),o=Cy(o),o=DA(o,n),o=BA(o,n),a=Cy(a),a=DA(a,n),a=BA(a,n),o=IA(o),a=IA(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",n.glslVersion===gg?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===gg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const x=S+y+o,M=S+w+a,E=PA(i,35633,x),C=PA(i,35632,M);if(i.attachShader(v,E),i.attachShader(v,C),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(E).trim(),U=i.getShaderInfoLog(C).trim();let G=!0,j=!0;if(i.getProgramParameter(v,35714)===!1){G=!1;const D=RA(i,E,"vertex"),k=RA(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+D+`
`+k)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(I===""||U==="")&&(j=!1);j&&(this.diagnostics={runnable:G,programLog:R,vertexShader:{log:I,prefix:y},fragmentShader:{log:U,prefix:w}})}i.deleteShader(E),i.deleteShader(C);let P;this.getUniforms=function(){return P===void 0&&(P=new a1(i,v)),P};let T;return this.getAttributes=function(){return T===void 0&&(T=ZK(i,v)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=VK++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=C,this}let aZ=0;class lZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new uZ(e),n.set(e,r)),r}}class uZ{constructor(e){this.id=aZ++,this.code=e,this.usedTimes=0}}function cZ(t,e,n,r,i,s,o){const a=new nc,l=new lZ,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T,R,I,U,G){const j=U.fog,D=G.geometry,k=T.isMeshStandardMaterial?U.environment:null,H=(T.isMeshStandardMaterial?n:e).get(T.envMap||k),oe=H&&H.mapping===bh?H.image.height:null,N=g[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const W=D.morphAttributes.position||D.morphAttributes.normal||D.morphAttributes.color,Z=W!==void 0?W.length:0;let Y=0;D.morphAttributes.position!==void 0&&(Y=1),D.morphAttributes.normal!==void 0&&(Y=2),D.morphAttributes.color!==void 0&&(Y=3);let F,q,ee,X;if(N){const _e=ho[N];F=_e.vertexShader,q=_e.fragmentShader}else F=T.vertexShader,q=T.fragmentShader,l.update(T),ee=l.getVertexShaderID(T),X=l.getFragmentShaderID(T);const K=t.getRenderTarget(),le=T.alphaTest>0,re=T.clearcoat>0,me=T.iridescence>0;return{isWebGL2:c,shaderID:N,shaderName:T.type,vertexShader:F,fragmentShader:q,defines:T.defines,customVertexShaderID:ee,customFragmentShaderID:X,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:G.isInstancedMesh===!0,instancingColor:G.isInstancedMesh===!0&&G.instanceColor!==null,supportsVertexTextures:d,outputEncoding:K===null?t.outputEncoding:K.isXRRenderTarget===!0?K.texture.encoding:To,map:!!T.map,matcap:!!T.matcap,envMap:!!H,envMapMode:H&&H.mapping,envMapCubeUVHeight:oe,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===$D,tangentSpaceNormalMap:T.normalMapType===Za,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===En,clearcoat:re,clearcoatMap:re&&!!T.clearcoatMap,clearcoatRoughnessMap:re&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:re&&!!T.clearcoatNormalMap,iridescence:me,iridescenceMap:me&&!!T.iridescenceMap,iridescenceThicknessMap:me&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===$u,alphaMap:!!T.alphaMap,alphaTest:le,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!D.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!D.attributes.color&&D.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!j,useFog:T.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:f,skinning:G.isSkinnedMesh===!0,morphTargets:D.morphAttributes.position!==void 0,morphNormals:D.morphAttributes.normal!==void 0,morphColors:D.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:Y,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:T.toneMapped?t.toneMapping:Mo,useLegacyLights:t.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===ri,flipSided:T.side===br,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function y(T){const R=[];if(T.shaderID?R.push(T.shaderID):(R.push(T.customVertexShaderID),R.push(T.customFragmentShaderID)),T.defines!==void 0)for(const I in T.defines)R.push(I),R.push(T.defines[I]);return T.isRawShaderMaterial===!1&&(w(R,T),S(R,T),R.push(t.outputEncoding)),R.push(T.customProgramCacheKey),R.join()}function w(T,R){T.push(R.precision),T.push(R.outputEncoding),T.push(R.envMapMode),T.push(R.envMapCubeUVHeight),T.push(R.combine),T.push(R.vertexUvs),T.push(R.fogExp2),T.push(R.sizeAttenuation),T.push(R.morphTargetsCount),T.push(R.morphAttributeCount),T.push(R.numDirLights),T.push(R.numPointLights),T.push(R.numSpotLights),T.push(R.numSpotLightMaps),T.push(R.numHemiLights),T.push(R.numRectAreaLights),T.push(R.numDirLightShadows),T.push(R.numPointLightShadows),T.push(R.numSpotLightShadows),T.push(R.numSpotLightShadowsWithMaps),T.push(R.shadowMapType),T.push(R.toneMapping),T.push(R.numClippingPlanes),T.push(R.numClipIntersection),T.push(R.depthPacking)}function S(T,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),T.push(a.mask)}function x(T){const R=g[T.type];let I;if(R){const U=ho[R];I=mc.clone(U.uniforms)}else I=T.uniforms;return I}function M(T,R){let I;for(let U=0,G=u.length;U<G;U++){const j=u[U];if(j.cacheKey===R){I=j,++I.usedTimes;break}}return I===void 0&&(I=new oZ(t,R,T,s),u.push(I)),I}function E(T){if(--T.usedTimes===0){const R=u.indexOf(T);u[R]=u[u.length-1],u.pop(),T.destroy()}}function C(T){l.remove(T)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:x,acquireProgram:M,releaseProgram:E,releaseShaderCache:C,programs:u,dispose:P}}function fZ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function hZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function FA(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function kA(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,d,m,g,v,y){let w=t[e];return w===void 0?(w={id:f.id,object:f,geometry:d,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},t[e]=w):(w.id=f.id,w.object=f,w.geometry=d,w.material=m,w.groupOrder=g,w.renderOrder=f.renderOrder,w.z=v,w.group=y),e++,w}function a(f,d,m,g,v,y){const w=o(f,d,m,g,v,y);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):n.push(w)}function l(f,d,m,g,v,y){const w=o(f,d,m,g,v,y);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):n.unshift(w)}function u(f,d){n.length>1&&n.sort(f||hZ),r.length>1&&r.sort(d||FA),i.length>1&&i.sort(d||FA)}function c(){for(let f=e,d=t.length;f<d;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function dZ(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new kA,t.set(r,[o])):i>=s.length?(o=new kA,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function pZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new et};break;case"SpotLight":n={position:new J,direction:new J,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function mZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let gZ=0;function vZ(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yZ(t,e){const n=new pZ,r=mZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new J);const s=new J,o=new ht,a=new ht;function l(c,f){let d=0,m=0,g=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let v=0,y=0,w=0,S=0,x=0,M=0,E=0,C=0,P=0,T=0;c.sort(vZ);const R=f===!0?Math.PI:1;for(let U=0,G=c.length;U<G;U++){const j=c[U],D=j.color,k=j.intensity,H=j.distance,oe=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=D.r*k*R,m+=D.g*k*R,g+=D.b*k*R;else if(j.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(j.sh.coefficients[N],k);else if(j.isDirectionalLight){const N=n.get(j);if(N.color.copy(j.color).multiplyScalar(j.intensity*R),j.castShadow){const W=j.shadow,Z=r.get(j);Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,i.directionalShadow[v]=Z,i.directionalShadowMap[v]=oe,i.directionalShadowMatrix[v]=j.shadow.matrix,M++}i.directional[v]=N,v++}else if(j.isSpotLight){const N=n.get(j);N.position.setFromMatrixPosition(j.matrixWorld),N.color.copy(D).multiplyScalar(k*R),N.distance=H,N.coneCos=Math.cos(j.angle),N.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),N.decay=j.decay,i.spot[w]=N;const W=j.shadow;if(j.map&&(i.spotLightMap[P]=j.map,P++,W.updateMatrices(j),j.castShadow&&T++),i.spotLightMatrix[w]=W.matrix,j.castShadow){const Z=r.get(j);Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,i.spotShadow[w]=Z,i.spotShadowMap[w]=oe,C++}w++}else if(j.isRectAreaLight){const N=n.get(j);N.color.copy(D).multiplyScalar(k),N.halfWidth.set(j.width*.5,0,0),N.halfHeight.set(0,j.height*.5,0),i.rectArea[S]=N,S++}else if(j.isPointLight){const N=n.get(j);if(N.color.copy(j.color).multiplyScalar(j.intensity*R),N.distance=j.distance,N.decay=j.decay,j.castShadow){const W=j.shadow,Z=r.get(j);Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,Z.shadowCameraNear=W.camera.near,Z.shadowCameraFar=W.camera.far,i.pointShadow[y]=Z,i.pointShadowMap[y]=oe,i.pointShadowMatrix[y]=j.shadow.matrix,E++}i.point[y]=N,y++}else if(j.isHemisphereLight){const N=n.get(j);N.skyColor.copy(j.color).multiplyScalar(k*R),N.groundColor.copy(j.groundColor).multiplyScalar(k*R),i.hemi[x]=N,x++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=g;const I=i.hash;(I.directionalLength!==v||I.pointLength!==y||I.spotLength!==w||I.rectAreaLength!==S||I.hemiLength!==x||I.numDirectionalShadows!==M||I.numPointShadows!==E||I.numSpotShadows!==C||I.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=w,i.rectArea.length=S,i.point.length=y,i.hemi.length=x,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=C+P-T,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=T,I.directionalLength=v,I.pointLength=y,I.spotLength=w,I.rectAreaLength=S,I.hemiLength=x,I.numDirectionalShadows=M,I.numPointShadows=E,I.numSpotShadows=C,I.numSpotMaps=P,i.version=gZ++)}function u(c,f){let d=0,m=0,g=0,v=0,y=0;const w=f.matrixWorldInverse;for(let S=0,x=c.length;S<x;S++){const M=c[S];if(M.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(w),d++}else if(M.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(w),g++}else if(M.isRectAreaLight){const E=i.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),a.identity(),o.copy(M.matrixWorld),o.premultiply(w),a.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(w),m++}else if(M.isHemisphereLight){const E=i.hemi[y];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(w),y++}}}return{setup:l,setupView:u,state:i}}function UA(t,e){const n=new yZ(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function xZ(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new UA(t,e),n.set(s,[l])):o>=a.length?(l=new UA(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Ih extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Yr,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mv extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const SZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _Z(t,e,n){let r=new dv;const i=new ve,s=new ve,o=new qt,a=new Ih({depthPacking:Co}),l=new mv,u={},c=n.maxTextureSize,f={[Zs]:br,[br]:Zs,[ri]:ri},d=new Ht({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:SZ,fragmentShader:wZ}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new Vt;g.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Un(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ov,this.render=function(M,E,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const P=t.getRenderTarget(),T=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),I=t.state;I.setBlending(Jn),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let U=0,G=M.length;U<G;U++){const j=M[U],D=j.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const k=D.getFrameExtents();if(i.multiply(k),s.copy(D.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/k.x),i.x=s.x*k.x,D.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/k.y),i.y=s.y*k.y,D.mapSize.y=s.y)),D.map===null){const oe=this.type!==Vu?{minFilter:Nt,magFilter:Nt}:{};D.map=new $t(i.x,i.y,oe),D.map.texture.name=j.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const H=D.getViewportCount();for(let oe=0;oe<H;oe++){const N=D.getViewport(oe);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),I.viewport(o),D.updateMatrices(j,oe),r=D.getFrustum(),x(E,C,D.camera,j,this.type)}D.isPointLightShadow!==!0&&this.type===Vu&&w(D,C),D.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(P,T,R)};function w(M,E){const C=e.update(v);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new $t(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(E,null,C,d,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(E,null,C,m,v,null)}function S(M,E,C,P,T,R){let I=null;const U=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(U!==void 0)I=U;else if(I=C.isPointLight===!0?l:a,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const G=I.uuid,j=E.uuid;let D=u[G];D===void 0&&(D={},u[G]=D);let k=D[j];k===void 0&&(k=I.clone(),D[j]=k),I=k}return I.visible=E.visible,I.wireframe=E.wireframe,R===Vu?I.side=E.shadowSide!==null?E.shadowSide:E.side:I.side=E.shadowSide!==null?E.shadowSide:f[E.side],I.alphaMap=E.alphaMap,I.alphaTest=E.alphaTest,I.map=E.map,I.clipShadows=E.clipShadows,I.clippingPlanes=E.clippingPlanes,I.clipIntersection=E.clipIntersection,I.displacementMap=E.displacementMap,I.displacementScale=E.displacementScale,I.displacementBias=E.displacementBias,I.wireframeLinewidth=E.wireframeLinewidth,I.linewidth=E.linewidth,C.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(C.matrixWorld),I.nearDistance=P,I.farDistance=T),I}function x(M,E,C,P,T){if(M.visible===!1)return;if(M.layers.test(E.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&T===Vu)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const U=e.update(M),G=M.material;if(Array.isArray(G)){const j=U.groups;for(let D=0,k=j.length;D<k;D++){const H=j[D],oe=G[H.materialIndex];if(oe&&oe.visible){const N=S(M,oe,P,C.near,C.far,T);t.renderBufferDirect(C,null,U,N,M,H)}}}else if(G.visible){const j=S(M,G,P,C.near,C.far,T);t.renderBufferDirect(C,null,U,j,M,null)}}const I=M.children;for(let U=0,G=I.length;U<G;U++)x(I[U],E,C,P,T)}}function MZ(t,e,n){const r=n.isWebGL2;function i(){let ne=!1;const ce=new qt;let Ne=null;const it=new qt(0,0,0,0);return{setMask:function(dt){Ne!==dt&&!ne&&(t.colorMask(dt,dt,dt,dt),Ne=dt)},setLocked:function(dt){ne=dt},setClear:function(dt,Kt,Ot,Wt,jt){jt===!0&&(dt*=Wt,Kt*=Wt,Ot*=Wt),ce.set(dt,Kt,Ot,Wt),it.equals(ce)===!1&&(t.clearColor(dt,Kt,Ot,Wt),it.copy(ce))},reset:function(){ne=!1,Ne=null,it.set(-1,0,0,0)}}}function s(){let ne=!1,ce=null,Ne=null,it=null;return{setTest:function(dt){dt?le(2929):re(2929)},setMask:function(dt){ce!==dt&&!ne&&(t.depthMask(dt),ce=dt)},setFunc:function(dt){if(Ne!==dt){switch(dt){case Ox:t.depthFunc(512);break;case zx:t.depthFunc(519);break;case pg:t.depthFunc(513);break;case i0:t.depthFunc(515);break;case s0:t.depthFunc(514);break;case Gx:t.depthFunc(518);break;case Hx:t.depthFunc(516);break;case av:t.depthFunc(517);break;default:t.depthFunc(515)}Ne=dt}},setLocked:function(dt){ne=dt},setClear:function(dt){it!==dt&&(t.clearDepth(dt),it=dt)},reset:function(){ne=!1,ce=null,Ne=null,it=null}}}function o(){let ne=!1,ce=null,Ne=null,it=null,dt=null,Kt=null,Ot=null,Wt=null,jt=null;return{setTest:function(on){ne||(on?le(2960):re(2960))},setMask:function(on){ce!==on&&!ne&&(t.stencilMask(on),ce=on)},setFunc:function(on,Gt,Zt){(Ne!==on||it!==Gt||dt!==Zt)&&(t.stencilFunc(on,Gt,Zt),Ne=on,it=Gt,dt=Zt)},setOp:function(on,Gt,Zt){(Kt!==on||Ot!==Gt||Wt!==Zt)&&(t.stencilOp(on,Gt,Zt),Kt=on,Ot=Gt,Wt=Zt)},setLocked:function(on){ne=on},setClear:function(on){jt!==on&&(t.clearStencil(on),jt=on)},reset:function(){ne=!1,ce=null,Ne=null,it=null,dt=null,Kt=null,Ot=null,Wt=null,jt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let d={},m={},g=new WeakMap,v=[],y=null,w=!1,S=null,x=null,M=null,E=null,C=null,P=null,T=null,R=!1,I=null,U=null,G=null,j=null,D=null;const k=t.getParameter(35661);let H=!1,oe=0;const N=t.getParameter(7938);N.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(N)[1]),H=oe>=1):N.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),H=oe>=2);let W=null,Z={};const Y=t.getParameter(3088),F=t.getParameter(2978),q=new qt().fromArray(Y),ee=new qt().fromArray(F);function X(ne,ce,Ne){const it=new Uint8Array(4),dt=t.createTexture();t.bindTexture(ne,dt),t.texParameteri(ne,10241,9728),t.texParameteri(ne,10240,9728);for(let Kt=0;Kt<Ne;Kt++)t.texImage2D(ce+Kt,0,6408,1,1,0,6408,5121,it);return dt}const K={};K[3553]=X(3553,3553,1),K[34067]=X(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),le(2929),l.setFunc(i0),Be(!1),He(Q8),le(2884),Le(Jn);function le(ne){d[ne]!==!0&&(t.enable(ne),d[ne]=!0)}function re(ne){d[ne]!==!1&&(t.disable(ne),d[ne]=!1)}function me(ne,ce){return m[ne]!==ce?(t.bindFramebuffer(ne,ce),m[ne]=ce,r&&(ne===36009&&(m[36160]=ce),ne===36160&&(m[36009]=ce)),!0):!1}function Ee(ne,ce){let Ne=v,it=!1;if(ne)if(Ne=g.get(ce),Ne===void 0&&(Ne=[],g.set(ce,Ne)),ne.isWebGLMultipleRenderTargets){const dt=ne.texture;if(Ne.length!==dt.length||Ne[0]!==36064){for(let Kt=0,Ot=dt.length;Kt<Ot;Kt++)Ne[Kt]=36064+Kt;Ne.length=dt.length,it=!0}}else Ne[0]!==36064&&(Ne[0]=36064,it=!0);else Ne[0]!==1029&&(Ne[0]=1029,it=!0);it&&(n.isWebGL2?t.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function _e(ne){return y!==ne?(t.useProgram(ne),y=ne,!0):!1}const ie={[Uu]:32774,[SD]:32778,[wD]:32779};if(r)ie[ty]=32775,ie[ny]=32776;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(ie[ty]=ne.MIN_EXT,ie[ny]=ne.MAX_EXT)}const xe={[_D]:0,[MD]:1,[AD]:768,[Ux]:770,[RD]:776,[bD]:774,[TD]:772,[ED]:769,[Nx]:771,[PD]:775,[CD]:773};function Le(ne,ce,Ne,it,dt,Kt,Ot,Wt){if(ne===Jn){w===!0&&(re(3042),w=!1);return}if(w===!1&&(le(3042),w=!0),ne!==xD){if(ne!==S||Wt!==R){if((x!==Uu||C!==Uu)&&(t.blendEquation(32774),x=Uu,C=Uu),Wt)switch(ne){case $u:t.blendFuncSeparate(1,771,1,771);break;case q8:t.blendFunc(1,1);break;case $8:t.blendFuncSeparate(0,769,0,1);break;case ey:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case $u:t.blendFuncSeparate(770,771,1,771);break;case q8:t.blendFunc(770,1);break;case $8:t.blendFuncSeparate(0,769,0,1);break;case ey:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}M=null,E=null,P=null,T=null,S=ne,R=Wt}return}dt=dt||ce,Kt=Kt||Ne,Ot=Ot||it,(ce!==x||dt!==C)&&(t.blendEquationSeparate(ie[ce],ie[dt]),x=ce,C=dt),(Ne!==M||it!==E||Kt!==P||Ot!==T)&&(t.blendFuncSeparate(xe[Ne],xe[it],xe[Kt],xe[Ot]),M=Ne,E=it,P=Kt,T=Ot),S=ne,R=!1}function Ce(ne,ce){ne.side===ri?re(2884):le(2884);let Ne=ne.side===br;ce&&(Ne=!Ne),Be(Ne),ne.blending===$u&&ne.transparent===!1?Le(Jn):Le(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.premultipliedAlpha),l.setFunc(ne.depthFunc),l.setTest(ne.depthTest),l.setMask(ne.depthWrite),a.setMask(ne.colorWrite);const it=ne.stencilWrite;u.setTest(it),it&&(u.setMask(ne.stencilWriteMask),u.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),u.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),Ye(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?le(32926):re(32926)}function Be(ne){I!==ne&&(ne?t.frontFace(2304):t.frontFace(2305),I=ne)}function He(ne){ne!==gD?(le(2884),ne!==U&&(ne===Q8?t.cullFace(1029):ne===vD?t.cullFace(1028):t.cullFace(1032))):re(2884),U=ne}function Te(ne){ne!==G&&(H&&t.lineWidth(ne),G=ne)}function Ye(ne,ce,Ne){ne?(le(32823),(j!==ce||D!==Ne)&&(t.polygonOffset(ce,Ne),j=ce,D=Ne)):re(32823)}function We(ne){ne?le(3089):re(3089)}function De(ne){ne===void 0&&(ne=33984+k-1),W!==ne&&(t.activeTexture(ne),W=ne)}function Q(ne,ce,Ne){Ne===void 0&&(W===null?Ne=33984+k-1:Ne=W);let it=Z[Ne];it===void 0&&(it={type:void 0,texture:void 0},Z[Ne]=it),(it.type!==ne||it.texture!==ce)&&(W!==Ne&&(t.activeTexture(Ne),W=Ne),t.bindTexture(ne,ce||K[ne]),it.type=ne,it.texture=ce)}function O(){const ne=Z[W];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function ue(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Se(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ge(){try{t.texSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ve(){try{t.texSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ze(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ie(){try{t.texStorage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function at(){try{t.texStorage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Qe(){try{t.texImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function je(ne){q.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),q.copy(ne))}function Xe(ne){ee.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),ee.copy(ne))}function ae(ne,ce){let Ne=f.get(ce);Ne===void 0&&(Ne=new WeakMap,f.set(ce,Ne));let it=Ne.get(ne);it===void 0&&(it=t.getUniformBlockIndex(ce,ne.name),Ne.set(ne,it))}function Re(ne,ce){const it=f.get(ce).get(ne);c.get(ce)!==it&&(t.uniformBlockBinding(ce,it,ne.__bindingPointIndex),c.set(ce,it))}function $e(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},W=null,Z={},m={},g=new WeakMap,v=[],y=null,w=!1,S=null,x=null,M=null,E=null,C=null,P=null,T=null,R=!1,I=null,U=null,G=null,j=null,D=null,q.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:le,disable:re,bindFramebuffer:me,drawBuffers:Ee,useProgram:_e,setBlending:Le,setMaterial:Ce,setFlipSided:Be,setCullFace:He,setLineWidth:Te,setPolygonOffset:Ye,setScissorTest:We,activeTexture:De,bindTexture:Q,unbindTexture:O,compressedTexImage2D:ue,compressedTexImage3D:Se,texImage2D:Qe,texImage3D:st,updateUBOMapping:ae,uniformBlockBinding:Re,texStorage2D:Ie,texStorage3D:at,texSubImage2D:Ge,texSubImage3D:Ve,compressedTexSubImage2D:ze,compressedTexSubImage3D:Ze,scissor:je,viewport:Xe,reset:$e}}function AZ(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Q,O){return w?new OffscreenCanvas(Q,O):f0("canvas")}function x(Q,O,ue,Se){let Ge=1;if((Q.width>Se||Q.height>Se)&&(Ge=Se/Math.max(Q.width,Q.height)),Ge<1||O===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Ve=O?rB:Math.floor,ze=Ve(Ge*Q.width),Ze=Ve(Ge*Q.height);v===void 0&&(v=S(ze,Ze));const Ie=ue?S(ze,Ze):v;return Ie.width=ze,Ie.height=Ze,Ie.getContext("2d").drawImage(Q,0,0,ze,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ze+"x"+Ze+")."),Ie}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function M(Q){return Ty(Q.width)&&Ty(Q.height)}function E(Q){return a?!1:Q.wrapS!==Cr||Q.wrapT!==Cr||Q.minFilter!==Nt&&Q.minFilter!==gt}function C(Q,O){return Q.generateMipmaps&&O&&Q.minFilter!==Nt&&Q.minFilter!==gt}function P(Q){t.generateMipmap(Q)}function T(Q,O,ue,Se,Ge=!1){if(a===!1)return O;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ve=O;return O===6403&&(ue===5126&&(Ve=33326),ue===5131&&(Ve=33325),ue===5121&&(Ve=33321)),O===33319&&(ue===5126&&(Ve=33328),ue===5131&&(Ve=33327),ue===5121&&(Ve=33323)),O===6408&&(ue===5126&&(Ve=34836),ue===5131&&(Ve=34842),ue===5121&&(Ve=Se===En&&Ge===!1?35907:32856),ue===32819&&(Ve=32854),ue===32820&&(Ve=32855)),(Ve===33325||Ve===33326||Ve===33327||Ve===33328||Ve===34842||Ve===34836)&&e.get("EXT_color_buffer_float"),Ve}function R(Q,O,ue){return C(Q,ue)===!0||Q.isFramebufferTexture&&Q.minFilter!==Nt&&Q.minFilter!==gt?Math.log2(Math.max(O.width,O.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?O.mipmaps.length:1}function I(Q){return Q===Nt||Q===a0||Q===Xf?9728:9729}function U(Q){const O=Q.target;O.removeEventListener("dispose",U),j(O),O.isVideoTexture&&g.delete(O)}function G(Q){const O=Q.target;O.removeEventListener("dispose",G),k(O)}function j(Q){const O=r.get(Q);if(O.__webglInit===void 0)return;const ue=Q.source,Se=y.get(ue);if(Se){const Ge=Se[O.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&D(Q),Object.keys(Se).length===0&&y.delete(ue)}r.remove(Q)}function D(Q){const O=r.get(Q);t.deleteTexture(O.__webglTexture);const ue=Q.source,Se=y.get(ue);delete Se[O.__cacheKey],o.memory.textures--}function k(Q){const O=Q.texture,ue=r.get(Q),Se=r.get(O);if(Se.__webglTexture!==void 0&&(t.deleteTexture(Se.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++)t.deleteFramebuffer(ue.__webglFramebuffer[Ge]),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer[Ge]);else{if(t.deleteFramebuffer(ue.__webglFramebuffer),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Ge=0;Ge<ue.__webglColorRenderbuffer.length;Ge++)ue.__webglColorRenderbuffer[Ge]&&t.deleteRenderbuffer(ue.__webglColorRenderbuffer[Ge]);ue.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Ge=0,Ve=O.length;Ge<Ve;Ge++){const ze=r.get(O[Ge]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),r.remove(O[Ge])}r.remove(O),r.remove(Q)}let H=0;function oe(){H=0}function N(){const Q=H;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),H+=1,Q}function W(Q){const O=[];return O.push(Q.wrapS),O.push(Q.wrapT),O.push(Q.wrapR||0),O.push(Q.magFilter),O.push(Q.minFilter),O.push(Q.anisotropy),O.push(Q.internalFormat),O.push(Q.format),O.push(Q.type),O.push(Q.generateMipmaps),O.push(Q.premultiplyAlpha),O.push(Q.flipY),O.push(Q.unpackAlignment),O.push(Q.encoding),O.join()}function Z(Q,O){const ue=r.get(Q);if(Q.isVideoTexture&&We(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ue.__version!==Q.version){const Se=Q.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(ue,Q,O);return}}n.bindTexture(3553,ue.__webglTexture,33984+O)}function Y(Q,O){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){re(ue,Q,O);return}n.bindTexture(35866,ue.__webglTexture,33984+O)}function F(Q,O){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){re(ue,Q,O);return}n.bindTexture(32879,ue.__webglTexture,33984+O)}function q(Q,O){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){me(ue,Q,O);return}n.bindTexture(34067,ue.__webglTexture,33984+O)}const ee={[xi]:10497,[Cr]:33071,[dh]:33648},X={[Nt]:9728,[a0]:9984,[Xf]:9986,[gt]:9729,[uv]:9985,[na]:9987};function K(Q,O,ue){if(ue?(t.texParameteri(Q,10242,ee[O.wrapS]),t.texParameteri(Q,10243,ee[O.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,ee[O.wrapR]),t.texParameteri(Q,10240,X[O.magFilter]),t.texParameteri(Q,10241,X[O.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(O.wrapS!==Cr||O.wrapT!==Cr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,I(O.magFilter)),t.texParameteri(Q,10241,I(O.minFilter)),O.minFilter!==Nt&&O.minFilter!==gt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===Nt||O.minFilter!==Xf&&O.minFilter!==na||O.type===Pn&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===Xn&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(t.texParameterf(Q,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function le(Q,O){let ue=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,O.addEventListener("dispose",U));const Se=O.source;let Ge=y.get(Se);Ge===void 0&&(Ge={},y.set(Se,Ge));const Ve=W(O);if(Ve!==Q.__cacheKey){Ge[Ve]===void 0&&(Ge[Ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Ge[Ve].usedTimes++;const ze=Ge[Q.__cacheKey];ze!==void 0&&(Ge[Q.__cacheKey].usedTimes--,ze.usedTimes===0&&D(O)),Q.__cacheKey=Ve,Q.__webglTexture=Ge[Ve].texture}return ue}function re(Q,O,ue){let Se=3553;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Se=35866),O.isData3DTexture&&(Se=32879);const Ge=le(Q,O),Ve=O.source;n.bindTexture(Se,Q.__webglTexture,33984+ue);const ze=r.get(Ve);if(Ve.version!==ze.__version||Ge===!0){n.activeTexture(33984+ue),t.pixelStorei(37440,O.flipY),t.pixelStorei(37441,O.premultiplyAlpha),t.pixelStorei(3317,O.unpackAlignment),t.pixelStorei(37443,0);const Ze=E(O)&&M(O.image)===!1;let Ie=x(O.image,Ze,!1,c);Ie=De(O,Ie);const at=M(Ie)||a,Qe=s.convert(O.format,O.encoding);let st=s.convert(O.type),je=T(O.internalFormat,Qe,st,O.encoding,O.isVideoTexture);K(Se,O,at);let Xe;const ae=O.mipmaps,Re=a&&O.isVideoTexture!==!0,$e=ze.__version===void 0||Ge===!0,ne=R(O,Ie,at);if(O.isDepthTexture)je=6402,a?O.type===Pn?je=36012:O.type===La?je=33190:O.type===Wl?je=35056:je=33189:O.type===Pn&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===jl&&je===6402&&O.type!==Wx&&O.type!==La&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=La,st=s.convert(O.type)),O.format===Zl&&je===6402&&(je=34041,O.type!==Wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Wl,st=s.convert(O.type))),$e&&(Re?n.texStorage2D(3553,1,je,Ie.width,Ie.height):n.texImage2D(3553,0,je,Ie.width,Ie.height,0,Qe,st,null));else if(O.isDataTexture)if(ae.length>0&&at){Re&&$e&&n.texStorage2D(3553,ne,je,ae[0].width,ae[0].height);for(let ce=0,Ne=ae.length;ce<Ne;ce++)Xe=ae[ce],Re?n.texSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,st,Xe.data):n.texImage2D(3553,ce,je,Xe.width,Xe.height,0,Qe,st,Xe.data);O.generateMipmaps=!1}else Re?($e&&n.texStorage2D(3553,ne,je,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Ie.width,Ie.height,Qe,st,Ie.data)):n.texImage2D(3553,0,je,Ie.width,Ie.height,0,Qe,st,Ie.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Re&&$e&&n.texStorage3D(35866,ne,je,ae[0].width,ae[0].height,Ie.depth);for(let ce=0,Ne=ae.length;ce<Ne;ce++)Xe=ae[ce],O.format!==zn?Qe!==null?Re?n.compressedTexSubImage3D(35866,ce,0,0,0,Xe.width,Xe.height,Ie.depth,Qe,Xe.data,0,0):n.compressedTexImage3D(35866,ce,je,Xe.width,Xe.height,Ie.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?n.texSubImage3D(35866,ce,0,0,0,Xe.width,Xe.height,Ie.depth,Qe,st,Xe.data):n.texImage3D(35866,ce,je,Xe.width,Xe.height,Ie.depth,0,Qe,st,Xe.data)}else{Re&&$e&&n.texStorage2D(3553,ne,je,ae[0].width,ae[0].height);for(let ce=0,Ne=ae.length;ce<Ne;ce++)Xe=ae[ce],O.format!==zn?Qe!==null?Re?n.compressedTexSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,Xe.data):n.compressedTexImage2D(3553,ce,je,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?n.texSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,st,Xe.data):n.texImage2D(3553,ce,je,Xe.width,Xe.height,0,Qe,st,Xe.data)}else if(O.isDataArrayTexture)Re?($e&&n.texStorage3D(35866,ne,je,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(35866,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,st,Ie.data)):n.texImage3D(35866,0,je,Ie.width,Ie.height,Ie.depth,0,Qe,st,Ie.data);else if(O.isData3DTexture)Re?($e&&n.texStorage3D(32879,ne,je,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(32879,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,st,Ie.data)):n.texImage3D(32879,0,je,Ie.width,Ie.height,Ie.depth,0,Qe,st,Ie.data);else if(O.isFramebufferTexture){if($e)if(Re)n.texStorage2D(3553,ne,je,Ie.width,Ie.height);else{let ce=Ie.width,Ne=Ie.height;for(let it=0;it<ne;it++)n.texImage2D(3553,it,je,ce,Ne,0,Qe,st,null),ce>>=1,Ne>>=1}}else if(ae.length>0&&at){Re&&$e&&n.texStorage2D(3553,ne,je,ae[0].width,ae[0].height);for(let ce=0,Ne=ae.length;ce<Ne;ce++)Xe=ae[ce],Re?n.texSubImage2D(3553,ce,0,0,Qe,st,Xe):n.texImage2D(3553,ce,je,Qe,st,Xe);O.generateMipmaps=!1}else Re?($e&&n.texStorage2D(3553,ne,je,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Qe,st,Ie)):n.texImage2D(3553,0,je,Qe,st,Ie);C(O,at)&&P(Se),ze.__version=Ve.version,O.onUpdate&&O.onUpdate(O)}Q.__version=O.version}function me(Q,O,ue){if(O.image.length!==6)return;const Se=le(Q,O),Ge=O.source;n.bindTexture(34067,Q.__webglTexture,33984+ue);const Ve=r.get(Ge);if(Ge.version!==Ve.__version||Se===!0){n.activeTexture(33984+ue),t.pixelStorei(37440,O.flipY),t.pixelStorei(37441,O.premultiplyAlpha),t.pixelStorei(3317,O.unpackAlignment),t.pixelStorei(37443,0);const ze=O.isCompressedTexture||O.image[0].isCompressedTexture,Ze=O.image[0]&&O.image[0].isDataTexture,Ie=[];for(let ce=0;ce<6;ce++)!ze&&!Ze?Ie[ce]=x(O.image[ce],!1,!0,u):Ie[ce]=Ze?O.image[ce].image:O.image[ce],Ie[ce]=De(O,Ie[ce]);const at=Ie[0],Qe=M(at)||a,st=s.convert(O.format,O.encoding),je=s.convert(O.type),Xe=T(O.internalFormat,st,je,O.encoding),ae=a&&O.isVideoTexture!==!0,Re=Ve.__version===void 0||Se===!0;let $e=R(O,at,Qe);K(34067,O,Qe);let ne;if(ze){ae&&Re&&n.texStorage2D(34067,$e,Xe,at.width,at.height);for(let ce=0;ce<6;ce++){ne=Ie[ce].mipmaps;for(let Ne=0;Ne<ne.length;Ne++){const it=ne[Ne];O.format!==zn?st!==null?ae?n.compressedTexSubImage2D(34069+ce,Ne,0,0,it.width,it.height,st,it.data):n.compressedTexImage2D(34069+ce,Ne,Xe,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?n.texSubImage2D(34069+ce,Ne,0,0,it.width,it.height,st,je,it.data):n.texImage2D(34069+ce,Ne,Xe,it.width,it.height,0,st,je,it.data)}}}else{ne=O.mipmaps,ae&&Re&&(ne.length>0&&$e++,n.texStorage2D(34067,$e,Xe,Ie[0].width,Ie[0].height));for(let ce=0;ce<6;ce++)if(Ze){ae?n.texSubImage2D(34069+ce,0,0,0,Ie[ce].width,Ie[ce].height,st,je,Ie[ce].data):n.texImage2D(34069+ce,0,Xe,Ie[ce].width,Ie[ce].height,0,st,je,Ie[ce].data);for(let Ne=0;Ne<ne.length;Ne++){const dt=ne[Ne].image[ce].image;ae?n.texSubImage2D(34069+ce,Ne+1,0,0,dt.width,dt.height,st,je,dt.data):n.texImage2D(34069+ce,Ne+1,Xe,dt.width,dt.height,0,st,je,dt.data)}}else{ae?n.texSubImage2D(34069+ce,0,0,0,st,je,Ie[ce]):n.texImage2D(34069+ce,0,Xe,st,je,Ie[ce]);for(let Ne=0;Ne<ne.length;Ne++){const it=ne[Ne];ae?n.texSubImage2D(34069+ce,Ne+1,0,0,st,je,it.image[ce]):n.texImage2D(34069+ce,Ne+1,Xe,st,je,it.image[ce])}}}C(O,Qe)&&P(34067),Ve.__version=Ge.version,O.onUpdate&&O.onUpdate(O)}Q.__version=O.version}function Ee(Q,O,ue,Se,Ge){const Ve=s.convert(ue.format,ue.encoding),ze=s.convert(ue.type),Ze=T(ue.internalFormat,Ve,ze,ue.encoding);r.get(O).__hasExternalTextures||(Ge===32879||Ge===35866?n.texImage3D(Ge,0,Ze,O.width,O.height,O.depth,0,Ve,ze,null):n.texImage2D(Ge,0,Ze,O.width,O.height,0,Ve,ze,null)),n.bindFramebuffer(36160,Q),Ye(O)?d.framebufferTexture2DMultisampleEXT(36160,Se,Ge,r.get(ue).__webglTexture,0,Te(O)):(Ge===3553||Ge>=34069&&Ge<=34074)&&t.framebufferTexture2D(36160,Se,Ge,r.get(ue).__webglTexture,0),n.bindFramebuffer(36160,null)}function _e(Q,O,ue){if(t.bindRenderbuffer(36161,Q),O.depthBuffer&&!O.stencilBuffer){let Se=33189;if(ue||Ye(O)){const Ge=O.depthTexture;Ge&&Ge.isDepthTexture&&(Ge.type===Pn?Se=36012:Ge.type===La&&(Se=33190));const Ve=Te(O);Ye(O)?d.renderbufferStorageMultisampleEXT(36161,Ve,Se,O.width,O.height):t.renderbufferStorageMultisample(36161,Ve,Se,O.width,O.height)}else t.renderbufferStorage(36161,Se,O.width,O.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(O.depthBuffer&&O.stencilBuffer){const Se=Te(O);ue&&Ye(O)===!1?t.renderbufferStorageMultisample(36161,Se,35056,O.width,O.height):Ye(O)?d.renderbufferStorageMultisampleEXT(36161,Se,35056,O.width,O.height):t.renderbufferStorage(36161,34041,O.width,O.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const Se=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let Ge=0;Ge<Se.length;Ge++){const Ve=Se[Ge],ze=s.convert(Ve.format,Ve.encoding),Ze=s.convert(Ve.type),Ie=T(Ve.internalFormat,ze,Ze,Ve.encoding),at=Te(O);ue&&Ye(O)===!1?t.renderbufferStorageMultisample(36161,at,Ie,O.width,O.height):Ye(O)?d.renderbufferStorageMultisampleEXT(36161,at,Ie,O.width,O.height):t.renderbufferStorage(36161,Ie,O.width,O.height)}}t.bindRenderbuffer(36161,null)}function ie(Q,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Z(O.depthTexture,0);const Se=r.get(O.depthTexture).__webglTexture,Ge=Te(O);if(O.depthTexture.format===jl)Ye(O)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Se,0,Ge):t.framebufferTexture2D(36160,36096,3553,Se,0);else if(O.depthTexture.format===Zl)Ye(O)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Se,0,Ge):t.framebufferTexture2D(36160,33306,3553,Se,0);else throw new Error("Unknown depthTexture format")}function xe(Q){const O=r.get(Q),ue=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!O.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");ie(O.__webglFramebuffer,Q)}else if(ue){O.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)n.bindFramebuffer(36160,O.__webglFramebuffer[Se]),O.__webglDepthbuffer[Se]=t.createRenderbuffer(),_e(O.__webglDepthbuffer[Se],Q,!1)}else n.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),_e(O.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function Le(Q,O,ue){const Se=r.get(Q);O!==void 0&&Ee(Se.__webglFramebuffer,Q,Q.texture,36064,3553),ue!==void 0&&xe(Q)}function Ce(Q){const O=Q.texture,ue=r.get(Q),Se=r.get(O);Q.addEventListener("dispose",G),Q.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=O.version,o.memory.textures++);const Ge=Q.isWebGLCubeRenderTarget===!0,Ve=Q.isWebGLMultipleRenderTargets===!0,ze=M(Q)||a;if(Ge){ue.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)ue.__webglFramebuffer[Ze]=t.createFramebuffer()}else{if(ue.__webglFramebuffer=t.createFramebuffer(),Ve)if(i.drawBuffers){const Ze=Q.texture;for(let Ie=0,at=Ze.length;Ie<at;Ie++){const Qe=r.get(Ze[Ie]);Qe.__webglTexture===void 0&&(Qe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Ye(Q)===!1){const Ze=Ve?O:[O];ue.__webglMultisampledFramebuffer=t.createFramebuffer(),ue.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer);for(let Ie=0;Ie<Ze.length;Ie++){const at=Ze[Ie];ue.__webglColorRenderbuffer[Ie]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ue.__webglColorRenderbuffer[Ie]);const Qe=s.convert(at.format,at.encoding),st=s.convert(at.type),je=T(at.internalFormat,Qe,st,at.encoding,Q.isXRRenderTarget===!0),Xe=Te(Q);t.renderbufferStorageMultisample(36161,Xe,je,Q.width,Q.height),t.framebufferRenderbuffer(36160,36064+Ie,36161,ue.__webglColorRenderbuffer[Ie])}t.bindRenderbuffer(36161,null),Q.depthBuffer&&(ue.__webglDepthRenderbuffer=t.createRenderbuffer(),_e(ue.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(Ge){n.bindTexture(34067,Se.__webglTexture),K(34067,O,ze);for(let Ze=0;Ze<6;Ze++)Ee(ue.__webglFramebuffer[Ze],Q,O,36064,34069+Ze);C(O,ze)&&P(34067),n.unbindTexture()}else if(Ve){const Ze=Q.texture;for(let Ie=0,at=Ze.length;Ie<at;Ie++){const Qe=Ze[Ie],st=r.get(Qe);n.bindTexture(3553,st.__webglTexture),K(3553,Qe,ze),Ee(ue.__webglFramebuffer,Q,Qe,36064+Ie,3553),C(Qe,ze)&&P(3553)}n.unbindTexture()}else{let Ze=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?Ze=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ze,Se.__webglTexture),K(Ze,O,ze),Ee(ue.__webglFramebuffer,Q,O,36064,Ze),C(O,ze)&&P(Ze),n.unbindTexture()}Q.depthBuffer&&xe(Q)}function Be(Q){const O=M(Q)||a,ue=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Se=0,Ge=ue.length;Se<Ge;Se++){const Ve=ue[Se];if(C(Ve,O)){const ze=Q.isWebGLCubeRenderTarget?34067:3553,Ze=r.get(Ve).__webglTexture;n.bindTexture(ze,Ze),P(ze),n.unbindTexture()}}}function He(Q){if(a&&Q.samples>0&&Ye(Q)===!1){const O=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ue=Q.width,Se=Q.height;let Ge=16384;const Ve=[],ze=Q.stencilBuffer?33306:36096,Ze=r.get(Q),Ie=Q.isWebGLMultipleRenderTargets===!0;if(Ie)for(let at=0;at<O.length;at++)n.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+at,36161,null),n.bindFramebuffer(36160,Ze.__webglFramebuffer),t.framebufferTexture2D(36009,36064+at,3553,null,0);n.bindFramebuffer(36008,Ze.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ze.__webglFramebuffer);for(let at=0;at<O.length;at++){Ve.push(36064+at),Q.depthBuffer&&Ve.push(ze);const Qe=Ze.__ignoreDepthValues!==void 0?Ze.__ignoreDepthValues:!1;if(Qe===!1&&(Q.depthBuffer&&(Ge|=256),Q.stencilBuffer&&(Ge|=1024)),Ie&&t.framebufferRenderbuffer(36008,36064,36161,Ze.__webglColorRenderbuffer[at]),Qe===!0&&(t.invalidateFramebuffer(36008,[ze]),t.invalidateFramebuffer(36009,[ze])),Ie){const st=r.get(O[at]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,st,0)}t.blitFramebuffer(0,0,ue,Se,0,0,ue,Se,Ge,9728),m&&t.invalidateFramebuffer(36008,Ve)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Ie)for(let at=0;at<O.length;at++){n.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+at,36161,Ze.__webglColorRenderbuffer[at]);const Qe=r.get(O[at]).__webglTexture;n.bindFramebuffer(36160,Ze.__webglFramebuffer),t.framebufferTexture2D(36009,36064+at,3553,Qe,0)}n.bindFramebuffer(36009,Ze.__webglMultisampledFramebuffer)}}function Te(Q){return Math.min(f,Q.samples)}function Ye(Q){const O=r.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function We(Q){const O=o.render.frame;g.get(Q)!==O&&(g.set(Q,O),Q.update())}function De(Q,O){const ue=Q.encoding,Se=Q.format,Ge=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===vg||ue!==To&&(ue===En?a===!1?e.has("EXT_sRGB")===!0&&Se===zn?(Q.format=vg,Q.minFilter=gt,Q.generateMipmaps=!1):O=Zx.sRGBToLinear(O):(Se!==zn||Ge!==Gn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ue)),O}this.allocateTextureUnit=N,this.resetTextureUnits=oe,this.setTexture2D=Z,this.setTexture2DArray=Y,this.setTexture3D=F,this.setTextureCube=q,this.rebindTextures=Le,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=Ye}function hB(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Gn)return 5121;if(s===zD)return 32819;if(s===GD)return 32820;if(s===UD)return 5120;if(s===ND)return 5122;if(s===Wx)return 5123;if(s===OD)return 5124;if(s===La)return 5125;if(s===Pn)return 5126;if(s===Xn)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===HD)return 6406;if(s===zn)return 6408;if(s===cv)return 6409;if(s===VD)return 6410;if(s===jl)return 6402;if(s===Zl)return 34041;if(s===vg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===F0)return 6403;if(s===WD)return 36244;if(s===jx)return 33319;if(s===jD)return 33320;if(s===XD)return 36249;if(s===e1||s===t1||s===n1||s===r1)if(o===En)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===e1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===t1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===n1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===r1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===e1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===t1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===n1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===r1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===ry||s===iy||s===sy||s===oy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===ry)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===iy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===sy)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===oy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===JD)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===ay||s===ly)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===ay)return o===En?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===ly)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===uy||s===cy||s===fy||s===hy||s===dy||s===py||s===my||s===gy||s===vy||s===yy||s===xy||s===Sy||s===wy||s===_y)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===uy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===cy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===fy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===hy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===dy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===py)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===my)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===gy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===vy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===yy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===xy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Sy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===wy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===_y)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===i1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===i1)return o===En?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===YD||s===My||s===Ay||s===Ey)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===i1)return a.COMPRESSED_RED_RGTC1_EXT;if(s===My)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Ay)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Ey)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class dB extends In{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ka extends pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const EZ={type:"move"};class D6{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ka,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ka,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ka,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),w=this._getHandJoint(u,v);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=y.radius),w.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&d>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(EZ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ka;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class N0 extends bn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:jl,c!==jl&&c!==Zl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===jl&&(r=La),r===void 0&&c===Zl&&(r=Wl),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Nt,this.minFilter=l!==void 0?l:Nt,this.flipY=!1,this.generateMipmaps=!1}}class TZ extends Ts{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,d=null,m=null,g=null;const v=n.getContextAttributes();let y=null,w=null;const S=[],x=[],M=new Set,E=new Map,C=new In;C.layers.enable(1),C.viewport=new qt;const P=new In;P.layers.enable(2),P.viewport=new qt;const T=[C,P],R=new dB;R.layers.enable(1),R.layers.enable(2);let I=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let q=S[F];return q===void 0&&(q=new D6,S[F]=q),q.getTargetRaySpace()},this.getControllerGrip=function(F){let q=S[F];return q===void 0&&(q=new D6,S[F]=q),q.getGripSpace()},this.getHand=function(F){let q=S[F];return q===void 0&&(q=new D6,S[F]=q),q.getHandSpace()};function G(F){const q=x.indexOf(F.inputSource);if(q===-1)return;const ee=S[q];ee!==void 0&&ee.dispatchEvent({type:F.type,data:F.inputSource})}function j(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",D);for(let F=0;F<S.length;F++){const q=x[F];q!==null&&(x[F]=null,S[F].disconnect(q))}I=null,U=null,e.setRenderTarget(y),m=null,d=null,f=null,i=null,w=null,Y.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(F){u=F},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",j),i.addEventListener("inputsourceschange",D),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,q),i.updateRenderState({baseLayer:m}),w=new $t(m.framebufferWidth,m.framebufferHeight,{format:zn,type:Gn,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let q=null,ee=null,X=null;v.depth&&(X=v.stencil?35056:33190,q=v.stencil?Zl:jl,ee=v.stencil?Wl:La);const K={colorFormat:32856,depthFormat:X,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(K),i.updateRenderState({layers:[d]}),w=new $t(d.textureWidth,d.textureHeight,{format:zn,type:Gn,depthTexture:new N0(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const le=e.properties.get(w);le.__ignoreDepthValues=d.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),Y.setContext(i),Y.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(F){for(let q=0;q<F.removed.length;q++){const ee=F.removed[q],X=x.indexOf(ee);X>=0&&(x[X]=null,S[X].disconnect(ee))}for(let q=0;q<F.added.length;q++){const ee=F.added[q];let X=x.indexOf(ee);if(X===-1){for(let le=0;le<S.length;le++)if(le>=x.length){x.push(ee),X=le;break}else if(x[le]===null){x[le]=ee,X=le;break}if(X===-1)break}const K=S[X];K&&K.connect(ee)}}const k=new J,H=new J;function oe(F,q,ee){k.setFromMatrixPosition(q.matrixWorld),H.setFromMatrixPosition(ee.matrixWorld);const X=k.distanceTo(H),K=q.projectionMatrix.elements,le=ee.projectionMatrix.elements,re=K[14]/(K[10]-1),me=K[14]/(K[10]+1),Ee=(K[9]+1)/K[5],_e=(K[9]-1)/K[5],ie=(K[8]-1)/K[0],xe=(le[8]+1)/le[0],Le=re*ie,Ce=re*xe,Be=X/(-ie+xe),He=Be*-ie;q.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(He),F.translateZ(Be),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Te=re+Be,Ye=me+Be,We=Le-He,De=Ce+(X-He),Q=Ee*me/Ye*Te,O=_e*me/Ye*Te;F.projectionMatrix.makePerspective(We,De,Q,O,Te,Ye)}function N(F,q){q===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(q.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;R.near=P.near=C.near=F.near,R.far=P.far=C.far=F.far,(I!==R.near||U!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,U=R.far);const q=F.parent,ee=R.cameras;N(R,q);for(let K=0;K<ee.length;K++)N(ee[K],q);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),F.matrix.copy(R.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale);const X=F.children;for(let K=0,le=X.length;K<le;K++)X[K].updateMatrixWorld(!0);ee.length===2?oe(R,C,P):R.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(F){l=F,d!==null&&(d.fixedFoveation=F),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=F)},this.getPlanes=function(){return M};let W=null;function Z(F,q){if(c=q.getViewerPose(u||o),g=q,c!==null){const ee=c.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let X=!1;ee.length!==R.cameras.length&&(R.cameras.length=0,X=!0);for(let K=0;K<ee.length;K++){const le=ee[K];let re=null;if(m!==null)re=m.getViewport(le);else{const Ee=f.getViewSubImage(d,le);re=Ee.viewport,K===0&&(e.setRenderTargetTextures(w,Ee.colorTexture,d.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(w))}let me=T[K];me===void 0&&(me=new In,me.layers.enable(K),me.viewport=new qt,T[K]=me),me.matrix.fromArray(le.transform.matrix),me.projectionMatrix.fromArray(le.projectionMatrix),me.viewport.set(re.x,re.y,re.width,re.height),K===0&&R.matrix.copy(me.matrix),X===!0&&R.cameras.push(me)}}for(let ee=0;ee<S.length;ee++){const X=x[ee],K=S[ee];X!==null&&K!==void 0&&K.update(X,q,u||o)}if(W&&W(F,q),q.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:q.detectedPlanes});let ee=null;for(const X of M)q.detectedPlanes.has(X)||(ee===null&&(ee=[]),ee.push(X));if(ee!==null)for(const X of ee)M.delete(X),E.delete(X),r.dispatchEvent({type:"planeremoved",data:X});for(const X of q.detectedPlanes)if(!M.has(X))M.add(X),E.set(X,q.lastChangedTime),r.dispatchEvent({type:"planeadded",data:X});else{const K=E.get(X);X.lastChangedTime>K&&(E.set(X,X.lastChangedTime),r.dispatchEvent({type:"planechanged",data:X}))}}g=null}const Y=new aB;Y.setAnimationLoop(Z),this.setAnimationLoop=function(F){W=F},this.dispose=function(){}}}function CZ(t,e){function n(v,y){y.color.getRGB(v.fogColor.value,oB(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,w,S,x){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),c(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,x)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,w,S):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===br&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===br&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const w=e.get(y).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const M=t.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*M}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let S;y.map?S=y.map:y.specularMap?S=y.specularMap:y.displacementMap?S=y.displacementMap:y.normalMap?S=y.normalMap:y.bumpMap?S=y.bumpMap:y.roughnessMap?S=y.roughnessMap:y.metalnessMap?S=y.metalnessMap:y.alphaMap?S=y.alphaMap:y.emissiveMap?S=y.emissiveMap:y.clearcoatMap?S=y.clearcoatMap:y.clearcoatNormalMap?S=y.clearcoatNormalMap:y.clearcoatRoughnessMap?S=y.clearcoatRoughnessMap:y.iridescenceMap?S=y.iridescenceMap:y.iridescenceThicknessMap?S=y.iridescenceThicknessMap:y.specularIntensityMap?S=y.specularIntensityMap:y.specularColorMap?S=y.specularColorMap:y.transmissionMap?S=y.transmissionMap:y.thicknessMap?S=y.thicknessMap:y.sheenColorMap?S=y.sheenColorMap:y.sheenRoughnessMap&&(S=y.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix));let x;y.aoMap?x=y.aoMap:y.lightMap&&(x=y.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uv2Transform.value.copy(x.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,w,S){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*w,v.scale.value=S*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,w){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===br&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function bZ(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(S,x){const M=x.program;r.uniformBlockBinding(S,M)}function u(S,x){let M=i[S.id];M===void 0&&(g(S),M=c(S),i[S.id]=M,S.addEventListener("dispose",y));const E=x.program;r.updateUBOMapping(S,E);const C=e.render.frame;s[S.id]!==C&&(d(S),s[S.id]=C)}function c(S){const x=f();S.__bindingPointIndex=x;const M=t.createBuffer(),E=S.__size,C=S.usage;return t.bindBuffer(35345,M),t.bufferData(35345,E,C),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,M),M}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(S){const x=i[S.id],M=S.uniforms,E=S.__cache;t.bindBuffer(35345,x);for(let C=0,P=M.length;C<P;C++){const T=M[C];if(m(T,C,E)===!0){const R=T.__offset,I=Array.isArray(T.value)?T.value:[T.value];let U=0;for(let G=0;G<I.length;G++){const j=I[G],D=v(j);typeof j=="number"?(T.__data[0]=j,t.bufferSubData(35345,R+U,T.__data)):j.isMatrix3?(T.__data[0]=j.elements[0],T.__data[1]=j.elements[1],T.__data[2]=j.elements[2],T.__data[3]=j.elements[0],T.__data[4]=j.elements[3],T.__data[5]=j.elements[4],T.__data[6]=j.elements[5],T.__data[7]=j.elements[0],T.__data[8]=j.elements[6],T.__data[9]=j.elements[7],T.__data[10]=j.elements[8],T.__data[11]=j.elements[0]):(j.toArray(T.__data,U),U+=D.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,R,T.__data)}}t.bindBuffer(35345,null)}function m(S,x,M){const E=S.value;if(M[x]===void 0){if(typeof E=="number")M[x]=E;else{const C=Array.isArray(E)?E:[E],P=[];for(let T=0;T<C.length;T++)P.push(C[T].clone());M[x]=P}return!0}else if(typeof E=="number"){if(M[x]!==E)return M[x]=E,!0}else{const C=Array.isArray(M[x])?M[x]:[M[x]],P=Array.isArray(E)?E:[E];for(let T=0;T<C.length;T++){const R=C[T];if(R.equals(P[T])===!1)return R.copy(P[T]),!0}}return!1}function g(S){const x=S.uniforms;let M=0;const E=16;let C=0;for(let P=0,T=x.length;P<T;P++){const R=x[P],I={boundary:0,storage:0},U=Array.isArray(R.value)?R.value:[R.value];for(let G=0,j=U.length;G<j;G++){const D=U[G],k=v(D);I.boundary+=k.boundary,I.storage+=k.storage}if(R.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,P>0){C=M%E;const G=E-C;C!==0&&G-I.boundary<0&&(M+=E-C,R.__offset=M)}M+=I.storage}return C=M%E,C>0&&(M+=E-C),S.__size=M,S.__cache={},this}function v(S){const x={boundary:0,storage:0};return typeof S=="number"?(x.boundary=4,x.storage=4):S.isVector2?(x.boundary=8,x.storage=8):S.isVector3||S.isColor?(x.boundary=16,x.storage=12):S.isVector4?(x.boundary=16,x.storage=16):S.isMatrix3?(x.boundary=48,x.storage=48):S.isMatrix4?(x.boundary=64,x.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),x}function y(S){const x=S.target;x.removeEventListener("dispose",y);const M=o.indexOf(x.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete s[x.id]}function w(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:w}}function PZ(){const t=f0("canvas");return t.style.display="block",t}function gv(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:PZ(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let f=null,d=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=To,this.useLegacyLights=!0,this.toneMapping=Mo,this.toneMappingExposure=1;const v=this;let y=!1,w=0,S=0,x=null,M=-1,E=null;const C=new qt,P=new qt;let T=null,R=e.width,I=e.height,U=1,G=null,j=null;const D=new qt(0,0,R,I),k=new qt(0,0,R,I);let H=!1;const oe=new dv;let N=!1,W=!1,Z=null;const Y=new ht,F=new J,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ee(){return x===null?U:1}let X=n;function K($,Ae){for(let Pe=0;Pe<$.length;Pe++){const fe=$[Pe],Fe=e.getContext(fe,Ae);if(Fe!==null)return Fe}return null}try{const $={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${qs}`),e.addEventListener("webglcontextlost",st,!1),e.addEventListener("webglcontextrestored",je,!1),e.addEventListener("webglcontextcreationerror",Xe,!1),X===null){const Ae=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Ae.shift(),X=K(Ae,$),X===null)throw K(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let le,re,me,Ee,_e,ie,xe,Le,Ce,Be,He,Te,Ye,We,De,Q,O,ue,Se,Ge,Ve,ze,Ze,Ie;function at(){le=new jY(X),re=new OY(X,le,t),le.init(re),ze=new hB(X,le,re),me=new MZ(X,le,re),Ee=new YY,_e=new fZ,ie=new AZ(X,le,me,_e,re,ze,Ee),xe=new GY(v),Le=new WY(v),Ce=new rX(X,re),Ze=new UY(X,le,Ce,re),Be=new XY(X,Ce,Ee,Ze),He=new qY(X,Be,Ce,Ee),Se=new QY(X,re,ie),Q=new zY(_e),Te=new cZ(v,xe,Le,le,re,Ze,Q),Ye=new CZ(v,_e),We=new dZ,De=new xZ(le,re),ue=new kY(v,xe,Le,me,He,c,o),O=new _Z(v,He,re),Ie=new bZ(X,Ee,re,me),Ge=new NY(X,le,Ee,re),Ve=new JY(X,le,Ee,re),Ee.programs=Te.programs,v.capabilities=re,v.extensions=le,v.properties=_e,v.renderLists=We,v.shadowMap=O,v.state=me,v.info=Ee}at();const Qe=new TZ(v,X);this.xr=Qe,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const $=le.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=le.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function($){$!==void 0&&(U=$,this.setSize(R,I,!1))},this.getSize=function($){return $.set(R,I)},this.setSize=function($,Ae,Pe=!0){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=$,I=Ae,e.width=Math.floor($*U),e.height=Math.floor(Ae*U),Pe===!0&&(e.style.width=$+"px",e.style.height=Ae+"px"),this.setViewport(0,0,$,Ae)},this.getDrawingBufferSize=function($){return $.set(R*U,I*U).floor()},this.setDrawingBufferSize=function($,Ae,Pe){R=$,I=Ae,U=Pe,e.width=Math.floor($*Pe),e.height=Math.floor(Ae*Pe),this.setViewport(0,0,$,Ae)},this.getCurrentViewport=function($){return $.copy(C)},this.getViewport=function($){return $.copy(D)},this.setViewport=function($,Ae,Pe,fe){$.isVector4?D.set($.x,$.y,$.z,$.w):D.set($,Ae,Pe,fe),me.viewport(C.copy(D).multiplyScalar(U).floor())},this.getScissor=function($){return $.copy(k)},this.setScissor=function($,Ae,Pe,fe){$.isVector4?k.set($.x,$.y,$.z,$.w):k.set($,Ae,Pe,fe),me.scissor(P.copy(k).multiplyScalar(U).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function($){me.setScissorTest(H=$)},this.setOpaqueSort=function($){G=$},this.setTransparentSort=function($){j=$},this.getClearColor=function($){return $.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function($=!0,Ae=!0,Pe=!0){let fe=0;$&&(fe|=16384),Ae&&(fe|=256),Pe&&(fe|=1024),X.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1),e.removeEventListener("webglcontextrestored",je,!1),e.removeEventListener("webglcontextcreationerror",Xe,!1),We.dispose(),De.dispose(),_e.dispose(),xe.dispose(),Le.dispose(),He.dispose(),Ze.dispose(),Ie.dispose(),Te.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",Ne),Qe.removeEventListener("sessionend",it),Z&&(Z.dispose(),Z=null),dt.stop()};function st($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const $=Ee.autoReset,Ae=O.enabled,Pe=O.autoUpdate,fe=O.needsUpdate,Fe=O.type;at(),Ee.autoReset=$,O.enabled=Ae,O.autoUpdate=Pe,O.needsUpdate=fe,O.type=Fe}function Xe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function ae($){const Ae=$.target;Ae.removeEventListener("dispose",ae),Re(Ae)}function Re($){$e($),_e.remove($)}function $e($){const Ae=_e.get($).programs;Ae!==void 0&&(Ae.forEach(function(Pe){Te.releaseProgram(Pe)}),$.isShaderMaterial&&Te.releaseShaderCache($))}this.renderBufferDirect=function($,Ae,Pe,fe,Fe,St){Ae===null&&(Ae=q);const L=Fe.isMesh&&Fe.matrixWorld.determinant()<0,V=Zr($,Ae,Pe,fe,Fe);me.setMaterial(fe,L);let se=Pe.index,pe=1;fe.wireframe===!0&&(se=Be.getWireframeAttribute(Pe),pe=2);const we=Pe.drawRange,Me=Pe.attributes.position;let Ke=we.start*pe,Je=(we.start+we.count)*pe;St!==null&&(Ke=Math.max(Ke,St.start*pe),Je=Math.min(Je,(St.start+St.count)*pe)),se!==null?(Ke=Math.max(Ke,0),Je=Math.min(Je,se.count)):Me!=null&&(Ke=Math.max(Ke,0),Je=Math.min(Je,Me.count));const tt=Je-Ke;if(tt<0||tt===1/0)return;Ze.setup(Fe,fe,V,Pe,se);let nt,qe=Ge;if(se!==null&&(nt=Ce.get(se),qe=Ve,qe.setIndex(nt)),Fe.isMesh)fe.wireframe===!0?(me.setLineWidth(fe.wireframeLinewidth*ee()),qe.setMode(1)):qe.setMode(4);else if(Fe.isLine){let ye=fe.linewidth;ye===void 0&&(ye=1),me.setLineWidth(ye*ee()),Fe.isLineSegments?qe.setMode(1):Fe.isLineLoop?qe.setMode(2):qe.setMode(3)}else Fe.isPoints?qe.setMode(0):Fe.isSprite&&qe.setMode(4);if(Fe.isInstancedMesh)qe.renderInstances(Ke,tt,Fe.count);else if(Pe.isInstancedBufferGeometry){const ye=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,nn=Math.min(Pe.instanceCount,ye);qe.renderInstances(Ke,tt,nn)}else qe.render(Ke,tt)},this.compile=function($,Ae){function Pe(fe,Fe,St){fe.transparent===!0&&fe.side===ri&&fe.forceSinglePass===!1?(fe.side=br,fe.needsUpdate=!0,Gt(fe,Fe,St),fe.side=Zs,fe.needsUpdate=!0,Gt(fe,Fe,St),fe.side=ri):Gt(fe,Fe,St)}d=De.get($),d.init(),g.push(d),$.traverseVisible(function(fe){fe.isLight&&fe.layers.test(Ae.layers)&&(d.pushLight(fe),fe.castShadow&&d.pushShadow(fe))}),d.setupLights(v.useLegacyLights),$.traverse(function(fe){const Fe=fe.material;if(Fe)if(Array.isArray(Fe))for(let St=0;St<Fe.length;St++){const L=Fe[St];Pe(L,$,fe)}else Pe(Fe,$,fe)}),g.pop(),d=null};let ne=null;function ce($){ne&&ne($)}function Ne(){dt.stop()}function it(){dt.start()}const dt=new aB;dt.setAnimationLoop(ce),typeof self<"u"&&dt.setContext(self),this.setAnimationLoop=function($){ne=$,Qe.setAnimationLoop($),$===null?dt.stop():dt.start()},Qe.addEventListener("sessionstart",Ne),Qe.addEventListener("sessionend",it),this.render=function($,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(Ae),Ae=Qe.getCamera()),$.isScene===!0&&$.onBeforeRender(v,$,Ae,x),d=De.get($,g.length),d.init(),g.push(d),Y.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),oe.setFromProjectionMatrix(Y),W=this.localClippingEnabled,N=Q.init(this.clippingPlanes,W),f=We.get($,m.length),f.init(),m.push(f),Kt($,Ae,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(G,j),N===!0&&Q.beginShadows();const Pe=d.state.shadowsArray;if(O.render(Pe,$,Ae),N===!0&&Q.endShadows(),this.info.autoReset===!0&&this.info.reset(),ue.render(f,$),d.setupLights(v.useLegacyLights),Ae.isArrayCamera){const fe=Ae.cameras;for(let Fe=0,St=fe.length;Fe<St;Fe++){const L=fe[Fe];Ot(f,$,L,L.viewport)}}else Ot(f,$,Ae);x!==null&&(ie.updateMultisampleRenderTarget(x),ie.updateRenderTargetMipmap(x)),$.isScene===!0&&$.onAfterRender(v,$,Ae),Ze.resetDefaultState(),M=-1,E=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function Kt($,Ae,Pe,fe){if($.visible===!1)return;if($.layers.test(Ae.layers)){if($.isGroup)Pe=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(Ae);else if($.isLight)d.pushLight($),$.castShadow&&d.pushShadow($);else if($.isSprite){if(!$.frustumCulled||oe.intersectsSprite($)){fe&&F.setFromMatrixPosition($.matrixWorld).applyMatrix4(Y);const L=He.update($),V=$.material;V.visible&&f.push($,L,V,Pe,F.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==Ee.render.frame&&($.skeleton.update(),$.skeleton.frame=Ee.render.frame),!$.frustumCulled||oe.intersectsObject($))){fe&&F.setFromMatrixPosition($.matrixWorld).applyMatrix4(Y);const L=He.update($),V=$.material;if(Array.isArray(V)){const se=L.groups;for(let pe=0,we=se.length;pe<we;pe++){const Me=se[pe],Ke=V[Me.materialIndex];Ke&&Ke.visible&&f.push($,L,Ke,Pe,F.z,Me)}}else V.visible&&f.push($,L,V,Pe,F.z,null)}}const St=$.children;for(let L=0,V=St.length;L<V;L++)Kt(St[L],Ae,Pe,fe)}function Ot($,Ae,Pe,fe){const Fe=$.opaque,St=$.transmissive,L=$.transparent;d.setupLightsView(Pe),N===!0&&Q.setGlobalState(v.clippingPlanes,Pe),St.length>0&&Wt(Fe,Ae,Pe),fe&&me.viewport(C.copy(fe)),Fe.length>0&&jt(Fe,Ae,Pe),St.length>0&&jt(St,Ae,Pe),L.length>0&&jt(L,Ae,Pe),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function Wt($,Ae,Pe){const fe=re.isWebGL2;Z===null&&(Z=new $t(1024,1024,{generateMipmaps:!0,type:le.has("EXT_color_buffer_half_float")?Xn:Gn,minFilter:na,samples:fe&&s===!0?4:0}));const Fe=v.getRenderTarget();v.setRenderTarget(Z),v.clear();const St=v.toneMapping;v.toneMapping=Mo,jt($,Ae,Pe),v.toneMapping=St,ie.updateMultisampleRenderTarget(Z),ie.updateRenderTargetMipmap(Z),v.setRenderTarget(Fe)}function jt($,Ae,Pe){const fe=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Fe=0,St=$.length;Fe<St;Fe++){const L=$[Fe],V=L.object,se=L.geometry,pe=fe===null?L.material:fe,we=L.group;V.layers.test(Pe.layers)&&on(V,Ae,Pe,se,pe,we)}}function on($,Ae,Pe,fe,Fe,St){$.onBeforeRender(v,Ae,Pe,fe,Fe,St),$.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Fe.onBeforeRender(v,Ae,Pe,fe,$,St),Fe.transparent===!0&&Fe.side===ri&&Fe.forceSinglePass===!1?(Fe.side=br,Fe.needsUpdate=!0,v.renderBufferDirect(Pe,Ae,fe,Fe,$,St),Fe.side=Zs,Fe.needsUpdate=!0,v.renderBufferDirect(Pe,Ae,fe,Fe,$,St),Fe.side=ri):v.renderBufferDirect(Pe,Ae,fe,Fe,$,St),$.onAfterRender(v,Ae,Pe,fe,Fe,St)}function Gt($,Ae,Pe){Ae.isScene!==!0&&(Ae=q);const fe=_e.get($),Fe=d.state.lights,St=d.state.shadowsArray,L=Fe.state.version,V=Te.getParameters($,Fe.state,St,Ae,Pe),se=Te.getProgramCacheKey(V);let pe=fe.programs;fe.environment=$.isMeshStandardMaterial?Ae.environment:null,fe.fog=Ae.fog,fe.envMap=($.isMeshStandardMaterial?Le:xe).get($.envMap||fe.environment),pe===void 0&&($.addEventListener("dispose",ae),pe=new Map,fe.programs=pe);let we=pe.get(se);if(we!==void 0){if(fe.currentProgram===we&&fe.lightsStateVersion===L)return Zt($,V),we}else V.uniforms=Te.getUniforms($),$.onBuild(Pe,V,v),$.onBeforeCompile(V,v),we=Te.acquireProgram(V,se),pe.set(se,we),fe.uniforms=V.uniforms;const Me=fe.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Me.clippingPlanes=Q.uniform),Zt($,V),fe.needsLights=un($),fe.lightsStateVersion=L,fe.needsLights&&(Me.ambientLightColor.value=Fe.state.ambient,Me.lightProbe.value=Fe.state.probe,Me.directionalLights.value=Fe.state.directional,Me.directionalLightShadows.value=Fe.state.directionalShadow,Me.spotLights.value=Fe.state.spot,Me.spotLightShadows.value=Fe.state.spotShadow,Me.rectAreaLights.value=Fe.state.rectArea,Me.ltc_1.value=Fe.state.rectAreaLTC1,Me.ltc_2.value=Fe.state.rectAreaLTC2,Me.pointLights.value=Fe.state.point,Me.pointLightShadows.value=Fe.state.pointShadow,Me.hemisphereLights.value=Fe.state.hemi,Me.directionalShadowMap.value=Fe.state.directionalShadowMap,Me.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,Me.spotShadowMap.value=Fe.state.spotShadowMap,Me.spotLightMatrix.value=Fe.state.spotLightMatrix,Me.spotLightMap.value=Fe.state.spotLightMap,Me.pointShadowMap.value=Fe.state.pointShadowMap,Me.pointShadowMatrix.value=Fe.state.pointShadowMatrix);const Ke=we.getUniforms(),Je=a1.seqWithValue(Ke.seq,Me);return fe.currentProgram=we,fe.uniformsList=Je,we}function Zt($,Ae){const Pe=_e.get($);Pe.outputEncoding=Ae.outputEncoding,Pe.instancing=Ae.instancing,Pe.skinning=Ae.skinning,Pe.morphTargets=Ae.morphTargets,Pe.morphNormals=Ae.morphNormals,Pe.morphColors=Ae.morphColors,Pe.morphTargetsCount=Ae.morphTargetsCount,Pe.numClippingPlanes=Ae.numClippingPlanes,Pe.numIntersection=Ae.numClipIntersection,Pe.vertexAlphas=Ae.vertexAlphas,Pe.vertexTangents=Ae.vertexTangents,Pe.toneMapping=Ae.toneMapping}function Zr($,Ae,Pe,fe,Fe){Ae.isScene!==!0&&(Ae=q),ie.resetTextureUnits();const St=Ae.fog,L=fe.isMeshStandardMaterial?Ae.environment:null,V=x===null?v.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:To,se=(fe.isMeshStandardMaterial?Le:xe).get(fe.envMap||L),pe=fe.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,we=!!fe.normalMap&&!!Pe.attributes.tangent,Me=!!Pe.morphAttributes.position,Ke=!!Pe.morphAttributes.normal,Je=!!Pe.morphAttributes.color,tt=fe.toneMapped?v.toneMapping:Mo,nt=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,qe=nt!==void 0?nt.length:0,ye=_e.get(fe),nn=d.state.lights;if(N===!0&&(W===!0||$!==E)){const Ct=$===E&&fe.id===M;Q.setState(fe,$,Ct)}let ut=!1;fe.version===ye.__version?(ye.needsLights&&ye.lightsStateVersion!==nn.state.version||ye.outputEncoding!==V||Fe.isInstancedMesh&&ye.instancing===!1||!Fe.isInstancedMesh&&ye.instancing===!0||Fe.isSkinnedMesh&&ye.skinning===!1||!Fe.isSkinnedMesh&&ye.skinning===!0||ye.envMap!==se||fe.fog===!0&&ye.fog!==St||ye.numClippingPlanes!==void 0&&(ye.numClippingPlanes!==Q.numPlanes||ye.numIntersection!==Q.numIntersection)||ye.vertexAlphas!==pe||ye.vertexTangents!==we||ye.morphTargets!==Me||ye.morphNormals!==Ke||ye.morphColors!==Je||ye.toneMapping!==tt||re.isWebGL2===!0&&ye.morphTargetsCount!==qe)&&(ut=!0):(ut=!0,ye.__version=fe.version);let pt=ye.currentProgram;ut===!0&&(pt=Gt(fe,Ae,Fe));let Dt=!1,It=!1,Qt=!1;const Tt=pt.getUniforms(),Mt=ye.uniforms;if(me.useProgram(pt.program)&&(Dt=!0,It=!0,Qt=!0),fe.id!==M&&(M=fe.id,It=!0),Dt||E!==$){if(Tt.setValue(X,"projectionMatrix",$.projectionMatrix),re.logarithmicDepthBuffer&&Tt.setValue(X,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),E!==$&&(E=$,It=!0,Qt=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const Ct=Tt.map.cameraPosition;Ct!==void 0&&Ct.setValue(X,F.setFromMatrixPosition($.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Tt.setValue(X,"isOrthographic",$.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Fe.isSkinnedMesh)&&Tt.setValue(X,"viewMatrix",$.matrixWorldInverse)}if(Fe.isSkinnedMesh){Tt.setOptional(X,Fe,"bindMatrix"),Tt.setOptional(X,Fe,"bindMatrixInverse");const Ct=Fe.skeleton;Ct&&(re.floatVertexTextures?(Ct.boneTexture===null&&Ct.computeBoneTexture(),Tt.setValue(X,"boneTexture",Ct.boneTexture,ie),Tt.setValue(X,"boneTextureSize",Ct.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Lt=Pe.morphAttributes;if((Lt.position!==void 0||Lt.normal!==void 0||Lt.color!==void 0&&re.isWebGL2===!0)&&Se.update(Fe,Pe,pt),(It||ye.receiveShadow!==Fe.receiveShadow)&&(ye.receiveShadow=Fe.receiveShadow,Tt.setValue(X,"receiveShadow",Fe.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Mt.envMap.value=se,Mt.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1),It&&(Tt.setValue(X,"toneMappingExposure",v.toneMappingExposure),ye.needsLights&&Dr(Mt,Qt),St&&fe.fog===!0&&Ye.refreshFogUniforms(Mt,St),Ye.refreshMaterialUniforms(Mt,fe,U,I,Z),a1.upload(X,ye.uniformsList,Mt,ie)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(a1.upload(X,ye.uniformsList,Mt,ie),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Tt.setValue(X,"center",Fe.center),Tt.setValue(X,"modelViewMatrix",Fe.modelViewMatrix),Tt.setValue(X,"normalMatrix",Fe.normalMatrix),Tt.setValue(X,"modelMatrix",Fe.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const Ct=fe.uniformsGroups;for(let mn=0,zt=Ct.length;mn<zt;mn++)if(re.isWebGL2){const wn=Ct[mn];Ie.update(wn,pt),Ie.bind(wn,pt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pt}function Dr($,Ae){$.ambientLightColor.needsUpdate=Ae,$.lightProbe.needsUpdate=Ae,$.directionalLights.needsUpdate=Ae,$.directionalLightShadows.needsUpdate=Ae,$.pointLights.needsUpdate=Ae,$.pointLightShadows.needsUpdate=Ae,$.spotLights.needsUpdate=Ae,$.spotLightShadows.needsUpdate=Ae,$.rectAreaLights.needsUpdate=Ae,$.hemisphereLights.needsUpdate=Ae}function un($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function($,Ae,Pe){_e.get($.texture).__webglTexture=Ae,_e.get($.depthTexture).__webglTexture=Pe;const fe=_e.get($);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=Pe===void 0,fe.__autoAllocateDepthBuffer||le.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,Ae){const Pe=_e.get($);Pe.__webglFramebuffer=Ae,Pe.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function($,Ae=0,Pe=0){x=$,w=Ae,S=Pe;let fe=!0,Fe=null,St=!1,L=!1;if($){const se=_e.get($);se.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(36160,null),fe=!1):se.__webglFramebuffer===void 0?ie.setupRenderTarget($):se.__hasExternalTextures&&ie.rebindTextures($,_e.get($.texture).__webglTexture,_e.get($.depthTexture).__webglTexture);const pe=$.texture;(pe.isData3DTexture||pe.isDataArrayTexture||pe.isCompressedArrayTexture)&&(L=!0);const we=_e.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Fe=we[Ae],St=!0):re.isWebGL2&&$.samples>0&&ie.useMultisampledRTT($)===!1?Fe=_e.get($).__webglMultisampledFramebuffer:Fe=we,C.copy($.viewport),P.copy($.scissor),T=$.scissorTest}else C.copy(D).multiplyScalar(U).floor(),P.copy(k).multiplyScalar(U).floor(),T=H;if(me.bindFramebuffer(36160,Fe)&&re.drawBuffers&&fe&&me.drawBuffers($,Fe),me.viewport(C),me.scissor(P),me.setScissorTest(T),St){const se=_e.get($.texture);X.framebufferTexture2D(36160,36064,34069+Ae,se.__webglTexture,Pe)}else if(L){const se=_e.get($.texture),pe=Ae||0;X.framebufferTextureLayer(36160,36064,se.__webglTexture,Pe||0,pe)}M=-1},this.readRenderTargetPixels=function($,Ae,Pe,fe,Fe,St,L){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let V=_e.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&L!==void 0&&(V=V[L]),V){me.bindFramebuffer(36160,V);try{const se=$.texture,pe=se.format,we=se.type;if(pe!==zn&&ze.convert(pe)!==X.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Me=we===Xn&&(le.has("EXT_color_buffer_half_float")||re.isWebGL2&&le.has("EXT_color_buffer_float"));if(we!==Gn&&ze.convert(we)!==X.getParameter(35738)&&!(we===Pn&&(re.isWebGL2||le.has("OES_texture_float")||le.has("WEBGL_color_buffer_float")))&&!Me){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=$.width-fe&&Pe>=0&&Pe<=$.height-Fe&&X.readPixels(Ae,Pe,fe,Fe,ze.convert(pe),ze.convert(we),St)}finally{const se=x!==null?_e.get(x).__webglFramebuffer:null;me.bindFramebuffer(36160,se)}}},this.copyFramebufferToTexture=function($,Ae,Pe=0){const fe=Math.pow(2,-Pe),Fe=Math.floor(Ae.image.width*fe),St=Math.floor(Ae.image.height*fe);ie.setTexture2D(Ae,0),X.copyTexSubImage2D(3553,Pe,0,0,$.x,$.y,Fe,St),me.unbindTexture()},this.copyTextureToTexture=function($,Ae,Pe,fe=0){const Fe=Ae.image.width,St=Ae.image.height,L=ze.convert(Pe.format),V=ze.convert(Pe.type);ie.setTexture2D(Pe,0),X.pixelStorei(37440,Pe.flipY),X.pixelStorei(37441,Pe.premultiplyAlpha),X.pixelStorei(3317,Pe.unpackAlignment),Ae.isDataTexture?X.texSubImage2D(3553,fe,$.x,$.y,Fe,St,L,V,Ae.image.data):Ae.isCompressedTexture?X.compressedTexSubImage2D(3553,fe,$.x,$.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,L,Ae.mipmaps[0].data):X.texSubImage2D(3553,fe,$.x,$.y,L,V,Ae.image),fe===0&&Pe.generateMipmaps&&X.generateMipmap(3553),me.unbindTexture()},this.copyTextureToTexture3D=function($,Ae,Pe,fe,Fe=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const St=$.max.x-$.min.x+1,L=$.max.y-$.min.y+1,V=$.max.z-$.min.z+1,se=ze.convert(fe.format),pe=ze.convert(fe.type);let we;if(fe.isData3DTexture)ie.setTexture3D(fe,0),we=32879;else if(fe.isDataArrayTexture)ie.setTexture2DArray(fe,0),we=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(37440,fe.flipY),X.pixelStorei(37441,fe.premultiplyAlpha),X.pixelStorei(3317,fe.unpackAlignment);const Me=X.getParameter(3314),Ke=X.getParameter(32878),Je=X.getParameter(3316),tt=X.getParameter(3315),nt=X.getParameter(32877),qe=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;X.pixelStorei(3314,qe.width),X.pixelStorei(32878,qe.height),X.pixelStorei(3316,$.min.x),X.pixelStorei(3315,$.min.y),X.pixelStorei(32877,$.min.z),Pe.isDataTexture||Pe.isData3DTexture?X.texSubImage3D(we,Fe,Ae.x,Ae.y,Ae.z,St,L,V,se,pe,qe.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(we,Fe,Ae.x,Ae.y,Ae.z,St,L,V,se,qe.data)):X.texSubImage3D(we,Fe,Ae.x,Ae.y,Ae.z,St,L,V,se,pe,qe),X.pixelStorei(3314,Me),X.pixelStorei(32878,Ke),X.pixelStorei(3316,Je),X.pixelStorei(3315,tt),X.pixelStorei(32877,nt),Fe===0&&fe.generateMipmaps&&X.generateMipmap(we),me.unbindTexture()},this.initTexture=function($){$.isCubeTexture?ie.setTextureCube($,0):$.isData3DTexture?ie.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?ie.setTexture2DArray($,0):ie.setTexture2D($,0),me.unbindTexture()},this.resetState=function(){w=0,S=0,x=null,me.reset(),Ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(gv.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}}});class pB extends gv{}pB.prototype.isWebGL1Renderer=!0;class vv{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new vv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class yv{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new yv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Xa extends pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class O0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=u0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ss()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bi=new J;class Qi{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.applyMatrix4(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.applyNormalMatrix(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.transformDirection(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Fa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Fa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Fa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Fa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qi(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class n7 extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nf;const Rd=new J,rf=new J,sf=new J,of=new ve,Dd=new ve,mB=new ht,X2=new J,Bd=new J,J2=new J,NA=new ve,B6=new ve,OA=new ve;class gB extends pn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",nf===void 0){nf=new Vt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new O0(n,5);nf.setIndex([0,1,2,0,2,3]),nf.setAttribute("position",new Qi(r,3,0,!1)),nf.setAttribute("uv",new Qi(r,2,3,!1))}this.geometry=nf,this.material=e!==void 0?e:new n7,this.center=new ve(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rf.setFromMatrixScale(this.matrixWorld),mB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rf.multiplyScalar(-sf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Y2(X2.set(-.5,-.5,0),sf,o,rf,i,s),Y2(Bd.set(.5,-.5,0),sf,o,rf,i,s),Y2(J2.set(.5,.5,0),sf,o,rf,i,s),NA.set(0,0),B6.set(1,0),OA.set(1,1);let a=e.ray.intersectTriangle(X2,Bd,J2,!1,Rd);if(a===null&&(Y2(Bd.set(-.5,.5,0),sf,o,rf,i,s),B6.set(0,1),a=e.ray.intersectTriangle(X2,J2,Bd,!1,Rd),a===null))return;const l=e.ray.origin.distanceTo(Rd);l<e.near||l>e.far||n.push({distance:l,point:Rd.clone(),uv:Hs.getUV(Rd,X2,Bd,J2,NA,B6,OA,new ve),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Y2(t,e,n,r,i,s){of.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Dd.x=s*of.x-i*of.y,Dd.y=i*of.x+s*of.y):Dd.copy(of),t.copy(e),t.x+=Dd.x,t.y+=Dd.y,t.applyMatrix4(mB)}const K2=new J,zA=new J;class vB extends pn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){K2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(K2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){K2.setFromMatrixPosition(e.matrixWorld),zA.setFromMatrixPosition(this.matrixWorld);const r=K2.distanceTo(zA)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const GA=new J,HA=new qt,VA=new qt,RZ=new J,WA=new ht;class r7 extends Un{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ht,this.bindMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;HA.fromBufferAttribute(i.attributes.skinIndex,e),VA.fromBufferAttribute(i.attributes.skinWeight,e),GA.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=VA.getComponent(s);if(o!==0){const a=HA.getComponent(s);WA.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(RZ.copy(GA).applyMatrix4(WA),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class xv extends pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qo extends bn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Nt,c=Nt,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jA=new ht,DZ=new ht;class z0{constructor(e=[],n=[]){this.uuid=Ss(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:DZ;jA.multiplyMatrices(a,n[s]),jA.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new z0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=nB(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qo(n,e,e,zn,Pn);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new xv),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class gc extends ln{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const XA=new ht,JA=new ht,Z2=[],BZ=new ht,Id=new Un;class i7 extends Un{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new gc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,BZ)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Id.geometry=this.geometry,Id.material=this.material,Id.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,XA),JA.multiplyMatrices(r,XA),Id.matrixWorld=JA,Id.raycast(e,Z2);for(let o=0,a=Z2.length;o<a;o++){const l=Z2[o];l.instanceId=s,l.object=this,n.push(l)}Z2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new gc(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class wi extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const YA=new J,KA=new J,ZA=new ht,I6=new Ph,Q2=new Cs;let Ja=class extends pn{constructor(e=new Vt,n=new wi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)YA.fromBufferAttribute(n,i-1),KA.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=YA.distanceTo(KA);e.setAttribute("lineDistance",new wt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Q2.copy(r.boundingSphere),Q2.applyMatrix4(i),Q2.radius+=s,e.ray.intersectsSphere(Q2)===!1)return;ZA.copy(i).invert(),I6.copy(e.ray).applyMatrix4(ZA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new J,c=new J,f=new J,d=new J,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const w=Math.max(0,o.start),S=Math.min(g.count,o.start+o.count);for(let x=w,M=S-1;x<M;x+=m){const E=g.getX(x),C=g.getX(x+1);if(u.fromBufferAttribute(y,E),c.fromBufferAttribute(y,C),I6.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(d);T<e.near||T>e.far||n.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let x=w,M=S-1;x<M;x+=m){if(u.fromBufferAttribute(y,x),c.fromBufferAttribute(y,x+1),I6.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const QA=new J,qA=new J;class Po extends Ja{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)QA.fromBufferAttribute(n,i),qA.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+QA.distanceTo(qA);e.setAttribute("lineDistance",new wt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class s7 extends Ja{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Sv extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $A=new ht,by=new Ph,q2=new Cs,$2=new J;class o7 extends pn{constructor(e=new Vt,n=new Sv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),q2.copy(r.boundingSphere),q2.applyMatrix4(i),q2.radius+=s,e.ray.intersectsSphere(q2)===!1)return;$A.copy(i).invert(),by.copy(e.ray).applyMatrix4($A);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=d,v=m;g<v;g++){const y=u.getX(g);$2.fromBufferAttribute(f,y),eE($2,y,l,i,e,n,this)}}else{const d=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=d,v=m;g<v;g++)$2.fromBufferAttribute(f,g),eE($2,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function eE(t,e,n,r,i,s,o){const a=by.distanceSqToPoint(t);if(a<n){const l=new J;by.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class yB extends bn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:gt,this.magFilter=s!==void 0?s:gt,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Py extends bn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Nt,this.minFilter=Nt,this.generateMipmaps=!1,this.needsUpdate=!0}}class a7 extends bn{constructor(e,n,r,i,s,o,a,l,u,c,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class IZ extends a7{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Cr}}class xB extends bn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ro{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,m=(o-c)/d;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ve:new J);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new J,i=[],s=[],o=[],a=new J,l=new ht;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new J)}s[0]=new J,o[0]=new J;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(_r(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(_r(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class G0 extends Ro{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ve,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=u-this.aY;l=d*c-m*f+this.aX,u=d*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class SB extends G0{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function l7(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let d=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;d*=c,m*=c,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const em=new J,L6=new l7,F6=new l7,k6=new l7;class wB extends Ro{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(em.subVectors(i[0],i[1]).add(i[0]),u=em);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(em.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=em),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(c),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),L6.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,g,v,y),F6.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,g,v,y),k6.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(L6.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),F6.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),k6.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(L6.calc(l),F6.calc(l),k6.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function tE(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function LZ(t,e){const n=1-t;return n*n*e}function FZ(t,e){return 2*(1-t)*t*e}function kZ(t,e){return t*t*e}function Mp(t,e,n,r){return LZ(t,e)+FZ(t,n)+kZ(t,r)}function UZ(t,e){const n=1-t;return n*n*n*e}function NZ(t,e){const n=1-t;return 3*n*n*t*e}function OZ(t,e){return 3*(1-t)*t*t*e}function zZ(t,e){return t*t*t*e}function Ap(t,e,n,r,i){return UZ(t,e)+NZ(t,n)+OZ(t,r)+zZ(t,i)}class u7 extends Ro{constructor(e=new ve,n=new ve,r=new ve,i=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ap(e,i.x,s.x,o.x,a.x),Ap(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _B extends Ro{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ap(e,i.x,s.x,o.x,a.x),Ap(e,i.y,s.y,o.y,a.y),Ap(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wv extends Ro{constructor(e=new ve,n=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MB extends Ro{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class c7 extends Ro{constructor(e=new ve,n=new ve,r=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Mp(e,i.x,s.x,o.x),Mp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class f7 extends Ro{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Mp(e,i.x,s.x,o.x),Mp(e,i.y,s.y,o.y),Mp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class h7 extends Ro{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ve){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(tE(a,l.x,u.x,c.x,f.x),tE(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ve().fromArray(i))}return this}}var d7=Object.freeze({__proto__:null,ArcCurve:SB,CatmullRomCurve3:wB,CubicBezierCurve:u7,CubicBezierCurve3:_B,EllipseCurve:G0,LineCurve:wv,LineCurve3:MB,QuadraticBezierCurve:c7,QuadraticBezierCurve3:f7,SplineCurve:h7});class AB extends Ro{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new wv(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new d7[i.type]().fromJSON(i))}return this}}class h0 extends AB{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new wv(this.currentPoint.clone(),new ve(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new c7(this.currentPoint.clone(),new ve(e,n),new ve(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new u7(this.currentPoint.clone(),new ve(e,n),new ve(r,i),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new h7(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new G0(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lh extends Vt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=_r(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new J,d=new ve,m=new J,g=new J,v=new J;let y=0,w=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,m.x=w*1,m.y=-y,m.z=w*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[S+1].x-e[S].x,w=e[S+1].y-e[S].y,m.x=w*1,m.y=-y,m.z=w*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let S=0;S<=n;S++){const x=r+S*c*i,M=Math.sin(x),E=Math.cos(x);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*M,f.y=e[C].y,f.z=e[C].x*E,o.push(f.x,f.y,f.z),d.x=S/n,d.y=C/(e.length-1),a.push(d.x,d.y);const P=l[3*C+0]*M,T=l[3*C+1],R=l[3*C+0]*E;u.push(P,T,R)}}for(let S=0;S<n;S++)for(let x=0;x<e.length-1;x++){const M=x+S*e.length,E=M,C=M+e.length,P=M+e.length+1,T=M+1;s.push(E,C,T),s.push(P,T,C)}this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("uv",new wt(a,2)),this.setAttribute("normal",new wt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lh(e.points,e.segments,e.phiStart,e.phiLength)}}class H0 extends Lh{constructor(e=1,n=1,r=4,i=8){const s=new h0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new H0(e.radius,e.length,e.capSegments,e.radialSegments)}}class V0 extends Vt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new J,c=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new wt(o,3)),this.setAttribute("normal",new wt(a,3)),this.setAttribute("uv",new wt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class wc extends Vt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],d=[],m=[];let g=0;const v=[],y=r/2;let w=0;S(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new wt(f,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(m,2));function S(){const M=new J,E=new J;let C=0;const P=(n-e)/r;for(let T=0;T<=s;T++){const R=[],I=T/s,U=I*(n-e)+e;for(let G=0;G<=i;G++){const j=G/i,D=j*l+a,k=Math.sin(D),H=Math.cos(D);E.x=U*k,E.y=-I*r+y,E.z=U*H,f.push(E.x,E.y,E.z),M.set(k,P,H).normalize(),d.push(M.x,M.y,M.z),m.push(j,1-I),R.push(g++)}v.push(R)}for(let T=0;T<i;T++)for(let R=0;R<s;R++){const I=v[R][T],U=v[R+1][T],G=v[R+1][T+1],j=v[R][T+1];c.push(I,U,j),c.push(U,G,j),C+=6}u.addGroup(w,C,0),w+=C}function x(M){const E=g,C=new ve,P=new J;let T=0;const R=M===!0?e:n,I=M===!0?1:-1;for(let G=1;G<=i;G++)f.push(0,y*I,0),d.push(0,I,0),m.push(.5,.5),g++;const U=g;for(let G=0;G<=i;G++){const D=G/i*l+a,k=Math.cos(D),H=Math.sin(D);P.x=R*H,P.y=y*I,P.z=R*k,f.push(P.x,P.y,P.z),d.push(0,I,0),C.x=k*.5+.5,C.y=H*.5*I+.5,m.push(C.x,C.y),g++}for(let G=0;G<i;G++){const j=E+G,D=U+G;M===!0?c.push(D,D+1,j):c.push(D+1,D,j),T+=3}u.addGroup(w,T,M===!0?1:2),w+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class W0 extends wc{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new W0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qa extends Vt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new wt(s,3)),this.setAttribute("normal",new wt(s.slice(),3)),this.setAttribute("uv",new wt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const x=new J,M=new J,E=new J;for(let C=0;C<n.length;C+=3)m(n[C+0],x),m(n[C+1],M),m(n[C+2],E),l(x,M,E,S)}function l(S,x,M,E){const C=E+1,P=[];for(let T=0;T<=C;T++){P[T]=[];const R=S.clone().lerp(M,T/C),I=x.clone().lerp(M,T/C),U=C-T;for(let G=0;G<=U;G++)G===0&&T===C?P[T][G]=R:P[T][G]=R.clone().lerp(I,G/U)}for(let T=0;T<C;T++)for(let R=0;R<2*(C-T)-1;R++){const I=Math.floor(R/2);R%2===0?(d(P[T][I+1]),d(P[T+1][I]),d(P[T][I])):(d(P[T][I+1]),d(P[T+1][I+1]),d(P[T+1][I]))}}function u(S){const x=new J;for(let M=0;M<s.length;M+=3)x.x=s[M+0],x.y=s[M+1],x.z=s[M+2],x.normalize().multiplyScalar(S),s[M+0]=x.x,s[M+1]=x.y,s[M+2]=x.z}function c(){const S=new J;for(let x=0;x<s.length;x+=3){S.x=s[x+0],S.y=s[x+1],S.z=s[x+2];const M=y(S)/2/Math.PI+.5,E=w(S)/Math.PI+.5;o.push(M,1-E)}g(),f()}function f(){for(let S=0;S<o.length;S+=6){const x=o[S+0],M=o[S+2],E=o[S+4],C=Math.max(x,M,E),P=Math.min(x,M,E);C>.9&&P<.1&&(x<.2&&(o[S+0]+=1),M<.2&&(o[S+2]+=1),E<.2&&(o[S+4]+=1))}}function d(S){s.push(S.x,S.y,S.z)}function m(S,x){const M=S*3;x.x=e[M+0],x.y=e[M+1],x.z=e[M+2]}function g(){const S=new J,x=new J,M=new J,E=new J,C=new ve,P=new ve,T=new ve;for(let R=0,I=0;R<s.length;R+=9,I+=6){S.set(s[R+0],s[R+1],s[R+2]),x.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),C.set(o[I+0],o[I+1]),P.set(o[I+2],o[I+3]),T.set(o[I+4],o[I+5]),E.copy(S).add(x).add(M).divideScalar(3);const U=y(E);v(C,I+0,S,U),v(P,I+2,x,U),v(T,I+4,M,U)}}function v(S,x,M,E){E<0&&S.x===1&&(o[x]=S.x-1),M.x===0&&M.z===0&&(o[x]=E/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function w(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.vertices,e.indices,e.radius,e.details)}}class j0 extends Qa{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new j0(e.radius,e.detail)}}const tm=new J,nm=new J,U6=new J,rm=new Hs;class EB extends Vt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(ec*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:w}=rm;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),rm.getNormal(U6),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const x=(S+1)%3,M=f[S],E=f[x],C=rm[c[S]],P=rm[c[x]],T=`${M}_${E}`,R=`${E}_${M}`;R in d&&d[R]?(U6.dot(d[R].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),d[R]=null):T in d||(d[T]={index0:u[S],index1:u[x],normal:U6.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];tm.fromBufferAttribute(a,v),nm.fromBufferAttribute(a,y),m.push(tm.x,tm.y,tm.z),m.push(nm.x,nm.y,nm.z)}this.setAttribute("position",new wt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let rc=class extends h0{constructor(e){super(e),this.uuid=Ss(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new h0().fromJSON(i))}return this}};const GZ={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=TB(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,d,m;if(r&&(s=XZ(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],d=t[g+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return d0(s,o,n,a,l,m,0),o}};function TB(t,e,n,r,i){let s,o;if(i===rQ(t,e,n,r)>0)for(s=e;s<n;s+=r)o=nE(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=nE(s,t[s],t[s+1],o);return o&&_v(o,o.next)&&(m0(o),o=o.next),o}function vc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(_v(n,n.next)||ir(n.prev,n,n.next)===0)){if(m0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function d0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&QZ(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?VZ(t,r,i,s):HZ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),m0(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=WZ(vc(t),e,n),d0(t,e,n,r,i,s,2)):o===2&&jZ(t,e,n,r,i,s):d0(vc(t),e,n,r,i,s,1);break}}}function HZ(t){const e=t.prev,n=t,r=t.next;if(ir(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=f&&g.y<=m&&If(i,a,s,l,o,u,g.x,g.y)&&ir(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function VZ(t,e,n,r){const i=t.prev,s=t,o=t.next;if(ir(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,d=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<f?c<d?c:d:f<d?f:d,v=a>l?a>u?a:u:l>u?l:u,y=c>f?c>d?c:d:f>d?f:d,w=Ry(m,g,e,n,r),S=Ry(v,y,e,n,r);let x=t.prevZ,M=t.nextZ;for(;x&&x.z>=w&&M&&M.z<=S;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=y&&x!==i&&x!==o&&If(a,c,l,f,u,d,x.x,x.y)&&ir(x.prev,x,x.next)>=0||(x=x.prevZ,M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&If(a,c,l,f,u,d,M.x,M.y)&&ir(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;x&&x.z>=w;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=y&&x!==i&&x!==o&&If(a,c,l,f,u,d,x.x,x.y)&&ir(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;M&&M.z<=S;){if(M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&If(a,c,l,f,u,d,M.x,M.y)&&ir(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function WZ(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!_v(i,s)&&CB(i,r,r.next,s)&&p0(i,s)&&p0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),m0(r),m0(r.next),r=t=s),r=r.next}while(r!==t);return vc(r)}function jZ(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&eQ(o,a)){let l=bB(o,a);o=vc(o,o.next),l=vc(l,l.next),d0(o,e,n,r,i,s,0),d0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function XZ(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=TB(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push($Z(u));for(i.sort(JZ),s=0;s<i.length;s++)n=YZ(i[s],n);return n}function JZ(t,e){return t.x-e.x}function YZ(t,e){const n=KZ(t,e);if(!n)return e;const r=bB(n,t);return vc(r,r.next),vc(n,n.next)}function KZ(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&If(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),p0(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&ZZ(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function ZZ(t,e){return ir(t.prev,t,e.prev)<0&&ir(e.next,t,t.next)<0}function QZ(t,e,n,r){let i=t;do i.z===0&&(i.z=Ry(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qZ(i)}function qZ(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Ry(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $Z(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function If(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function eQ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!tQ(t,e)&&(p0(t,e)&&p0(e,t)&&nQ(t,e)&&(ir(t.prev,t,e.prev)||ir(t,e.prev,e))||_v(t,e)&&ir(t.prev,t,t.next)>0&&ir(e.prev,e,e.next)>0)}function ir(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _v(t,e){return t.x===e.x&&t.y===e.y}function CB(t,e,n,r){const i=sm(ir(t,e,n)),s=sm(ir(t,e,r)),o=sm(ir(n,r,t)),a=sm(ir(n,r,e));return!!(i!==s&&o!==a||i===0&&im(t,n,e)||s===0&&im(t,r,e)||o===0&&im(n,t,r)||a===0&&im(n,e,r))}function im(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sm(t){return t>0?1:t<0?-1:0}function tQ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&CB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function p0(t,e){return ir(t.prev,t,t.next)<0?ir(t,e,t.next)>=0&&ir(t,t.prev,e)>=0:ir(t,e,t.prev)<0||ir(t,t.next,e)<0}function nQ(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function bB(t,e){const n=new Dy(t.i,t.x,t.y),r=new Dy(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function nE(t,e,n,r){const i=new Dy(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function m0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Dy(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rQ(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class $o{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return $o.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];rE(e),iE(r,e);let o=e.length;n.forEach(rE);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,iE(r,n[l]);const a=GZ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function rE(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function iE(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class X0 extends Vt{constructor(e=new rc([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new wt(i,3)),this.setAttribute("uv",new wt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:iQ;let x,M=!1,E,C,P,T;w&&(x=w.getSpacedPoints(c),M=!0,d=!1,E=w.computeFrenetFrames(c,!1),C=new J,P=new J,T=new J),d||(y=0,m=0,g=0,v=0);const R=a.extractPoints(u);let I=R.shape;const U=R.holes;if(!$o.isClockWise(I)){I=I.reverse();for(let ie=0,xe=U.length;ie<xe;ie++){const Le=U[ie];$o.isClockWise(Le)&&(U[ie]=Le.reverse())}}const j=$o.triangulateShape(I,U),D=I;for(let ie=0,xe=U.length;ie<xe;ie++){const Le=U[ie];I=I.concat(Le)}function k(ie,xe,Le){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ie.clone().addScaledVector(xe,Le)}const H=I.length,oe=j.length;function N(ie,xe,Le){let Ce,Be,He;const Te=ie.x-xe.x,Ye=ie.y-xe.y,We=Le.x-ie.x,De=Le.y-ie.y,Q=Te*Te+Ye*Ye,O=Te*De-Ye*We;if(Math.abs(O)>Number.EPSILON){const ue=Math.sqrt(Q),Se=Math.sqrt(We*We+De*De),Ge=xe.x-Ye/ue,Ve=xe.y+Te/ue,ze=Le.x-De/Se,Ze=Le.y+We/Se,Ie=((ze-Ge)*De-(Ze-Ve)*We)/(Te*De-Ye*We);Ce=Ge+Te*Ie-ie.x,Be=Ve+Ye*Ie-ie.y;const at=Ce*Ce+Be*Be;if(at<=2)return new ve(Ce,Be);He=Math.sqrt(at/2)}else{let ue=!1;Te>Number.EPSILON?We>Number.EPSILON&&(ue=!0):Te<-Number.EPSILON?We<-Number.EPSILON&&(ue=!0):Math.sign(Ye)===Math.sign(De)&&(ue=!0),ue?(Ce=-Ye,Be=Te,He=Math.sqrt(Q)):(Ce=Te,Be=Ye,He=Math.sqrt(Q/2))}return new ve(Ce/He,Be/He)}const W=[];for(let ie=0,xe=D.length,Le=xe-1,Ce=ie+1;ie<xe;ie++,Le++,Ce++)Le===xe&&(Le=0),Ce===xe&&(Ce=0),W[ie]=N(D[ie],D[Le],D[Ce]);const Z=[];let Y,F=W.concat();for(let ie=0,xe=U.length;ie<xe;ie++){const Le=U[ie];Y=[];for(let Ce=0,Be=Le.length,He=Be-1,Te=Ce+1;Ce<Be;Ce++,He++,Te++)He===Be&&(He=0),Te===Be&&(Te=0),Y[Ce]=N(Le[Ce],Le[He],Le[Te]);Z.push(Y),F=F.concat(Y)}for(let ie=0;ie<y;ie++){const xe=ie/y,Le=m*Math.cos(xe*Math.PI/2),Ce=g*Math.sin(xe*Math.PI/2)+v;for(let Be=0,He=D.length;Be<He;Be++){const Te=k(D[Be],W[Be],Ce);le(Te.x,Te.y,-Le)}for(let Be=0,He=U.length;Be<He;Be++){const Te=U[Be];Y=Z[Be];for(let Ye=0,We=Te.length;Ye<We;Ye++){const De=k(Te[Ye],Y[Ye],Ce);le(De.x,De.y,-Le)}}}const q=g+v;for(let ie=0;ie<H;ie++){const xe=d?k(I[ie],F[ie],q):I[ie];M?(P.copy(E.normals[0]).multiplyScalar(xe.x),C.copy(E.binormals[0]).multiplyScalar(xe.y),T.copy(x[0]).add(P).add(C),le(T.x,T.y,T.z)):le(xe.x,xe.y,0)}for(let ie=1;ie<=c;ie++)for(let xe=0;xe<H;xe++){const Le=d?k(I[xe],F[xe],q):I[xe];M?(P.copy(E.normals[ie]).multiplyScalar(Le.x),C.copy(E.binormals[ie]).multiplyScalar(Le.y),T.copy(x[ie]).add(P).add(C),le(T.x,T.y,T.z)):le(Le.x,Le.y,f/c*ie)}for(let ie=y-1;ie>=0;ie--){const xe=ie/y,Le=m*Math.cos(xe*Math.PI/2),Ce=g*Math.sin(xe*Math.PI/2)+v;for(let Be=0,He=D.length;Be<He;Be++){const Te=k(D[Be],W[Be],Ce);le(Te.x,Te.y,f+Le)}for(let Be=0,He=U.length;Be<He;Be++){const Te=U[Be];Y=Z[Be];for(let Ye=0,We=Te.length;Ye<We;Ye++){const De=k(Te[Ye],Y[Ye],Ce);M?le(De.x,De.y+x[c-1].y,x[c-1].x+Le):le(De.x,De.y,f+Le)}}}ee(),X();function ee(){const ie=i.length/3;if(d){let xe=0,Le=H*xe;for(let Ce=0;Ce<oe;Ce++){const Be=j[Ce];re(Be[2]+Le,Be[1]+Le,Be[0]+Le)}xe=c+y*2,Le=H*xe;for(let Ce=0;Ce<oe;Ce++){const Be=j[Ce];re(Be[0]+Le,Be[1]+Le,Be[2]+Le)}}else{for(let xe=0;xe<oe;xe++){const Le=j[xe];re(Le[2],Le[1],Le[0])}for(let xe=0;xe<oe;xe++){const Le=j[xe];re(Le[0]+H*c,Le[1]+H*c,Le[2]+H*c)}}r.addGroup(ie,i.length/3-ie,0)}function X(){const ie=i.length/3;let xe=0;K(D,xe),xe+=D.length;for(let Le=0,Ce=U.length;Le<Ce;Le++){const Be=U[Le];K(Be,xe),xe+=Be.length}r.addGroup(ie,i.length/3-ie,1)}function K(ie,xe){let Le=ie.length;for(;--Le>=0;){const Ce=Le;let Be=Le-1;Be<0&&(Be=ie.length-1);for(let He=0,Te=c+y*2;He<Te;He++){const Ye=H*He,We=H*(He+1),De=xe+Ce+Ye,Q=xe+Be+Ye,O=xe+Be+We,ue=xe+Ce+We;me(De,Q,O,ue)}}}function le(ie,xe,Le){l.push(ie),l.push(xe),l.push(Le)}function re(ie,xe,Le){Ee(ie),Ee(xe),Ee(Le);const Ce=i.length/3,Be=S.generateTopUV(r,i,Ce-3,Ce-2,Ce-1);_e(Be[0]),_e(Be[1]),_e(Be[2])}function me(ie,xe,Le,Ce){Ee(ie),Ee(xe),Ee(Ce),Ee(xe),Ee(Le),Ee(Ce);const Be=i.length/3,He=S.generateSideWallUV(r,i,Be-6,Be-3,Be-2,Be-1);_e(He[0]),_e(He[1]),_e(He[3]),_e(He[1]),_e(He[2]),_e(He[3])}function Ee(ie){i.push(l[ie*3+0]),i.push(l[ie*3+1]),i.push(l[ie*3+2])}function _e(ie){s.push(ie.x),s.push(ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return sQ(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new d7[i.type]().fromJSON(i)),new X0(r,e.options)}}const iQ={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ve(s,o),new ve(a,l),new ve(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new ve(o,1-l),new ve(u,1-f),new ve(d,1-g),new ve(v,1-w)]:[new ve(a,1-l),new ve(c,1-f),new ve(m,1-g),new ve(y,1-w)]}};function sQ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Fh extends Qa{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Fh(e.radius,e.detail)}}class kh extends Qa{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new kh(e.radius,e.detail)}}class J0 extends Vt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const d=(n-e)/i,m=new J,g=new ve;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const w=s+y/r*o;m.x=f*Math.cos(w),m.y=f*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let w=0;w<r;w++){const S=w+y,x=S,M=S+r+1,E=S+r+2,C=S+1;a.push(x,M,C),a.push(M,E,C)}}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new J0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Y0 extends Vt{constructor(e=new rc([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new wt(i,3)),this.setAttribute("normal",new wt(s,3)),this.setAttribute("uv",new wt(o,2));function u(c){const f=i.length/3,d=c.extractPoints(n);let m=d.shape;const g=d.holes;$o.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,w=g.length;y<w;y++){const S=g[y];$o.isClockWise(S)===!0&&(g[y]=S.reverse())}const v=$o.triangulateShape(m,g);for(let y=0,w=g.length;y<w;y++){const S=g[y];m=m.concat(S)}for(let y=0,w=m.length;y<w;y++){const S=m[y];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,w=v.length;y<w;y++){const S=v[y],x=S[0]+f,M=S[1]+f,E=S[2]+f;r.push(x,M,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return oQ(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Y0(r,e.curveSegments)}}function oQ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Uh extends Vt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new J,d=new J,m=[],g=[],v=[],y=[];for(let w=0;w<=r;w++){const S=[],x=w/r;let M=0;w==0&&o==0?M=.5/n:w==r&&l==Math.PI&&(M=-.5/n);for(let E=0;E<=n;E++){const C=E/n;f.x=-e*Math.cos(i+C*s)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+x*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(C+M,1-x),S.push(u++)}c.push(S)}for(let w=0;w<r;w++)for(let S=0;S<n;S++){const x=c[w][S+1],M=c[w][S],E=c[w+1][S],C=c[w+1][S+1];(w!==0||o>0)&&m.push(x,M,C),(w!==r-1||l<Math.PI)&&m.push(M,E,C)}this.setIndex(m),this.setAttribute("position",new wt(g,3)),this.setAttribute("normal",new wt(v,3)),this.setAttribute("uv",new wt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class K0 extends Qa{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new K0(e.radius,e.detail)}}class Z0 extends Vt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new J,f=new J,d=new J;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,w=(i+1)*(m-1)+g,S=(i+1)*m+g;o.push(v,y,S),o.push(y,w,S)}this.setIndex(o),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(l,3)),this.setAttribute("uv",new wt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Q0 extends Vt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new J,d=new J,m=new J,g=new J,v=new J,y=new J,w=new J;for(let x=0;x<=r;++x){const M=x/r*s*Math.PI*2;S(M,s,o,e,m),S(M+.01,s,o,e,g),y.subVectors(g,m),w.addVectors(g,m),v.crossVectors(y,w),w.crossVectors(v,y),v.normalize(),w.normalize();for(let E=0;E<=i;++E){const C=E/i*Math.PI*2,P=-n*Math.cos(C),T=n*Math.sin(C);f.x=m.x+(P*w.x+T*v.x),f.y=m.y+(P*w.y+T*v.y),f.z=m.z+(P*w.z+T*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),u.push(d.x,d.y,d.z),c.push(x/r),c.push(E/i)}}for(let x=1;x<=r;x++)for(let M=1;M<=i;M++){const E=(i+1)*(x-1)+(M-1),C=(i+1)*x+(M-1),P=(i+1)*x+M,T=(i+1)*(x-1)+M;a.push(E,C,T),a.push(C,P,T)}this.setIndex(a),this.setAttribute("position",new wt(l,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(c,2));function S(x,M,E,C,P){const T=Math.cos(x),R=Math.sin(x),I=E/M*x,U=Math.cos(I);P.x=C*(2+U)*.5*T,P.y=C*(2+U)*R*.5,P.z=C*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class q0 extends Vt{constructor(e=new f7(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new J,l=new J,u=new ve;let c=new J;const f=[],d=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new wt(f,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(m,2));function v(){for(let x=0;x<n;x++)y(x);y(s===!1?n:0),S(),w()}function y(x){c=e.getPointAt(x/n,c);const M=o.normals[x],E=o.binormals[x];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,T=Math.sin(P),R=-Math.cos(P);l.x=R*M.x+T*E.x,l.y=R*M.y+T*E.y,l.z=R*M.z+T*E.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function w(){for(let x=1;x<=n;x++)for(let M=1;M<=i;M++){const E=(i+1)*(x-1)+(M-1),C=(i+1)*x+(M-1),P=(i+1)*x+M,T=(i+1)*(x-1)+M;g.push(E,C,T),g.push(C,P,T)}}function S(){for(let x=0;x<=n;x++)for(let M=0;M<=i;M++)u.x=x/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new q0(new d7[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class p7 extends Vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,s=new J;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,m=f.count;for(let g=d,v=d+m;g<v;g+=3)for(let y=0;y<3;y++){const w=a.getX(g+y),S=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,S),sE(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),sE(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new wt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sE(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var oE=Object.freeze({__proto__:null,BoxGeometry:tu,CapsuleGeometry:H0,CircleGeometry:V0,ConeGeometry:W0,CylinderGeometry:wc,DodecahedronGeometry:j0,EdgesGeometry:EB,ExtrudeGeometry:X0,IcosahedronGeometry:Fh,LatheGeometry:Lh,OctahedronGeometry:kh,PlaneGeometry:oa,PolyhedronGeometry:Qa,RingGeometry:J0,ShapeGeometry:Y0,SphereGeometry:Uh,TetrahedronGeometry:K0,TorusGeometry:Z0,TorusKnotGeometry:Q0,TubeGeometry:q0,WireframeGeometry:p7});class PB extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RB extends Ht{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $0 extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Do extends $0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return _r(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class DB extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=L0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BB extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class m7 extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class g7 extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=L0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IB extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LB extends wi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Os(t,e,n){return v7(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Ju(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function v7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FB(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function By(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function y7(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function aQ(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],d=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let v=0;v<c;++v)d.push(u.values[m*c+v])}}f.length!==0&&(u.times=Ju(f,u.times.constructor),u.values=Ju(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function lQ(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const w=c,S=f-c;v=Os(a.values,w,S)}else if(s>=a.times[g]){const w=g*f+c,S=w+f-c;v=Os(a.values,w,S)}else{const w=a.createInterpolant(),S=c,x=f-c;w.evaluate(s),v=Os(w.resultBuffer,S,x)}l==="quaternion"&&new or().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let w=0;w<y;++w){const S=w*m+d;if(l==="quaternion")or.multiplyQuaternionsFlat(u.values,S,v,0,u.values,S);else{const x=m-d*2;for(let M=0;M<x;++M)u.values[S+M]-=v[M]}}}return t.blendMode=Xx,t}const uQ={arraySlice:Os,convertArray:Ju,isTypedArray:v7,getKeyframeOrder:FB,sortedArray:By,flattenJSON:y7,subclip:aQ,makeClipAdditive:lQ};class Nh{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class kB extends Nh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wu,endingEnd:Wu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case ju:s=e,a=2*n-r;break;case l0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ju:o=e,l=2*r-n;break;case l0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,w=-d*y+2*d*v-d*g,S=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,x=(-1-m)*y+(1.5+m)*v+.5*g,M=m*y-m*v;for(let E=0;E!==a;++E)s[E]=w*o[c+E]+S*o[u+E]+x*o[l+E]+M*o[f+E];return s}}class x7 extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==a;++d)s[d]=o[u+d]*f+o[l+d]*c;return s}}class UB extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ju(n,this.TimeBufferType),this.values=Ju(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Ju(e.times,Array),values:Ju(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new UB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new x7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ph:n=this.InterpolantFactoryMethodDiscrete;break;case pc:n=this.InterpolantFactoryMethodLinear;break;case s1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ph;case this.InterpolantFactoryMethodLinear:return pc;case this.InterpolantFactoryMethodSmooth:return s1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Os(r,s,o),this.values=Os(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&v7(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Os(this.times),n=Os(this.values),r=this.getValueSize(),i=this.getInterpolation()===s1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,m=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[d+g]||v!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let m=0;m!==r;++m)n[d+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Os(e,0,o),this.values=Os(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Os(this.times,0),n=Os(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Bo.prototype.TimeBufferType=Float32Array;Bo.prototype.ValueBufferType=Float32Array;Bo.prototype.DefaultInterpolation=pc;class _c extends Bo{}_c.prototype.ValueTypeName="bool";_c.prototype.ValueBufferType=Array;_c.prototype.DefaultInterpolation=ph;_c.prototype.InterpolantFactoryMethodLinear=void 0;_c.prototype.InterpolantFactoryMethodSmooth=void 0;class S7 extends Bo{}S7.prototype.ValueTypeName="color";class vh extends Bo{}vh.prototype.ValueTypeName="number";class NB extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)or.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Ql extends Bo{InterpolantFactoryMethodLinear(e){return new NB(this.times,this.values,this.getValueSize(),e)}}Ql.prototype.ValueTypeName="quaternion";Ql.prototype.DefaultInterpolation=pc;Ql.prototype.InterpolantFactoryMethodSmooth=void 0;class Mc extends Bo{}Mc.prototype.ValueTypeName="string";Mc.prototype.ValueBufferType=Array;Mc.prototype.DefaultInterpolation=ph;Mc.prototype.InterpolantFactoryMethodLinear=void 0;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends Bo{}yh.prototype.ValueTypeName="vector";class xh{constructor(e,n=-1,r,i=fv){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ss(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(fQ(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Bo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=FB(l);l=By(l,1,c),u=By(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new vh(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,g,v){if(m.length!==0){const y=[],w=[];y7(m,y,w,g),y.length!==0&&v.push(new f(d,y,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)m[d[g].morphTargets[v]]=-1;for(const v in m){const y=[],w=[];for(let S=0;S!==d[g].morphTargets.length;++S){const x=d[g];y.push(x.time),w.push(x.morphTarget===v?1:0)}i.push(new vh(".morphTargetInfluence["+v+"]",y,w))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(yh,m+".position",d,"pos",i),r(Ql,m+".quaternion",d,"rot",i),r(yh,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cQ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vh;case"vector":case"vector2":case"vector3":case"vector4":return yh;case"color":return S7;case"quaternion":return Ql;case"bool":case"boolean":return _c;case"string":return Mc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function fQ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=cQ(t.type);if(t.times===void 0){const n=[],r=[];y7(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const yc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class w7{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const OB=new w7;class zi{constructor(e){this.manager=e!==void 0?e:OB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const _a={};class hQ extends Error{constructor(e,n){super(e),this.response=n}}class _s extends zi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=yc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(_a[e]!==void 0){_a[e].push({onLoad:n,onProgress:r,onError:i});return}_a[e]=[],_a[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=_a[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=d?parseInt(d):0,g=m!==0;let v=0;const y=new ReadableStream({start(w){S();function S(){f.read().then(({done:x,value:M})=>{if(x)w.close();else{v+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let C=0,P=c.length;C<P;C++){const T=c[C];T.onProgress&&T.onProgress(E)}w.enqueue(M),S()}})}}});return new Response(y)}else throw new hQ(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{yc.add(e,u);const c=_a[e];delete _a[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=_a[e];if(c===void 0)throw this.manager.itemError(e),u;delete _a[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xh.parse(e[r]);n.push(i)}return n}}class pQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new a7,l=new _s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const m=s.parse(d,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=gt),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=gt),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class g0 extends zi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=yc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=f0("img");function l(){c(),yc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class zB extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new k0,o=new g0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class _7 extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qo,a=new _s(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Cr,o.wrapT=u.wrapT!==void 0?u.wrapT:Cr,o.magFilter=u.magFilter!==void 0?u.magFilter:gt,o.minFilter=u.minFilter!==void 0?u.minFilter:gt,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=na),u.mipmapCount===1&&(o.minFilter=gt),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class M7 extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new bn,o=new g0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class nu extends pn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class GB extends nu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const N6=new ht,aE=new J,lE=new J;class A7{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dv,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;aE.setFromMatrixPosition(e.matrixWorld),n.position.copy(aE),lE.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(lE),n.updateMatrixWorld(),N6.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(N6),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(N6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mQ extends A7{constructor(){super(new In(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=c0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class E7 extends nu{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mQ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const uE=new ht,Ld=new J,O6=new J;class gQ extends A7{constructor(){super(new In(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ld.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ld),O6.copy(r.position),O6.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(O6),r.updateMatrixWorld(),i.makeTranslation(-Ld.x,-Ld.y,-Ld.z),uE.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uE)}}class T7 extends nu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gQ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vQ extends A7{constructor(){super(new xo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class C7 extends nu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.shadow=new vQ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class HB extends nu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class VB extends nu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class WB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Mv extends nu{constructor(e=new WB,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Av extends zi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new _s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Av.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":i.uniforms[s].value=new J().fromArray(o.value);break;case"v4":i.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Fr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:PB,SpriteMaterial:n7,RawShaderMaterial:RB,ShaderMaterial:Ht,PointsMaterial:Sv,MeshPhysicalMaterial:Do,MeshStandardMaterial:$0,MeshPhongMaterial:DB,MeshToonMaterial:BB,MeshNormalMaterial:m7,MeshLambertMaterial:g7,MeshDepthMaterial:Ih,MeshDistanceMaterial:mv,MeshBasicMaterial:Zi,MeshMatcapMaterial:IB,LineDashedMaterial:LB,LineBasicMaterial:wi,Material:pr};return new n[e]}}class ea{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Ev extends Vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jB extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],w=s(m,y.buffer),S=Df(y.type,w),x=new O0(S,y.stride);return x.uuid=y.uuid,n[g]=x,x}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],w=new Uint32Array(y).buffer;return r[g]=w,w}const o=e.isInstancedBufferGeometry?new Ev:new Vt,a=e.data.index;if(a!==void 0){const m=Df(a.type,a.array);o.setIndex(new ln(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Qi(y,g.itemSize,g.offset,g.normalized)}else{const y=Df(g.type,g.array),w=g.isInstancedBufferAttribute?gc:ln;v=new w(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,w=g.length;y<w;y++){const S=g[y];let x;if(S.isInterleavedBufferAttribute){const M=i(e.data,S.data);x=new Qi(M,S.itemSize,S.offset,S.normalized)}else{const M=Df(S.type,S.array);x=new ln(M,S.itemSize,S.normalized)}S.name!==void 0&&(x.name=S.name),v.push(x)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new J;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Cs(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new _s(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new _s(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new rc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new z0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new jB;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in oE?a=oE[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Av;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=xh.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Df(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new w7(n);s=new g0(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],w=a(y);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new qo(w.data,w.width,w.height)))}i[f.uuid]=new Xu(m)}else{const m=a(f.url);i[f.uuid]=new Xu(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Df(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new g0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new qo(g.data,g.width,g.height)))}r[l.uuid]=new Xu(c)}else{const c=await s(l.url);r[l.uuid]=new Xu(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new k0,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new qo:c=new bn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,xQ)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],cE),c.wrapT=r(a.wrap[1],cE)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,fE)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,fE)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":o=new Xa,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vv(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new In(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new HB(e.color,e.intensity);break;case"DirectionalLight":o=new C7(e.color,e.intensity);break;case"PointLight":o=new T7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new VB(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new E7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new GB(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Mv().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new r7(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Un(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new i7(c,f,d),o.instanceMatrix=new gc(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new gc(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new vB;break;case"Line":o=new Ja(a(e.geometry),l(e.material));break;case"LineLoop":o=new s7(a(e.geometry),l(e.material));break;case"LineSegments":o=new Po(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new o7(a(e.geometry),l(e.material));break;case"Sprite":o=new gB(l(e.material));break;case"Group":o=new ka;break;case"Bone":o=new xv;break;default:o=new pn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const xQ={UVMapping:lv,CubeReflectionMapping:ja,CubeRefractionMapping:Kl,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:o0,CubeUVReflectionMapping:bh},cE={RepeatWrapping:xi,ClampToEdgeWrapping:Cr,MirroredRepeatWrapping:dh},fE={NearestFilter:Nt,NearestMipmapNearestFilter:a0,NearestMipmapLinearFilter:Xf,LinearFilter:gt,LinearMipmapNearestFilter:uv,LinearMipmapLinearFilter:na};class XB extends zi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=yc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){yc.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let om;class b7{static getContext(){return om===void 0&&(om=new(window.AudioContext||window.webkitAudioContext)),om}static setContext(e){om=e}}class SQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);b7.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class wQ extends Mv{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(n),o=new J(i.r,i.g,i.b),a=new J(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class _Q extends Mv{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const hE=new ht,dE=new ht,Mu=new ht;class MQ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new In,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new In,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Mu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(ec*n.fov*.5)/n.zoom;let a,l;dE.elements[12]=-i,hE.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Mu.elements[0]=2*n.near/(l-a),Mu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Mu),a=-o*n.aspect-s,l=o*n.aspect-s,Mu.elements[0]=2*n.near/(l-a),Mu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Mu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(dE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(hE)}}class P7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=pE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=pE();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function pE(){return(typeof performance>"u"?Date:performance).now()}const Au=new J,mE=new or,AQ=new J,Eu=new J;class EQ extends pn{constructor(){super(),this.type="AudioListener",this.context=b7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new P7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Au,mE,AQ),Eu.set(0,0,-1).applyQuaternion(mE),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Au.x,i),n.positionY.linearRampToValueAtTime(Au.y,i),n.positionZ.linearRampToValueAtTime(Au.z,i),n.forwardX.linearRampToValueAtTime(Eu.x,i),n.forwardY.linearRampToValueAtTime(Eu.y,i),n.forwardZ.linearRampToValueAtTime(Eu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Au.x,Au.y,Au.z),n.setOrientation(Eu.x,Eu.y,Eu.z,r.x,r.y,r.z)}}class JB extends pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Tu=new J,gE=new or,TQ=new J,Cu=new J;class CQ extends JB{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tu,gE,TQ),Cu.set(0,0,1).applyQuaternion(gE);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Tu.x,r),n.positionY.linearRampToValueAtTime(Tu.y,r),n.positionZ.linearRampToValueAtTime(Tu.z,r),n.orientationX.linearRampToValueAtTime(Cu.x,r),n.orientationY.linearRampToValueAtTime(Cu.y,r),n.orientationZ.linearRampToValueAtTime(Cu.z,r)}else n.setPosition(Tu.x,Tu.y,Tu.z),n.setOrientation(Cu.x,Cu.y,Cu.z)}}class bQ{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class YB{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){or.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;or.multiplyQuaternionsFlat(e,o,e,n,e,r),or.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const R7="\\[\\]\\.:\\/",PQ=new RegExp("["+R7+"]","g"),D7="[^"+R7+"]",RQ="[^"+R7.replace("\\.","")+"]",DQ=/((?:WC+[\/:])*)/.source.replace("WC",D7),BQ=/(WCOD+)?/.source.replace("WCOD",RQ),IQ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",D7),LQ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",D7),FQ=new RegExp("^"+DQ+BQ+IQ+LQ+"$"),kQ=["material","materials","bones","map"];class UQ{constructor(e,n,r){const i=r||vn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class vn{constructor(e,n,r){this.path=n,this.parsedPath=r||vn.parseTrackName(n),this.node=vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new vn.Composite(e,n,r):new vn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PQ,"")}static parseTrackName(e){const n=FQ.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);kQ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=vn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vn.Composite=UQ;vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vn.prototype.GetterByBindingType=[vn.prototype._getValue_direct,vn.prototype._getValue_array,vn.prototype._getValue_arrayElement,vn.prototype._getValue_toArray];vn.prototype.SetterByBindingTypeAndVersioning=[[vn.prototype._setValue_direct,vn.prototype._setValue_direct_setNeedsUpdate,vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_array,vn.prototype._setValue_array_setNeedsUpdate,vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_arrayElement,vn.prototype._setValue_arrayElement_setNeedsUpdate,vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_fromArray,vn.prototype._setValue_fromArray_setNeedsUpdate,vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class NQ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ss(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new vn(d,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];n[y.uuid]=g,e[g]=y,n[m]=v,e[v]=d;for(let w=0,S=o;w!==S;++w){const x=s[w],M=x[v];let E=x[g];x[g]=M,E===void 0&&(E=new vn(d,r[w],i[w])),x[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,d=e[f];n[d.uuid]=c,e[c]=d,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[f],w=v[c];v[c]=y,v[f]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const d=--s,m=e[d],g=--o,v=e[g];n[m.uuid]=f,e[f]=m,n[v.uuid]=d,e[d]=v,e.pop();for(let y=0,w=i;y!==w;++y){const S=r[y],x=S[d],M=S[g];S[f]=x,S[d]=M,S.pop()}}else{const d=--o,m=e[d];d>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let d=c,m=l.length;d!==m;++d){const g=l[d];f[d]=new vn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class OQ{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Wu,endingEnd:Wu};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Xx:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case fv:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===QD;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===KD){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=ju,i.endingEnd=ju):(e?i.endingStart=this.zeroSlopeAtStart?ju:Wu:i.endingStart=l0,n?i.endingEnd=this.zeroSlopeAtEnd?ju:Wu:i.endingEnd=l0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const zQ=new Float32Array(1);class GQ extends Ts{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const d=i[f],m=d.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new YB(vn.create(r,m,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new x7(new Float32Array(2),new Float32Array(2),1,zQ),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?xh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=fv),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new OQ(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?xh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class de{constructor(e){this.value=e}clone(){return new de(this.value.clone===void 0?this.value:this.value.clone())}}let HQ=0;class VQ extends Ts{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:HQ++}),this.name="",this.usage=u0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class xg extends O0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class WQ{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class B7{constructor(e,n,r=0,i=1/0){this.ray=new Ph(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new nc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Iy(e,this,r,n),r.sort(vE),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Iy(e[i],this,r,n);return r.sort(vE),r}}function vE(t,e){return t.distance-e.distance}function Iy(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Iy(i[s],e,n,!0)}}class Sg{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_r(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jQ{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const yE=new ve;class XQ{constructor(e=new ve(1/0,1/0),n=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=yE.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xE=new J,am=new J;class KB{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){xE.subVectors(e,this.start),am.subVectors(this.end,this.start);const r=am.dot(am);let s=am.dot(xE)/r;return n&&(s=_r(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const SE=new J;class JQ extends pn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Vt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new wt(i,3));const s=new wi({fog:!1,toneMapped:!1});this.cone=new Po(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),SE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(SE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pl=new J,lm=new ht,z6=new ht;class YQ extends Po{constructor(e){const n=ZB(e),r=new Vt,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new wt(i,3)),r.setAttribute("color",new wt(s,3));const l=new wi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");z6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(lm.multiplyMatrices(z6,a.matrixWorld),pl.setFromMatrixPosition(lm),i.setXYZ(o,pl.x,pl.y,pl.z),lm.multiplyMatrices(z6,a.parent.matrixWorld),pl.setFromMatrixPosition(lm),i.setXYZ(o+1,pl.x,pl.y,pl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ZB(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,ZB(t.children[n]));return e}class KQ extends Un{constructor(e,n,r){const i=new Uh(n,4,2),s=new Zi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ZQ=new J,wE=new et,_E=new et;class QQ extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new kh(n);i.rotateY(Math.PI*.5),this.material=new Zi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ln(o,3)),this.add(new Un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");wE.copy(this.light.color),_E.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?wE:_E;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ZQ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qQ extends Po{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let d=0,m=0,g=-a;d<=n;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const c=new Vt;c.setAttribute("position",new wt(l,3)),c.setAttribute("color",new wt(u,3));const f=new wi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $Q extends Po{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,w=Math.cos(v)*m;a.push(y,0,w),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,w=Math.cos(v)*m,a.push(y,0,w),l.push(d.r,d.g,d.b)}}const u=new Vt;u.setAttribute("position",new wt(a,3)),u.setAttribute("color",new wt(l,3));const c=new wi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ME=new J,um=new J,AE=new J;class eq extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Vt;i.setAttribute("position",new wt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new wi({fog:!1,toneMapped:!1});this.lightPlane=new Ja(i,s),this.add(this.lightPlane),i=new Vt,i.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new Ja(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ME.setFromMatrixPosition(this.light.matrixWorld),um.setFromMatrixPosition(this.light.target.matrixWorld),AE.subVectors(um,ME),this.lightPlane.lookAt(um),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(um),this.targetLine.scale.z=AE.length()}}const cm=new J,cr=new Dh;class tq extends Po{constructor(e){const n=new Vt,r=new wi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new wt(i,3)),n.setAttribute("color",new wt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),f=new et(43775),d=new et(16777215),m=new et(3355443);this.setColors(u,c,f,d,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Sr("c",n,e,cr,0,0,-1),Sr("t",n,e,cr,0,0,1),Sr("n1",n,e,cr,-r,-i,-1),Sr("n2",n,e,cr,r,-i,-1),Sr("n3",n,e,cr,-r,i,-1),Sr("n4",n,e,cr,r,i,-1),Sr("f1",n,e,cr,-r,-i,1),Sr("f2",n,e,cr,r,-i,1),Sr("f3",n,e,cr,-r,i,1),Sr("f4",n,e,cr,r,i,1),Sr("u1",n,e,cr,r*.7,i*1.1,-1),Sr("u2",n,e,cr,-r*.7,i*1.1,-1),Sr("u3",n,e,cr,0,i*2,-1),Sr("cf1",n,e,cr,-r,0,1),Sr("cf2",n,e,cr,r,0,1),Sr("cf3",n,e,cr,0,-i,1),Sr("cf4",n,e,cr,0,i,1),Sr("cn1",n,e,cr,-r,0,-1),Sr("cn2",n,e,cr,r,0,-1),Sr("cn3",n,e,cr,0,-i,-1),Sr("cn4",n,e,cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Sr(t,e,n,r,i,s,o){cm.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],cm.x,cm.y,cm.z)}}const fm=new rs;class nq extends Po{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Vt;s.setIndex(new ln(r,1)),s.setAttribute("position",new ln(i,3)),super(s,new wi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&fm.setFromObject(this.object),fm.isEmpty())return;const n=fm.min,r=fm.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rq extends Po{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Vt;s.setIndex(new ln(r,1)),s.setAttribute("position",new wt(i,3)),super(s,new wi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class iq extends Ja{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Vt;o.setAttribute("position",new wt(s,3)),o.computeBoundingSphere(),super(o,new wi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Vt;l.setAttribute("position",new wt(a,3)),l.computeBoundingSphere(),this.add(new Un(l,new Zi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const EE=new J;let hm,G6;class sq extends pn{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",hm===void 0&&(hm=new Vt,hm.setAttribute("position",new wt([0,0,0,0,1,0],3)),G6=new wc(0,.5,1,5,1),G6.translate(0,-.5,0)),this.position.copy(n),this.line=new Ja(hm,new wi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Un(G6,new Zi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{EE.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(EE,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class oq extends Po{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Vt;i.setAttribute("position",new wt(n,3)),i.setAttribute("color",new wt(r,3));const s=new wi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aq{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new h0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const S=[];for(let x=0,M=w.length;x<M;x++){const E=w[x],C=new rc;C.curves=E.curves,S.push(C)}return S}function r(w,S){const x=S.length;let M=!1;for(let E=x-1,C=0;C<x;E=C++){let P=S[E],T=S[C],R=T.x-P.x,I=T.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=S[C],R=-R,T=S[E],I=-I),w.y<P.y||w.y>T.y)continue;if(w.y===P.y){if(w.x===P.x)return!0}else{const U=I*(w.x-P.x)-R*(w.y-P.y);if(U===0)return!0;if(U<0)continue;M=!M}}else{if(w.y!==P.y)continue;if(T.x<=w.x&&w.x<=P.x||P.x<=w.x&&w.x<=T.x)return!0}}return M}const i=$o.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new rc,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],d=[];let m=[],g=0,v;d[g]=void 0,m[g]=[];for(let w=0,S=s.length;w<S;w++)a=s[w],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!c&&d[g]&&g++,d[g]={s:new rc,p:v},d[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!d[0])return n(s);if(d.length>1){let w=!1,S=0;for(let x=0,M=d.length;x<M;x++)f[x]=[];for(let x=0,M=d.length;x<M;x++){const E=m[x];for(let C=0;C<E.length;C++){const P=E[C];let T=!0;for(let R=0;R<d.length;R++)r(P.p,d[R].p)&&(x!==R&&S++,T?(T=!1,f[R].push(P)):w=!0);T&&f[x].push(P)}}S>0&&w===!1&&(m=f)}let y;for(let w=0,S=d.length;w<S;w++){l=d[w].s,u.push(l),y=m[w];for(let x=0,M=y.length;x<M;x++)l.holes.push(y[x].h)}return u}}const Pa=lq();function lq(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function uq(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=_r(t,-65504,65504),Pa.floatView[0]=t;const e=Pa.uint32View[0],n=e>>23&511;return Pa.baseTable[n]+((e&8388607)>>Pa.shiftTable[n])}function cq(t){const e=t>>10;return Pa.uint32View[0]=Pa.mantissaTable[Pa.offsetTable[e]+(t&1023)]+Pa.exponentTable[e],Pa.floatView[0]}const Yu={toHalfFloat:uq,fromHalfFloat:cq};class fq extends tu{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class hq extends H0{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class dq extends V0{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class pq extends W0{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class mq extends wc{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class gq extends j0{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class vq extends X0{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class yq extends Fh{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class xq extends Lh{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class Sq extends kh{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class wq extends oa{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class _q extends Qa{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Mq extends J0{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class Aq extends Y0{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Eq extends Uh{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class Tq extends K0{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Cq extends Z0{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class bq extends Q0{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class Pq extends q0{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qs}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qs);const QB=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Vx,AddEquation:Uu,AddOperation:BD,AdditiveAnimationBlendMode:Xx,AdditiveBlending:q8,AlphaFormat:HD,AlwaysDepth:zx,AlwaysStencilFunc:tB,AmbientLight:HB,AmbientLightProbe:_Q,AnimationClip:xh,AnimationLoader:dQ,AnimationMixer:GQ,AnimationObjectGroup:NQ,AnimationUtils:uQ,ArcCurve:SB,ArrayCamera:dB,ArrowHelper:sq,Audio:JB,AudioAnalyser:bQ,AudioContext:b7,AudioListener:EQ,AudioLoader:SQ,AxesHelper:oq,BackSide:br,BasicDepthPacking:Yr,BasicShadowMap:yD,Bone:xv,BooleanKeyframeTrack:_c,Box2:XQ,Box3:rs,Box3Helper:rq,BoxBufferGeometry:fq,BoxGeometry:tu,BoxHelper:nq,BufferAttribute:ln,BufferGeometry:Vt,BufferGeometryLoader:jB,ByteType:UD,Cache:yc,Camera:Dh,CameraHelper:tq,CanvasTexture:xB,CapsuleBufferGeometry:hq,CapsuleGeometry:H0,CatmullRomCurve3:wB,CineonToneMapping:FD,CircleBufferGeometry:dq,CircleGeometry:V0,ClampToEdgeWrapping:Cr,Clock:P7,Color:et,ColorKeyframeTrack:S7,ColorManagement:pi,CompressedArrayTexture:IZ,CompressedTexture:a7,CompressedTextureLoader:pQ,ConeBufferGeometry:pq,ConeGeometry:W0,CubeCamera:e7,CubeReflectionMapping:ja,CubeRefractionMapping:Kl,CubeTexture:k0,CubeTextureLoader:zB,CubeUVReflectionMapping:bh,CubicBezierCurve:u7,CubicBezierCurve3:_B,CubicInterpolant:kB,CullFaceBack:Q8,CullFaceFront:vD,CullFaceFrontBack:UW,CullFaceNone:gD,Curve:Ro,CurvePath:AB,CustomBlending:xD,CustomToneMapping:kD,CylinderBufferGeometry:mq,CylinderGeometry:wc,Cylindrical:jQ,Data3DTexture:tc,DataArrayTexture:hv,DataTexture:qo,DataTextureLoader:_7,DataUtils:Yu,DecrementStencilOp:XW,DecrementWrapStencilOp:YW,DefaultLoadingManager:OB,DepthFormat:jl,DepthStencilFormat:Zl,DepthTexture:N0,DirectionalLight:C7,DirectionalLightHelper:eq,DiscreteInterpolant:UB,DisplayP3ColorSpace:Yx,DodecahedronBufferGeometry:gq,DodecahedronGeometry:j0,DoubleSide:ri,DstAlphaFactor:TD,DstColorFactor:bD,DynamicCopyUsage:uj,DynamicDrawUsage:rj,DynamicReadUsage:oj,EdgesGeometry:EB,EllipseCurve:G0,EqualDepth:s0,EqualStencilFunc:qW,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:o0,Euler:Rh,EventDispatcher:Ts,ExtrudeBufferGeometry:vq,ExtrudeGeometry:X0,FileLoader:_s,Float16BufferAttribute:Yj,Float32BufferAttribute:wt,Float64BufferAttribute:Kj,FloatType:Pn,Fog:yv,FogExp2:vv,FramebufferTexture:Py,FrontSide:Zs,Frustum:dv,GLBufferAttribute:WQ,GLSL1:fj,GLSL3:gg,GreaterDepth:Hx,GreaterEqualDepth:Gx,GreaterEqualStencilFunc:nj,GreaterStencilFunc:ej,GridHelper:qQ,Group:ka,HalfFloatType:Xn,HemisphereLight:GB,HemisphereLightHelper:QQ,HemisphereLightProbe:wQ,IcosahedronBufferGeometry:yq,IcosahedronGeometry:Fh,ImageBitmapLoader:XB,ImageLoader:g0,ImageUtils:Zx,IncrementStencilOp:jW,IncrementWrapStencilOp:JW,InstancedBufferAttribute:gc,InstancedBufferGeometry:Ev,InstancedInterleavedBuffer:xg,InstancedMesh:i7,Int16BufferAttribute:Xj,Int32BufferAttribute:Jj,Int8BufferAttribute:Vj,IntType:OD,InterleavedBuffer:O0,InterleavedBufferAttribute:Qi,Interpolant:Nh,InterpolateDiscrete:ph,InterpolateLinear:pc,InterpolateSmooth:s1,InvertStencilOp:KW,KeepStencilOp:o1,KeyframeTrack:Bo,LOD:vB,LatheBufferGeometry:xq,LatheGeometry:Lh,Layers:nc,LessDepth:pg,LessEqualDepth:i0,LessEqualStencilFunc:$W,LessStencilFunc:QW,Light:nu,LightProbe:Mv,Line:Ja,Line3:KB,LineBasicMaterial:wi,LineCurve:wv,LineCurve3:MB,LineDashedMaterial:LB,LineLoop:s7,LineSegments:Po,LinearEncoding:To,LinearFilter:gt,LinearInterpolant:x7,LinearMipMapLinearFilter:HW,LinearMipMapNearestFilter:GW,LinearMipmapLinearFilter:na,LinearMipmapNearestFilter:uv,LinearSRGBColorSpace:mh,LinearToneMapping:ID,Loader:zi,LoaderUtils:ea,LoadingManager:w7,LoopOnce:KD,LoopPingPong:QD,LoopRepeat:ZD,LuminanceAlphaFormat:VD,LuminanceFormat:cv,MOUSE:Lu,Material:pr,MaterialLoader:Av,MathUtils:yo,Matrix3:Fr,Matrix4:ht,MaxEquation:ny,Mesh:Un,MeshBasicMaterial:Zi,MeshDepthMaterial:Ih,MeshDistanceMaterial:mv,MeshLambertMaterial:g7,MeshMatcapMaterial:IB,MeshNormalMaterial:m7,MeshPhongMaterial:DB,MeshPhysicalMaterial:Do,MeshStandardMaterial:$0,MeshToonMaterial:BB,MinEquation:ty,MirroredRepeatWrapping:dh,MixOperation:DD,MultiplyBlending:ey,MultiplyOperation:L0,NearestFilter:Nt,NearestMipMapLinearFilter:zW,NearestMipMapNearestFilter:OW,NearestMipmapLinearFilter:Xf,NearestMipmapNearestFilter:a0,NeverDepth:Ox,NeverStencilFunc:ZW,NoBlending:Jn,NoColorSpace:eB,NoToneMapping:Mo,NormalAnimationBlendMode:fv,NormalBlending:$u,NotEqualDepth:av,NotEqualStencilFunc:tj,NumberKeyframeTrack:vh,Object3D:pn,ObjectLoader:yQ,ObjectSpaceNormalMap:$D,OctahedronBufferGeometry:Sq,OctahedronGeometry:kh,OneFactor:MD,OneMinusDstAlphaFactor:CD,OneMinusDstColorFactor:PD,OneMinusSrcAlphaFactor:Nx,OneMinusSrcColorFactor:ED,OrthographicCamera:xo,PCFShadowMap:ov,PCFSoftShadowMap:wp,PMREMGenerator:yg,Path:h0,PerspectiveCamera:In,Plane:Ca,PlaneBufferGeometry:wq,PlaneGeometry:oa,PlaneHelper:iq,PointLight:T7,PointLightHelper:KQ,Points:o7,PointsMaterial:Sv,PolarGridHelper:$Q,PolyhedronBufferGeometry:_q,PolyhedronGeometry:Qa,PositionalAudio:CQ,PropertyBinding:vn,PropertyMixer:YB,QuadraticBezierCurve:c7,QuadraticBezierCurve3:f7,Quaternion:or,QuaternionKeyframeTrack:Ql,QuaternionLinearInterpolant:NB,RED_GREEN_RGTC2_Format:Ay,RED_RGTC1_Format:YD,REVISION:qs,RGBADepthPacking:Co,RGBAFormat:zn,RGBAIntegerFormat:XD,RGBA_ASTC_10x10_Format:Sy,RGBA_ASTC_10x5_Format:vy,RGBA_ASTC_10x6_Format:yy,RGBA_ASTC_10x8_Format:xy,RGBA_ASTC_12x10_Format:wy,RGBA_ASTC_12x12_Format:_y,RGBA_ASTC_4x4_Format:uy,RGBA_ASTC_5x4_Format:cy,RGBA_ASTC_5x5_Format:fy,RGBA_ASTC_6x5_Format:hy,RGBA_ASTC_6x6_Format:dy,RGBA_ASTC_8x5_Format:py,RGBA_ASTC_8x6_Format:my,RGBA_ASTC_8x8_Format:gy,RGBA_BPTC_Format:i1,RGBA_ETC2_EAC_Format:ly,RGBA_PVRTC_2BPPV1_Format:oy,RGBA_PVRTC_4BPPV1_Format:sy,RGBA_S3TC_DXT1_Format:t1,RGBA_S3TC_DXT3_Format:n1,RGBA_S3TC_DXT5_Format:r1,RGB_ETC1_Format:JD,RGB_ETC2_Format:ay,RGB_PVRTC_2BPPV1_Format:iy,RGB_PVRTC_4BPPV1_Format:ry,RGB_S3TC_DXT1_Format:e1,RGFormat:jx,RGIntegerFormat:jD,RawShaderMaterial:RB,Ray:Ph,Raycaster:B7,RectAreaLight:VB,RedFormat:F0,RedIntegerFormat:WD,ReinhardToneMapping:LD,RepeatWrapping:xi,ReplaceStencilOp:WW,ReverseSubtractEquation:wD,RingBufferGeometry:Mq,RingGeometry:J0,SIGNED_RED_GREEN_RGTC2_Format:Ey,SIGNED_RED_RGTC1_Format:My,SRGBColorSpace:co,Scene:Xa,ShaderChunk:bt,ShaderLib:ho,ShaderMaterial:Ht,ShadowMaterial:PB,Shape:rc,ShapeBufferGeometry:Aq,ShapeGeometry:Y0,ShapePath:aq,ShapeUtils:$o,ShortType:ND,Skeleton:z0,SkeletonHelper:YQ,SkinnedMesh:r7,Source:Xu,Sphere:Cs,SphereBufferGeometry:Eq,SphereGeometry:Uh,Spherical:Sg,SphericalHarmonics3:WB,SplineCurve:h7,SpotLight:E7,SpotLightHelper:JQ,Sprite:gB,SpriteMaterial:n7,SrcAlphaFactor:Ux,SrcAlphaSaturateFactor:RD,SrcColorFactor:AD,StaticCopyUsage:lj,StaticDrawUsage:u0,StaticReadUsage:sj,StereoCamera:MQ,StreamCopyUsage:cj,StreamDrawUsage:ij,StreamReadUsage:aj,StringKeyframeTrack:Mc,SubtractEquation:SD,SubtractiveBlending:$8,TOUCH:Fu,TangentSpaceNormalMap:Za,TetrahedronBufferGeometry:Tq,TetrahedronGeometry:K0,Texture:bn,TextureLoader:M7,TorusBufferGeometry:Cq,TorusGeometry:Z0,TorusKnotBufferGeometry:bq,TorusKnotGeometry:Q0,Triangle:Hs,TriangleFanDrawMode:mg,TriangleStripDrawMode:Jx,TrianglesDrawMode:qD,TubeBufferGeometry:Pq,TubeGeometry:q0,TwoPassDoubleSide:NW,UVMapping:lv,Uint16BufferAttribute:qx,Uint32BufferAttribute:$x,Uint8BufferAttribute:Wj,Uint8ClampedBufferAttribute:jj,Uniform:de,UniformsGroup:VQ,UniformsLib:ct,UniformsUtils:mc,UnsignedByteType:Gn,UnsignedInt248Type:Wl,UnsignedIntType:La,UnsignedShort4444Type:zD,UnsignedShort5551Type:GD,UnsignedShortType:Wx,VSMShadowMap:Vu,Vector2:ve,Vector3:J,Vector4:qt,VectorKeyframeTrack:yh,VideoTexture:yB,WebGL1Renderer:pB,WebGL3DRenderTarget:Lj,WebGLArrayRenderTarget:Ij,WebGLCubeRenderTarget:U0,WebGLMultipleRenderTargets:Qx,WebGLRenderTarget:$t,WebGLRenderer:gv,WebGLUtils:hB,WireframeGeometry:p7,WrapAroundEnding:l0,ZeroCurvatureEnding:Wu,ZeroFactor:_D,ZeroSlopeEnding:ju,ZeroStencilOp:VW,_SRGBAFormat:vg,sRGBEncoding:En},Symbol.toStringTag,{value:"Module"}));var qB={exports:{}},Ac={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ac.ConcurrentRoot=1;Ac.ContinuousEventPriority=4;Ac.DefaultEventPriority=16;Ac.DiscreteEventPriority=1;Ac.IdleEventPriority=536870912;Ac.LegacyRoot=0;qB.exports=Ac;var Lf=qB.exports;function Rq(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const g=c(e);if(!f(d,g)){const v=d;u(d=g,v)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Dq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),TE=Dq?z.useEffect:z.useLayoutEffect;function $B(t){const e=typeof t=="function"?Rq(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=z.useReducer(y=>y+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(r),u=z.useRef(i),c=z.useRef(!1),f=z.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),m=!i(f.current,d)),TE(()=>{m&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const g=z.useRef(o);TE(()=>{const y=()=>{try{const S=e.getState(),x=l.current(S);u.current(f.current,x)||(a.current=S,f.current=x,s())}catch{c.current=!0,s()}},w=e.subscribe(y);return e.getState()!==g.current&&y(),w},[]);const v=m?d:f.current;return z.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var eI={exports:{}},tI={exports:{}},nI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var Z=N.length;N.push(W);e:for(;0<Z;){var Y=Z-1>>>1,F=N[Y];if(0<i(F,W))N[Y]=W,N[Z]=F,Z=Y;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],Z=N.pop();if(Z!==W){N[0]=Z;e:for(var Y=0,F=N.length,q=F>>>1;Y<q;){var ee=2*(Y+1)-1,X=N[ee],K=ee+1,le=N[K];if(0>i(X,Z))K<F&&0>i(le,X)?(N[Y]=le,N[K]=Z,Y=K):(N[Y]=X,N[ee]=Z,Y=ee);else if(K<F&&0>i(le,Z))N[Y]=le,N[K]=Z,Y=K;else break e}}return W}function i(N,W){var Z=N.sortIndex-W.sortIndex;return Z!==0?Z:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function M(N){if(v=!1,x(N),!g)if(n(l)!==null)g=!0,H(E);else{var W=n(u);W!==null&&oe(M,W.startTime-N)}}function E(N,W){g=!1,v&&(v=!1,w(T),T=-1),m=!0;var Z=d;try{for(x(W),f=n(l);f!==null&&(!(f.expirationTime>W)||N&&!U());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var F=Y(f.expirationTime<=W);W=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),x(W)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(u);ee!==null&&oe(M,ee.startTime-W),q=!1}return q}finally{f=null,d=Z,m=!1}}var C=!1,P=null,T=-1,R=5,I=-1;function U(){return!(t.unstable_now()-I<R)}function G(){if(P!==null){var N=t.unstable_now();I=N;var W=!0;try{W=P(!0,N)}finally{W?j():(C=!1,P=null)}}else C=!1}var j;if(typeof S=="function")j=function(){S(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,k=D.port2;D.port1.onmessage=G,j=function(){k.postMessage(null)}}else j=function(){y(G,0)};function H(N){P=N,C||(C=!0,j())}function oe(N,W){T=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Z=d;d=W;try{return N()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Z=d;d=N;try{return W()}finally{d=Z}},t.unstable_scheduleCallback=function(N,W,Z){var Y=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,N){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,N={id:c++,callback:W,priorityLevel:N,startTime:Z,expirationTime:F,sortIndex:-1},Z>Y?(N.sortIndex=Z,e(u,N),n(l)===null&&N===n(u)&&(v?(w(T),T=-1):v=!0,oe(M,Z-Y))):(N.sortIndex=F,e(l,N),g||m||(g=!0,H(E))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var W=d;return function(){var Z=d;d=W;try{return N.apply(this,arguments)}finally{d=Z}}}})(nI);tI.exports=nI;var Ly=tI.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bq=function(e){var n={},r=z,i=Ly,s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case v:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case S:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case x:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function T(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(h){var p=h,_=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(_=p.return),h=p.return;while(h)}return p.tag===3?_:null}function I(h){if(R(h)!==h)throw Error(o(188))}function U(h){var p=h.alternate;if(!p){if(p=R(h),p===null)throw Error(o(188));return p!==h?null:h}for(var _=h,A=p;;){var b=_.return;if(b===null)break;var B=b.alternate;if(B===null){if(A=b.return,A!==null){_=A;continue}break}if(b.child===B.child){for(B=b.child;B;){if(B===_)return I(b),h;if(B===A)return I(b),p;B=B.sibling}throw Error(o(188))}if(_.return!==A.return)_=b,A=B;else{for(var te=!1,he=b.child;he;){if(he===_){te=!0,_=b,A=B;break}if(he===A){te=!0,A=b,_=B;break}he=he.sibling}if(!te){for(he=B.child;he;){if(he===_){te=!0,_=B,A=b;break}if(he===A){te=!0,A=B,_=b;break}he=he.sibling}if(!te)throw Error(o(189))}}if(_.alternate!==A)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?h:p}function G(h){return h=U(h),h!==null?j(h):null}function j(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=j(h);if(p!==null)return p;h=h.sibling}return null}function D(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=D(h);if(p!==null)return p}h=h.sibling}return null}var k=Array.isArray,H=e.getPublicInstance,oe=e.getRootHostContext,N=e.getChildHostContext,W=e.prepareForCommit,Z=e.resetAfterCommit,Y=e.createInstance,F=e.appendInitialChild,q=e.finalizeInitialChildren,ee=e.prepareUpdate,X=e.shouldSetTextContent,K=e.createTextInstance,le=e.scheduleTimeout,re=e.cancelTimeout,me=e.noTimeout,Ee=e.isPrimaryRenderer,_e=e.supportsMutation,ie=e.supportsPersistence,xe=e.supportsHydration,Le=e.getInstanceFromNode,Ce=e.preparePortalMount,Be=e.getCurrentEventPriority,He=e.detachDeletedInstance,Te=e.supportsMicrotasks,Ye=e.scheduleMicrotask,We=e.supportsTestSelectors,De=e.findFiberRoot,Q=e.getBoundingRect,O=e.getTextContent,ue=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Ve=e.setupIntersectionObserver,ze=e.appendChild,Ze=e.appendChildToContainer,Ie=e.commitTextUpdate,at=e.commitMount,Qe=e.commitUpdate,st=e.insertBefore,je=e.insertInContainerBefore,Xe=e.removeChild,ae=e.removeChildFromContainer,Re=e.resetTextContent,$e=e.hideInstance,ne=e.hideTextInstance,ce=e.unhideInstance,Ne=e.unhideTextInstance,it=e.clearContainer,dt=e.cloneInstance,Kt=e.createContainerChildSet,Ot=e.appendChildToContainerChildSet,Wt=e.finalizeContainerChildren,jt=e.replaceContainerChildren,on=e.cloneHiddenInstance,Gt=e.cloneHiddenTextInstance,Zt=e.canHydrateInstance,Zr=e.canHydrateTextInstance,Dr=e.canHydrateSuspenseInstance,un=e.isSuspenseInstancePending,$=e.isSuspenseInstanceFallback,Ae=e.registerSuspenseInstanceRetry,Pe=e.getNextHydratableSibling,fe=e.getFirstHydratableChild,Fe=e.getFirstHydratableChildWithinContainer,St=e.getFirstHydratableChildWithinSuspenseInstance,L=e.hydrateInstance,V=e.hydrateTextInstance,se=e.hydrateSuspenseInstance,pe=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,Me=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,tt=e.shouldDeleteUnhydratedTailInstances,nt=e.didNotMatchHydratedContainerTextInstance,qe=e.didNotMatchHydratedTextInstance,ye;function nn(h){if(ye===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);ye=p&&p[1]||""}return`
`+ye+h}var ut=!1;function pt(h,p){if(!h||ut)return"";ut=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ot){var A=ot}Reflect.construct(h,[],p)}else{try{p.call()}catch(ot){A=ot}h.call(p.prototype)}else{try{throw Error()}catch(ot){A=ot}h()}}catch(ot){if(ot&&A&&typeof ot.stack=="string"){for(var b=ot.stack.split(`
`),B=A.stack.split(`
`),te=b.length-1,he=B.length-1;1<=te&&0<=he&&b[te]!==B[he];)he--;for(;1<=te&&0<=he;te--,he--)if(b[te]!==B[he]){if(te!==1||he!==1)do if(te--,he--,0>he||b[te]!==B[he]){var Ue=`
`+b[te].replace(" at new "," at ");return h.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",h.displayName)),Ue}while(1<=te&&0<=he);break}}}finally{ut=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?nn(h):""}var Dt=Object.prototype.hasOwnProperty,It=[],Qt=-1;function Tt(h){return{current:h}}function Mt(h){0>Qt||(h.current=It[Qt],It[Qt]=null,Qt--)}function Lt(h,p){Qt++,It[Qt]=h.current,h.current=p}var Ct={},mn=Tt(Ct),zt=Tt(!1),wn=Ct;function lr(h,p){var _=h.type.contextTypes;if(!_)return Ct;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var b={},B;for(B in _)b[B]=p[B];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=b),b}function Yn(h){return h=h.childContextTypes,h!=null}function Kn(){Mt(zt),Mt(mn)}function gn(h,p,_){if(mn.current!==Ct)throw Error(o(168));Lt(mn,p),Lt(zt,_)}function qn(h,p,_){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return _;A=A.getChildContext();for(var b in A)if(!(b in p))throw Error(o(108,T(h)||"Unknown",b));return s({},_,A)}function xn(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ct,wn=mn.current,Lt(mn,h),Lt(zt,zt.current),!0}function Xt(h,p,_){var A=h.stateNode;if(!A)throw Error(o(169));_?(h=qn(h,p,wn),A.__reactInternalMemoizedMergedChildContext=h,Mt(zt),Mt(mn),Lt(mn,h)):Mt(zt),Lt(zt,_)}var Nn=Math.clz32?Math.clz32:is,Gi=Math.log,gr=Math.LN2;function is(h){return h>>>=0,h===0?32:31-(Gi(h)/gr|0)|0}var aa=64,la=4194304;function ua(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ru(h,p){var _=h.pendingLanes;if(_===0)return 0;var A=0,b=h.suspendedLanes,B=h.pingedLanes,te=_&268435455;if(te!==0){var he=te&~b;he!==0?A=ua(he):(B&=te,B!==0&&(A=ua(B)))}else te=_&~b,te!==0?A=ua(te):B!==0&&(A=ua(B));if(A===0)return 0;if(p!==0&&p!==A&&!(p&b)&&(b=A&-A,B=p&-p,b>=B||b===16&&(B&4194240)!==0))return p;if(A&4&&(A|=_&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)_=31-Nn(p),b=1<<_,A|=h[_],p&=~b;return A}function c3(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(h,p){for(var _=h.suspendedLanes,A=h.pingedLanes,b=h.expirationTimes,B=h.pendingLanes;0<B;){var te=31-Nn(B),he=1<<te,Ue=b[te];Ue===-1?(!(he&_)||he&A)&&(b[te]=c3(he,p)):Ue<=p&&(h.expiredLanes|=he),B&=~he}}function ca(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Cc(h){for(var p=[],_=0;31>_;_++)p.push(h);return p}function Io(h,p,_){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Nn(p),h[p]=_}function $a(h,p){var _=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<_;){var b=31-Nn(_),B=1<<b;p[b]=0,A[b]=-1,h[b]=-1,_&=~B}}function Lo(h,p){var _=h.entangledLanes|=p;for(h=h.entanglements;_;){var A=31-Nn(_),b=1<<A;b&p|h[A]&p&&(h[A]|=p),_&=~b}}var an=0;function Wh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var fa=i.unstable_scheduleCallback,bc=i.unstable_cancelCallback,jh=i.unstable_shouldYield,f3=i.unstable_requestPaint,$n=i.unstable_now,iu=i.unstable_ImmediatePriority,h3=i.unstable_UserBlockingPriority,_i=i.unstable_NormalPriority,Xh=i.unstable_IdlePriority,su=null,ss=null;function Jh(h){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(su,h,void 0,(h.current.flags&128)===128)}catch{}}function d3(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var os=typeof Object.is=="function"?Object.is:d3,Mi=null,Fo=!1,bs=!1;function Yh(h){Mi===null?Mi=[h]:Mi.push(h)}function Kh(h){Fo=!0,Yh(h)}function Hi(){if(!bs&&Mi!==null){bs=!0;var h=0,p=an;try{var _=Mi;for(an=1;h<_.length;h++){var A=_[h];do A=A(!0);while(A!==null)}Mi=null,Fo=!1}catch(b){throw Mi!==null&&(Mi=Mi.slice(h+1)),fa(iu,Hi),b}finally{an=p,bs=!1}}return null}var ou=a.ReactCurrentBatchConfig;function au(h,p){if(os(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var _=Object.keys(h),A=Object.keys(p);if(_.length!==A.length)return!1;for(A=0;A<_.length;A++){var b=_[A];if(!Dt.call(p,b)||!os(h[b],p[b]))return!1}return!0}function lu(h){switch(h.tag){case 5:return nn(h.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 2:case 15:return h=pt(h.type,!1),h;case 11:return h=pt(h.type.render,!1),h;case 1:return h=pt(h.type,!0),h;default:return""}}function Ai(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var _ in h)p[_]===void 0&&(p[_]=h[_]);return p}return p}var zr=Tt(null),Pc=null,eo=null,el=null;function Rc(){el=eo=Pc=null}function p3(h,p,_){Ee?(Lt(zr,p._currentValue),p._currentValue=_):(Lt(zr,p._currentValue2),p._currentValue2=_)}function Gr(h){var p=zr.current;Mt(zr),Ee?h._currentValue=p:h._currentValue2=p}function Ei(h,p,_){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===_)break;h=h.return}}function vr(h,p){Pc=h,el=eo=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(cs=!0),h.firstContext=null)}function yr(h){var p=Ee?h._currentValue:h._currentValue2;if(el!==h)if(h={context:h,memoizedValue:p,next:null},eo===null){if(Pc===null)throw Error(o(308));eo=h,Pc.dependencies={lanes:0,firstContext:h}}else eo=eo.next=h;return p}var as=null,tl=!1;function Iv(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ha(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function nl(h,p){var _=h.updateQueue;_!==null&&(_=_.shared,Mr!==null&&h.mode&1&&!(rn&2)?(h=_.interleaved,h===null?(p.next=p,as===null?as=[_]:as.push(_)):(p.next=h.next,h.next=p),_.interleaved=p):(h=_.pending,h===null?p.next=p:(p.next=h.next,h.next=p),_.pending=p))}function m3(h,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,_|=A,p.lanes=_,Lo(h,_)}}function fS(h,p){var _=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,_===A)){var b=null,B=null;if(_=_.firstBaseUpdate,_!==null){do{var te={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};B===null?b=B=te:B=B.next=te,_=_.next}while(_!==null);B===null?b=B=p:B=B.next=p}else b=B=p;_={baseState:A.baseState,firstBaseUpdate:b,lastBaseUpdate:B,shared:A.shared,effects:A.effects},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=p}function g3(h,p,_,A){var b=h.updateQueue;tl=!1;var B=b.firstBaseUpdate,te=b.lastBaseUpdate,he=b.shared.pending;if(he!==null){b.shared.pending=null;var Ue=he,ot=Ue.next;Ue.next=null,te===null?B=ot:te.next=ot,te=Ue;var xt=h.alternate;xt!==null&&(xt=xt.updateQueue,he=xt.lastBaseUpdate,he!==te&&(he===null?xt.firstBaseUpdate=ot:he.next=ot,xt.lastBaseUpdate=Ue))}if(B!==null){var Jt=b.baseState;te=0,xt=ot=Ue=null,he=B;do{var Bt=he.lane,Ln=he.eventTime;if((A&Bt)===Bt){xt!==null&&(xt=xt.next={eventTime:Ln,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Et=h,ui=he;switch(Bt=p,Ln=_,ui.tag){case 1:if(Et=ui.payload,typeof Et=="function"){Jt=Et.call(Ln,Jt,Bt);break e}Jt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=ui.payload,Bt=typeof Et=="function"?Et.call(Ln,Jt,Bt):Et,Bt==null)break e;Jt=s({},Jt,Bt);break e;case 2:tl=!0}}he.callback!==null&&he.lane!==0&&(h.flags|=64,Bt=b.effects,Bt===null?b.effects=[he]:Bt.push(he))}else Ln={eventTime:Ln,lane:Bt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},xt===null?(ot=xt=Ln,Ue=Jt):xt=xt.next=Ln,te|=Bt;if(he=he.next,he===null){if(he=b.shared.pending,he===null)break;Bt=he,he=Bt.next,Bt.next=null,b.lastBaseUpdate=Bt,b.shared.pending=null}}while(1);if(xt===null&&(Ue=Jt),b.baseState=Ue,b.firstBaseUpdate=ot,b.lastBaseUpdate=xt,p=b.shared.interleaved,p!==null){b=p;do te|=b.lane,b=b.next;while(b!==p)}else B===null&&(b.shared.lanes=0);Oc|=te,h.lanes=te,h.memoizedState=Jt}}function hS(h,p,_){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],b=A.callback;if(b!==null){if(A.callback=null,A=_,typeof b!="function")throw Error(o(191,b));b.call(A)}}}var dS=new r.Component().refs;function Lv(h,p,_,A){p=h.memoizedState,_=_(A,p),_=_==null?p:s({},p,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var v3={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,p,_){h=h._reactInternals;var A=Ci(),b=sl(h),B=ha(A,b);B.payload=p,_!=null&&(B.callback=_),nl(h,B),p=Is(h,b,A),p!==null&&m3(p,h,b)},enqueueReplaceState:function(h,p,_){h=h._reactInternals;var A=Ci(),b=sl(h),B=ha(A,b);B.tag=1,B.payload=p,_!=null&&(B.callback=_),nl(h,B),p=Is(h,b,A),p!==null&&m3(p,h,b)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var _=Ci(),A=sl(h),b=ha(_,A);b.tag=2,p!=null&&(b.callback=p),nl(h,b),p=Is(h,A,_),p!==null&&m3(p,h,A)}};function pS(h,p,_,A,b,B,te){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,B,te):p.prototype&&p.prototype.isPureReactComponent?!au(_,A)||!au(b,B):!0}function mS(h,p,_){var A=!1,b=Ct,B=p.contextType;return typeof B=="object"&&B!==null?B=yr(B):(b=Yn(p)?wn:mn.current,A=p.contextTypes,B=(A=A!=null)?lr(h,b):Ct),p=new p(_,B),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=v3,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=b,h.__reactInternalMemoizedMaskedChildContext=B),p}function gS(h,p,_,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,A),p.state!==h&&v3.enqueueReplaceState(p,p.state,null)}function Fv(h,p,_,A){var b=h.stateNode;b.props=_,b.state=h.memoizedState,b.refs=dS,Iv(h);var B=p.contextType;typeof B=="object"&&B!==null?b.context=yr(B):(B=Yn(p)?wn:mn.current,b.context=lr(h,B)),b.state=h.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(Lv(h,p,B,_),b.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(p=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),p!==b.state&&v3.enqueueReplaceState(b,b.state,null),g3(h,_,b,A),b.state=h.memoizedState),typeof b.componentDidMount=="function"&&(h.flags|=4194308)}var Dc=[],Bc=0,y3=null,x3=0,Ps=[],Rs=0,uu=null,da=1,pa="";function cu(h,p){Dc[Bc++]=x3,Dc[Bc++]=y3,y3=h,x3=p}function vS(h,p,_){Ps[Rs++]=da,Ps[Rs++]=pa,Ps[Rs++]=uu,uu=h;var A=da;h=pa;var b=32-Nn(A)-1;A&=~(1<<b),_+=1;var B=32-Nn(p)+b;if(30<B){var te=b-b%5;B=(A&(1<<te)-1).toString(32),A>>=te,b-=te,da=1<<32-Nn(p)+b|_<<b|A,pa=B+h}else da=1<<B|_<<b|A,pa=h}function kv(h){h.return!==null&&(cu(h,1),vS(h,1,0))}function Uv(h){for(;h===y3;)y3=Dc[--Bc],Dc[Bc]=null,x3=Dc[--Bc],Dc[Bc]=null;for(;h===uu;)uu=Ps[--Rs],Ps[Rs]=null,pa=Ps[--Rs],Ps[Rs]=null,da=Ps[--Rs],Ps[Rs]=null}var ls=null,us=null,Zn=!1,Zh=!1,to=null;function yS(h,p){var _=Ls(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=h,p=h.deletions,p===null?(h.deletions=[_],h.flags|=16):p.push(_)}function xS(h,p){switch(h.tag){case 5:return p=Zt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,ls=h,us=fe(p),!0):!1;case 6:return p=Zr(p,h.pendingProps),p!==null?(h.stateNode=p,ls=h,us=null,!0):!1;case 13:if(p=Dr(p),p!==null){var _=uu!==null?{id:da,overflow:pa}:null;return h.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=Ls(18,null,null,0),_.stateNode=p,_.return=h,h.child=_,ls=h,us=null,!0}return!1;default:return!1}}function Nv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Ov(h){if(Zn){var p=us;if(p){var _=p;if(!xS(h,p)){if(Nv(h))throw Error(o(418));p=Pe(_);var A=ls;p&&xS(h,p)?yS(A,_):(h.flags=h.flags&-4097|2,Zn=!1,ls=h)}}else{if(Nv(h))throw Error(o(418));h.flags=h.flags&-4097|2,Zn=!1,ls=h}}}function SS(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ls=h}function Qh(h){if(!xe||h!==ls)return!1;if(!Zn)return SS(h),Zn=!0,!1;if(h.tag!==3&&(h.tag!==5||tt(h.type)&&!X(h.type,h.memoizedProps))){var p=us;if(p){if(Nv(h)){for(h=us;h;)h=Pe(h);throw Error(o(418))}for(;p;)yS(h,p),p=Pe(p)}}if(SS(h),h.tag===13){if(!xe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));us=pe(h)}else us=ls?Pe(h.stateNode):null;return!0}function Ic(){xe&&(us=ls=null,Zh=Zn=!1)}function zv(h){to===null?to=[h]:to.push(h)}function qh(h,p,_){if(h=_.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var A=_.stateNode}if(!A)throw Error(o(147,h));var b=A,B=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(te){var he=b.refs;he===dS&&(he=b.refs={}),te===null?delete he[B]:he[B]=te},p._stringRef=B,p)}if(typeof h!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,h))}return h}function S3(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function wS(h){var p=h._init;return p(h._payload)}function _S(h){function p(be,ge){if(h){var ke=be.deletions;ke===null?(be.deletions=[ge],be.flags|=16):ke.push(ge)}}function _(be,ge){if(!h)return null;for(;ge!==null;)p(be,ge),ge=ge.sibling;return null}function A(be,ge){for(be=new Map;ge!==null;)ge.key!==null?be.set(ge.key,ge):be.set(ge.index,ge),ge=ge.sibling;return be}function b(be,ge){return be=al(be,ge),be.index=0,be.sibling=null,be}function B(be,ge,ke){return be.index=ke,h?(ke=be.alternate,ke!==null?(ke=ke.index,ke<ge?(be.flags|=2,ge):ke):(be.flags|=2,ge)):(be.flags|=1048576,ge)}function te(be){return h&&be.alternate===null&&(be.flags|=2),be}function he(be,ge,ke,mt){return ge===null||ge.tag!==6?(ge=M5(ke,be.mode,mt),ge.return=be,ge):(ge=b(ge,ke),ge.return=be,ge)}function Ue(be,ge,ke,mt){var At=ke.type;return At===c?xt(be,ge,ke.props.children,mt,ke.key):ge!==null&&(ge.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&wS(At)===ge.type)?(mt=b(ge,ke.props),mt.ref=qh(be,ge,ke),mt.return=be,mt):(mt=Q3(ke.type,ke.key,ke.props,null,be.mode,mt),mt.ref=qh(be,ge,ke),mt.return=be,mt)}function ot(be,ge,ke,mt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==ke.containerInfo||ge.stateNode.implementation!==ke.implementation?(ge=A5(ke,be.mode,mt),ge.return=be,ge):(ge=b(ge,ke.children||[]),ge.return=be,ge)}function xt(be,ge,ke,mt,At){return ge===null||ge.tag!==7?(ge=vu(ke,be.mode,mt,At),ge.return=be,ge):(ge=b(ge,ke),ge.return=be,ge)}function Jt(be,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=M5(""+ge,be.mode,ke),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ke=Q3(ge.type,ge.key,ge.props,null,be.mode,ke),ke.ref=qh(be,null,ge),ke.return=be,ke;case u:return ge=A5(ge,be.mode,ke),ge.return=be,ge;case x:var mt=ge._init;return Jt(be,mt(ge._payload),ke)}if(k(ge)||C(ge))return ge=vu(ge,be.mode,ke,null),ge.return=be,ge;S3(be,ge)}return null}function Bt(be,ge,ke,mt){var At=ge!==null?ge.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return At!==null?null:he(be,ge,""+ke,mt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===At?Ue(be,ge,ke,mt):null;case u:return ke.key===At?ot(be,ge,ke,mt):null;case x:return At=ke._init,Bt(be,ge,At(ke._payload),mt)}if(k(ke)||C(ke))return At!==null?null:xt(be,ge,ke,mt,null);S3(be,ke)}return null}function Ln(be,ge,ke,mt,At){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return be=be.get(ke)||null,he(ge,be,""+mt,At);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case l:return be=be.get(mt.key===null?ke:mt.key)||null,Ue(ge,be,mt,At);case u:return be=be.get(mt.key===null?ke:mt.key)||null,ot(ge,be,mt,At);case x:var tn=mt._init;return Ln(be,ge,ke,tn(mt._payload),At)}if(k(mt)||C(mt))return be=be.get(ke)||null,xt(ge,be,mt,At,null);S3(ge,mt)}return null}function Et(be,ge,ke,mt){for(var At=null,tn=null,Yt=ge,_n=ge=0,Vr=null;Yt!==null&&_n<ke.length;_n++){Yt.index>_n?(Vr=Yt,Yt=null):Vr=Yt.sibling;var Mn=Bt(be,Yt,ke[_n],mt);if(Mn===null){Yt===null&&(Yt=Vr);break}h&&Yt&&Mn.alternate===null&&p(be,Yt),ge=B(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn,Yt=Vr}if(_n===ke.length)return _(be,Yt),Zn&&cu(be,_n),At;if(Yt===null){for(;_n<ke.length;_n++)Yt=Jt(be,ke[_n],mt),Yt!==null&&(ge=B(Yt,ge,_n),tn===null?At=Yt:tn.sibling=Yt,tn=Yt);return Zn&&cu(be,_n),At}for(Yt=A(be,Yt);_n<ke.length;_n++)Vr=Ln(Yt,be,_n,ke[_n],mt),Vr!==null&&(h&&Vr.alternate!==null&&Yt.delete(Vr.key===null?_n:Vr.key),ge=B(Vr,ge,_n),tn===null?At=Vr:tn.sibling=Vr,tn=Vr);return h&&Yt.forEach(function(ll){return p(be,ll)}),Zn&&cu(be,_n),At}function ui(be,ge,ke,mt){var At=C(ke);if(typeof At!="function")throw Error(o(150));if(ke=At.call(ke),ke==null)throw Error(o(151));for(var tn=At=null,Yt=ge,_n=ge=0,Vr=null,Mn=ke.next();Yt!==null&&!Mn.done;_n++,Mn=ke.next()){Yt.index>_n?(Vr=Yt,Yt=null):Vr=Yt.sibling;var ll=Bt(be,Yt,Mn.value,mt);if(ll===null){Yt===null&&(Yt=Vr);break}h&&Yt&&ll.alternate===null&&p(be,Yt),ge=B(ll,ge,_n),tn===null?At=ll:tn.sibling=ll,tn=ll,Yt=Vr}if(Mn.done)return _(be,Yt),Zn&&cu(be,_n),At;if(Yt===null){for(;!Mn.done;_n++,Mn=ke.next())Mn=Jt(be,Mn.value,mt),Mn!==null&&(ge=B(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn);return Zn&&cu(be,_n),At}for(Yt=A(be,Yt);!Mn.done;_n++,Mn=ke.next())Mn=Ln(Yt,be,_n,Mn.value,mt),Mn!==null&&(h&&Mn.alternate!==null&&Yt.delete(Mn.key===null?_n:Mn.key),ge=B(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn);return h&&Yt.forEach(function(gF){return p(be,gF)}),Zn&&cu(be,_n),At}function Fs(be,ge,ke,mt){if(typeof ke=="object"&&ke!==null&&ke.type===c&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var At=ke.key,tn=ge;tn!==null;){if(tn.key===At){if(At=ke.type,At===c){if(tn.tag===7){_(be,tn.sibling),ge=b(tn,ke.props.children),ge.return=be,be=ge;break e}}else if(tn.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&wS(At)===tn.type){_(be,tn.sibling),ge=b(tn,ke.props),ge.ref=qh(be,tn,ke),ge.return=be,be=ge;break e}_(be,tn);break}else p(be,tn);tn=tn.sibling}ke.type===c?(ge=vu(ke.props.children,be.mode,mt,ke.key),ge.return=be,be=ge):(mt=Q3(ke.type,ke.key,ke.props,null,be.mode,mt),mt.ref=qh(be,ge,ke),mt.return=be,be=mt)}return te(be);case u:e:{for(tn=ke.key;ge!==null;){if(ge.key===tn)if(ge.tag===4&&ge.stateNode.containerInfo===ke.containerInfo&&ge.stateNode.implementation===ke.implementation){_(be,ge.sibling),ge=b(ge,ke.children||[]),ge.return=be,be=ge;break e}else{_(be,ge);break}else p(be,ge);ge=ge.sibling}ge=A5(ke,be.mode,mt),ge.return=be,be=ge}return te(be);case x:return tn=ke._init,Fs(be,ge,tn(ke._payload),mt)}if(k(ke))return Et(be,ge,ke,mt);if(C(ke))return ui(be,ge,ke,mt);S3(be,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ge!==null&&ge.tag===6?(_(be,ge.sibling),ge=b(ge,ke),ge.return=be,be=ge):(_(be,ge),ge=M5(ke,be.mode,mt),ge.return=be,be=ge),te(be)):_(be,ge)}return Fs}var Lc=_S(!0),MS=_S(!1),$h={},Ds=Tt($h),ed=Tt($h),Fc=Tt($h);function ko(h){if(h===$h)throw Error(o(174));return h}function Gv(h,p){Lt(Fc,p),Lt(ed,h),Lt(Ds,$h),h=oe(p),Mt(Ds),Lt(Ds,h)}function kc(){Mt(Ds),Mt(ed),Mt(Fc)}function AS(h){var p=ko(Fc.current),_=ko(Ds.current);p=N(_,h.type,p),_!==p&&(Lt(ed,h),Lt(Ds,p))}function Hv(h){ed.current===h&&(Mt(Ds),Mt(ed))}var er=Tt(0);function w3(h){for(var p=h;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||un(_)||$(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Vv=[];function Wv(){for(var h=0;h<Vv.length;h++){var p=Vv[h];Ee?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Vv.length=0}var _3=a.ReactCurrentDispatcher,Bs=a.ReactCurrentBatchConfig,Uc=0,ur=null,oi=null,Hr=null,M3=!1,td=!1,nd=0,GL=0;function ai(){throw Error(o(321))}function jv(h,p){if(p===null)return!1;for(var _=0;_<p.length&&_<h.length;_++)if(!os(h[_],p[_]))return!1;return!0}function Xv(h,p,_,A,b,B){if(Uc=B,ur=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,_3.current=h===null||h.memoizedState===null?jL:XL,h=_(A,b),td){B=0;do{if(td=!1,nd=0,25<=B)throw Error(o(301));B+=1,Hr=oi=null,p.updateQueue=null,_3.current=JL,h=_(A,b)}while(td)}if(_3.current=b3,p=oi!==null&&oi.next!==null,Uc=0,Hr=oi=ur=null,M3=!1,p)throw Error(o(300));return h}function Jv(){var h=nd!==0;return nd=0,h}function ma(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?ur.memoizedState=Hr=h:Hr=Hr.next=h,Hr}function Uo(){if(oi===null){var h=ur.alternate;h=h!==null?h.memoizedState:null}else h=oi.next;var p=Hr===null?ur.memoizedState:Hr.next;if(p!==null)Hr=p,oi=h;else{if(h===null)throw Error(o(310));oi=h,h={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},Hr===null?ur.memoizedState=Hr=h:Hr=Hr.next=h}return Hr}function fu(h,p){return typeof p=="function"?p(h):p}function A3(h){var p=Uo(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var A=oi,b=A.baseQueue,B=_.pending;if(B!==null){if(b!==null){var te=b.next;b.next=B.next,B.next=te}A.baseQueue=b=B,_.pending=null}if(b!==null){B=b.next,A=A.baseState;var he=te=null,Ue=null,ot=B;do{var xt=ot.lane;if((Uc&xt)===xt)Ue!==null&&(Ue=Ue.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),A=ot.hasEagerState?ot.eagerState:h(A,ot.action);else{var Jt={lane:xt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};Ue===null?(he=Ue=Jt,te=A):Ue=Ue.next=Jt,ur.lanes|=xt,Oc|=xt}ot=ot.next}while(ot!==null&&ot!==B);Ue===null?te=A:Ue.next=he,os(A,p.memoizedState)||(cs=!0),p.memoizedState=A,p.baseState=te,p.baseQueue=Ue,_.lastRenderedState=A}if(h=_.interleaved,h!==null){b=h;do B=b.lane,ur.lanes|=B,Oc|=B,b=b.next;while(b!==h)}else b===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function E3(h){var p=Uo(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var A=_.dispatch,b=_.pending,B=p.memoizedState;if(b!==null){_.pending=null;var te=b=b.next;do B=h(B,te.action),te=te.next;while(te!==b);os(B,p.memoizedState)||(cs=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),_.lastRenderedState=B}return[B,A]}function ES(){}function TS(h,p){var _=ur,A=Uo(),b=p(),B=!os(A.memoizedState,b);if(B&&(A.memoizedState=b,cs=!0),A=A.queue,id(PS.bind(null,_,A,h),[h]),A.getSnapshot!==p||B||Hr!==null&&Hr.memoizedState.tag&1){if(_.flags|=2048,rd(9,bS.bind(null,_,A,b,p),void 0,null),Mr===null)throw Error(o(349));Uc&30||CS(_,p,b)}return b}function CS(h,p,_){h.flags|=16384,h={getSnapshot:p,value:_},p=ur.updateQueue,p===null?(p={lastEffect:null,stores:null},ur.updateQueue=p,p.stores=[h]):(_=p.stores,_===null?p.stores=[h]:_.push(h))}function bS(h,p,_,A){p.value=_,p.getSnapshot=A,RS(p)&&Is(h,1,-1)}function PS(h,p,_){return _(function(){RS(p)&&Is(h,1,-1)})}function RS(h){var p=h.getSnapshot;h=h.value;try{var _=p();return!os(h,_)}catch{return!0}}function Yv(h){var p=ma();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:h},p.queue=h,h=h.dispatch=WL.bind(null,ur,h),[p.memoizedState,h]}function rd(h,p,_,A){return h={tag:h,create:p,destroy:_,deps:A,next:null},p=ur.updateQueue,p===null?(p={lastEffect:null,stores:null},ur.updateQueue=p,p.lastEffect=h.next=h):(_=p.lastEffect,_===null?p.lastEffect=h.next=h:(A=_.next,_.next=h,h.next=A,p.lastEffect=h)),h}function DS(){return Uo().memoizedState}function T3(h,p,_,A){var b=ma();ur.flags|=h,b.memoizedState=rd(1|p,_,void 0,A===void 0?null:A)}function C3(h,p,_,A){var b=Uo();A=A===void 0?null:A;var B=void 0;if(oi!==null){var te=oi.memoizedState;if(B=te.destroy,A!==null&&jv(A,te.deps)){b.memoizedState=rd(p,_,B,A);return}}ur.flags|=h,b.memoizedState=rd(1|p,_,B,A)}function Kv(h,p){return T3(8390656,8,h,p)}function id(h,p){return C3(2048,8,h,p)}function BS(h,p){return C3(4,2,h,p)}function IS(h,p){return C3(4,4,h,p)}function LS(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function FS(h,p,_){return _=_!=null?_.concat([h]):null,C3(4,4,LS.bind(null,p,h),_)}function Zv(){}function kS(h,p){var _=Uo();p=p===void 0?null:p;var A=_.memoizedState;return A!==null&&p!==null&&jv(p,A[1])?A[0]:(_.memoizedState=[h,p],h)}function US(h,p){var _=Uo();p=p===void 0?null:p;var A=_.memoizedState;return A!==null&&p!==null&&jv(p,A[1])?A[0]:(h=h(),_.memoizedState=[h,p],h)}function HL(h,p){var _=an;an=_!==0&&4>_?_:4,h(!0);var A=Bs.transition;Bs.transition={};try{h(!1),p()}finally{an=_,Bs.transition=A}}function NS(){return Uo().memoizedState}function VL(h,p,_){var A=sl(h);_={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null},OS(h)?zS(p,_):(GS(h,p,_),_=Ci(),h=Is(h,A,_),h!==null&&HS(h,p,A))}function WL(h,p,_){var A=sl(h),b={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null};if(OS(h))zS(p,b);else{GS(h,p,b);var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var te=p.lastRenderedState,he=B(te,_);if(b.hasEagerState=!0,b.eagerState=he,os(he,te))return}catch{}finally{}_=Ci(),h=Is(h,A,_),h!==null&&HS(h,p,A)}}function OS(h){var p=h.alternate;return h===ur||p!==null&&p===ur}function zS(h,p){td=M3=!0;var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}function GS(h,p,_){Mr!==null&&h.mode&1&&!(rn&2)?(h=p.interleaved,h===null?(_.next=_,as===null?as=[p]:as.push(p)):(_.next=h.next,h.next=_),p.interleaved=_):(h=p.pending,h===null?_.next=_:(_.next=h.next,h.next=_),p.pending=_)}function HS(h,p,_){if(_&4194240){var A=p.lanes;A&=h.pendingLanes,_|=A,p.lanes=_,Lo(h,_)}}var b3={readContext:yr,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},jL={readContext:yr,useCallback:function(h,p){return ma().memoizedState=[h,p===void 0?null:p],h},useContext:yr,useEffect:Kv,useImperativeHandle:function(h,p,_){return _=_!=null?_.concat([h]):null,T3(4194308,4,LS.bind(null,p,h),_)},useLayoutEffect:function(h,p){return T3(4194308,4,h,p)},useInsertionEffect:function(h,p){return T3(4,2,h,p)},useMemo:function(h,p){var _=ma();return p=p===void 0?null:p,h=h(),_.memoizedState=[h,p],h},useReducer:function(h,p,_){var A=ma();return p=_!==void 0?_(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=VL.bind(null,ur,h),[A.memoizedState,h]},useRef:function(h){var p=ma();return h={current:h},p.memoizedState=h},useState:Yv,useDebugValue:Zv,useDeferredValue:function(h){var p=Yv(h),_=p[0],A=p[1];return Kv(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=Yv(!1),p=h[0];return h=HL.bind(null,h[1]),ma().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,_){var A=ur,b=ma();if(Zn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=p(),Mr===null)throw Error(o(349));Uc&30||CS(A,p,_)}b.memoizedState=_;var B={value:_,getSnapshot:p};return b.queue=B,Kv(PS.bind(null,A,B,h),[h]),A.flags|=2048,rd(9,bS.bind(null,A,B,_,p),void 0,null),_},useId:function(){var h=ma(),p=Mr.identifierPrefix;if(Zn){var _=pa,A=da;_=(A&~(1<<32-Nn(A)-1)).toString(32)+_,p=":"+p+"R"+_,_=nd++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=GL++,p=":"+p+"r"+_.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},XL={readContext:yr,useCallback:kS,useContext:yr,useEffect:id,useImperativeHandle:FS,useInsertionEffect:BS,useLayoutEffect:IS,useMemo:US,useReducer:A3,useRef:DS,useState:function(){return A3(fu)},useDebugValue:Zv,useDeferredValue:function(h){var p=A3(fu),_=p[0],A=p[1];return id(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=A3(fu)[0],p=Uo().memoizedState;return[h,p]},useMutableSource:ES,useSyncExternalStore:TS,useId:NS,unstable_isNewReconciler:!1},JL={readContext:yr,useCallback:kS,useContext:yr,useEffect:id,useImperativeHandle:FS,useInsertionEffect:BS,useLayoutEffect:IS,useMemo:US,useReducer:E3,useRef:DS,useState:function(){return E3(fu)},useDebugValue:Zv,useDeferredValue:function(h){var p=E3(fu),_=p[0],A=p[1];return id(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=E3(fu)[0],p=Uo().memoizedState;return[h,p]},useMutableSource:ES,useSyncExternalStore:TS,useId:NS,unstable_isNewReconciler:!1};function Qv(h,p){try{var _="",A=p;do _+=lu(A),A=A.return;while(A);var b=_}catch(B){b=`
Error generating stack: `+B.message+`
`+B.stack}return{value:h,source:p,stack:b}}function qv(h,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var YL=typeof WeakMap=="function"?WeakMap:Map;function VS(h,p,_){_=ha(-1,_),_.tag=3,_.payload={element:null};var A=p.value;return _.callback=function(){W3||(W3=!0,g5=A),qv(h,p)},_}function WS(h,p,_){_=ha(-1,_),_.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var b=p.value;_.payload=function(){return A(b)},_.callback=function(){qv(h,p)}}var B=h.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(_.callback=function(){qv(h,p),typeof A!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var te=p.stack;this.componentDidCatch(p.value,{componentStack:te!==null?te:""})}),_}function jS(h,p,_){var A=h.pingCache;if(A===null){A=h.pingCache=new YL;var b=new Set;A.set(p,b)}else b=A.get(p),b===void 0&&(b=new Set,A.set(p,b));b.has(_)||(b.add(_),h=lF.bind(null,h,p,_),p.then(h,h))}function XS(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function JS(h,p,_,A,b){return h.mode&1?(h.flags|=65536,h.lanes=b,h):(h===p?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=ha(-1,1),p.tag=2,nl(_,p))),_.lanes|=1),h)}function No(h){h.flags|=4}function YS(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var sd,od,P3,R3;if(_e)sd=function(h,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)F(h,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},od=function(){},P3=function(h,p,_,A,b){if(h=h.memoizedProps,h!==A){var B=p.stateNode,te=ko(Ds.current);_=ee(B,_,h,A,b,te),(p.updateQueue=_)&&No(p)}},R3=function(h,p,_,A){_!==A&&No(p)};else if(ie){sd=function(h,p,_,A){for(var b=p.child;b!==null;){if(b.tag===5){var B=b.stateNode;_&&A&&(B=on(B,b.type,b.memoizedProps,b)),F(h,B)}else if(b.tag===6)B=b.stateNode,_&&A&&(B=Gt(B,b.memoizedProps,b)),F(h,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),sd(h,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var KS=function(h,p,_,A){for(var b=p.child;b!==null;){if(b.tag===5){var B=b.stateNode;_&&A&&(B=on(B,b.type,b.memoizedProps,b)),Ot(h,B)}else if(b.tag===6)B=b.stateNode,_&&A&&(B=Gt(B,b.memoizedProps,b)),Ot(h,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),KS(h,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};od=function(h,p){var _=p.stateNode;if(!YS(h,p)){h=_.containerInfo;var A=Kt(h);KS(A,p,!1,!1),_.pendingChildren=A,No(p),Wt(h,A)}},P3=function(h,p,_,A,b){var B=h.stateNode,te=h.memoizedProps;if((h=YS(h,p))&&te===A)p.stateNode=B;else{var he=p.stateNode,Ue=ko(Ds.current),ot=null;te!==A&&(ot=ee(he,_,te,A,b,Ue)),h&&ot===null?p.stateNode=B:(B=dt(B,ot,_,te,A,p,h,he),q(B,_,A,b,Ue)&&No(p),p.stateNode=B,h?No(p):sd(B,p,!1,!1))}},R3=function(h,p,_,A){_!==A?(h=ko(Fc.current),_=ko(Ds.current),p.stateNode=K(A,h,_,p),No(p)):p.stateNode=h.stateNode}}else od=function(){},P3=function(){},R3=function(){};function ad(h,p){if(!Zn)switch(h.tailMode){case"hidden":p=h.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function li(h){var p=h.alternate!==null&&h.alternate.child===h.child,_=0,A=0;if(p)for(var b=h.child;b!==null;)_|=b.lanes|b.childLanes,A|=b.subtreeFlags&14680064,A|=b.flags&14680064,b.return=h,b=b.sibling;else for(b=h.child;b!==null;)_|=b.lanes|b.childLanes,A|=b.subtreeFlags,A|=b.flags,b.return=h,b=b.sibling;return h.subtreeFlags|=A,h.childLanes=_,p}function KL(h,p,_){var A=p.pendingProps;switch(Uv(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(p),null;case 1:return Yn(p.type)&&Kn(),li(p),null;case 3:return A=p.stateNode,kc(),Mt(zt),Mt(mn),Wv(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(Qh(p)?No(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,to!==null&&(x5(to),to=null))),od(h,p),li(p),null;case 5:Hv(p),_=ko(Fc.current);var b=p.type;if(h!==null&&p.stateNode!=null)P3(h,p,b,A,_),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return li(p),null}if(h=ko(Ds.current),Qh(p)){if(!xe)throw Error(o(175));h=L(p.stateNode,p.type,p.memoizedProps,_,h,p,!Zh),p.updateQueue=h,h!==null&&No(p)}else{var B=Y(b,A,_,h,p);sd(B,p,!1,!1),p.stateNode=B,q(B,b,A,_,h)&&No(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return li(p),null;case 6:if(h&&p.stateNode!=null)R3(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(h=ko(Fc.current),_=ko(Ds.current),Qh(p)){if(!xe)throw Error(o(176));if(h=p.stateNode,A=p.memoizedProps,(_=V(h,A,p,!Zh))&&(b=ls,b!==null))switch(B=(b.mode&1)!==0,b.tag){case 3:nt(b.stateNode.containerInfo,h,A,B);break;case 5:qe(b.type,b.memoizedProps,b.stateNode,h,A,B)}_&&No(p)}else p.stateNode=K(A,h,_,p)}return li(p),null;case 13:if(Mt(er),A=p.memoizedState,Zn&&us!==null&&p.mode&1&&!(p.flags&128)){for(h=us;h;)h=Pe(h);return Ic(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=Qh(p),h===null){if(!A)throw Error(o(318));if(!xe)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));se(h,p)}else Ic(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return li(p),null}return to!==null&&(x5(to),to=null),p.flags&128?(p.lanes=_,p):(A=A!==null,_=!1,h===null?Qh(p):_=h.memoizedState!==null,A&&!_&&(p.child.flags|=8192,p.mode&1&&(h===null||er.current&1?Br===0&&(Br=3):w5())),p.updateQueue!==null&&(p.flags|=4),li(p),null);case 4:return kc(),od(h,p),h===null&&Ce(p.stateNode.containerInfo),li(p),null;case 10:return Gr(p.type._context),li(p),null;case 17:return Yn(p.type)&&Kn(),li(p),null;case 19:if(Mt(er),b=p.memoizedState,b===null)return li(p),null;if(A=(p.flags&128)!==0,B=b.rendering,B===null)if(A)ad(b,!1);else{if(Br!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(B=w3(h),B!==null){for(p.flags|=128,ad(b,!1),h=B.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=_,A=p.child;A!==null;)_=A,b=h,_.flags&=14680066,B=_.alternate,B===null?(_.childLanes=0,_.lanes=b,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=B.childLanes,_.lanes=B.lanes,_.child=B.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=B.memoizedProps,_.memoizedState=B.memoizedState,_.updateQueue=B.updateQueue,_.type=B.type,b=B.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),A=A.sibling;return Lt(er,er.current&1|2),p.child}h=h.sibling}b.tail!==null&&$n()>m5&&(p.flags|=128,A=!0,ad(b,!1),p.lanes=4194304)}else{if(!A)if(h=w3(B),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),ad(b,!0),b.tail===null&&b.tailMode==="hidden"&&!B.alternate&&!Zn)return li(p),null}else 2*$n()-b.renderingStartTime>m5&&_!==1073741824&&(p.flags|=128,A=!0,ad(b,!1),p.lanes=4194304);b.isBackwards?(B.sibling=p.child,p.child=B):(h=b.last,h!==null?h.sibling=B:p.child=B,b.last=B)}return b.tail!==null?(p=b.tail,b.rendering=p,b.tail=p.sibling,b.renderingStartTime=$n(),p.sibling=null,h=er.current,Lt(er,A?h&1|2:h&1),p):(li(p),null);case 22:case 23:return S5(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?fs&1073741824&&(li(p),_e&&p.subtreeFlags&6&&(p.flags|=8192)):li(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var ZL=a.ReactCurrentOwner,cs=!1;function Ti(h,p,_,A){p.child=h===null?MS(p,null,_,A):Lc(p,h.child,_,A)}function ZS(h,p,_,A,b){_=_.render;var B=p.ref;return vr(p,b),A=Xv(h,p,_,A,B,b),_=Jv(),h!==null&&!cs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b,ga(h,p,b)):(Zn&&_&&kv(p),p.flags|=1,Ti(h,p,A,b),p.child)}function QS(h,p,_,A,b){if(h===null){var B=_.type;return typeof B=="function"&&!_5(B)&&B.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=B,qS(h,p,B,A,b)):(h=Q3(_.type,null,A,p,p.mode,b),h.ref=p.ref,h.return=p,p.child=h)}if(B=h.child,!(h.lanes&b)){var te=B.memoizedProps;if(_=_.compare,_=_!==null?_:au,_(te,A)&&h.ref===p.ref)return ga(h,p,b)}return p.flags|=1,h=al(B,A),h.ref=p.ref,h.return=p,p.child=h}function qS(h,p,_,A,b){if(h!==null&&au(h.memoizedProps,A)&&h.ref===p.ref)if(cs=!1,(h.lanes&b)!==0)h.flags&131072&&(cs=!0);else return p.lanes=h.lanes,ga(h,p,b);return $v(h,p,_,A,b)}function $S(h,p,_){var A=p.pendingProps,b=A.children,B=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Lt(Nc,fs),fs|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=B!==null?B.baseLanes:_,Lt(Nc,fs),fs|=A;else return h=B!==null?B.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Lt(Nc,fs),fs|=h,null;else B!==null?(A=B.baseLanes|_,p.memoizedState=null):A=_,Lt(Nc,fs),fs|=A;return Ti(h,p,b,_),p.child}function ew(h,p){var _=p.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function $v(h,p,_,A,b){var B=Yn(_)?wn:mn.current;return B=lr(p,B),vr(p,b),_=Xv(h,p,_,A,B,b),A=Jv(),h!==null&&!cs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b,ga(h,p,b)):(Zn&&A&&kv(p),p.flags|=1,Ti(h,p,_,b),p.child)}function tw(h,p,_,A,b){if(Yn(_)){var B=!0;xn(p)}else B=!1;if(vr(p,b),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),mS(p,_,A),Fv(p,_,A,b),A=!0;else if(h===null){var te=p.stateNode,he=p.memoizedProps;te.props=he;var Ue=te.context,ot=_.contextType;typeof ot=="object"&&ot!==null?ot=yr(ot):(ot=Yn(_)?wn:mn.current,ot=lr(p,ot));var xt=_.getDerivedStateFromProps,Jt=typeof xt=="function"||typeof te.getSnapshotBeforeUpdate=="function";Jt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(he!==A||Ue!==ot)&&gS(p,te,A,ot),tl=!1;var Bt=p.memoizedState;te.state=Bt,g3(p,A,te,b),Ue=p.memoizedState,he!==A||Bt!==Ue||zt.current||tl?(typeof xt=="function"&&(Lv(p,_,xt,A),Ue=p.memoizedState),(he=tl||pS(p,_,he,A,Bt,Ue,ot))?(Jt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(p.flags|=4194308)):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Ue),te.props=A,te.state=Ue,te.context=ot,A=he):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{te=p.stateNode,cS(h,p),he=p.memoizedProps,ot=p.type===p.elementType?he:Ai(p.type,he),te.props=ot,Jt=p.pendingProps,Bt=te.context,Ue=_.contextType,typeof Ue=="object"&&Ue!==null?Ue=yr(Ue):(Ue=Yn(_)?wn:mn.current,Ue=lr(p,Ue));var Ln=_.getDerivedStateFromProps;(xt=typeof Ln=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(he!==Jt||Bt!==Ue)&&gS(p,te,A,Ue),tl=!1,Bt=p.memoizedState,te.state=Bt,g3(p,A,te,b);var Et=p.memoizedState;he!==Jt||Bt!==Et||zt.current||tl?(typeof Ln=="function"&&(Lv(p,_,Ln,A),Et=p.memoizedState),(ot=tl||pS(p,_,ot,A,Bt,Et,Ue)||!1)?(xt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(A,Et,Ue),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(A,Et,Ue)),typeof te.componentDidUpdate=="function"&&(p.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof te.componentDidUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Et),te.props=A,te.state=Et,te.context=Ue,A=ot):(typeof te.componentDidUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=1024),A=!1)}return e5(h,p,_,A,B,b)}function e5(h,p,_,A,b,B){ew(h,p);var te=(p.flags&128)!==0;if(!A&&!te)return b&&Xt(p,_,!1),ga(h,p,B);A=p.stateNode,ZL.current=p;var he=te&&typeof _.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&te?(p.child=Lc(p,h.child,null,B),p.child=Lc(p,null,he,B)):Ti(h,p,he,B),p.memoizedState=A.state,b&&Xt(p,_,!0),p.child}function nw(h){var p=h.stateNode;p.pendingContext?gn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&gn(h,p.context,!1),Gv(h,p.containerInfo)}function rw(h,p,_,A,b){return Ic(),zv(b),p.flags|=256,Ti(h,p,_,A),p.child}var D3={dehydrated:null,treeContext:null,retryLane:0};function B3(h){return{baseLanes:h,cachePool:null}}function iw(h,p,_){var A=p.pendingProps,b=er.current,B=!1,te=(p.flags&128)!==0,he;if((he=te)||(he=h!==null&&h.memoizedState===null?!1:(b&2)!==0),he?(B=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(b|=1),Lt(er,b&1),h===null)return Ov(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?$(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(b=A.children,h=A.fallback,B?(A=p.mode,B=p.child,b={mode:"hidden",children:b},!(A&1)&&B!==null?(B.childLanes=0,B.pendingProps=b):B=q3(b,A,0,null),h=vu(h,A,_,null),B.return=p,h.return=p,B.sibling=h,p.child=B,p.child.memoizedState=B3(_),p.memoizedState=D3,h):t5(p,b));if(b=h.memoizedState,b!==null){if(he=b.dehydrated,he!==null){if(te)return p.flags&256?(p.flags&=-257,I3(h,p,_,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(B=A.fallback,b=p.mode,A=q3({mode:"visible",children:A.children},b,0,null),B=vu(B,b,_,null),B.flags|=2,A.return=p,B.return=p,A.sibling=B,p.child=A,p.mode&1&&Lc(p,h.child,null,_),p.child.memoizedState=B3(_),p.memoizedState=D3,B);if(!(p.mode&1))p=I3(h,p,_,null);else if($(he))p=I3(h,p,_,Error(o(419)));else if(A=(_&h.childLanes)!==0,cs||A){if(A=Mr,A!==null){switch(_&-_){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}A=B&(A.suspendedLanes|_)?0:B,A!==0&&A!==b.retryLane&&(b.retryLane=A,Is(h,A,-1))}w5(),p=I3(h,p,_,Error(o(421)))}else un(he)?(p.flags|=128,p.child=h.child,p=uF.bind(null,h),Ae(he,p),p=null):(_=b.treeContext,xe&&(us=St(he),ls=p,Zn=!0,to=null,Zh=!1,_!==null&&(Ps[Rs++]=da,Ps[Rs++]=pa,Ps[Rs++]=uu,da=_.id,pa=_.overflow,uu=p)),p=t5(p,p.pendingProps.children),p.flags|=4096);return p}return B?(A=ow(h,p,A.children,A.fallback,_),B=p.child,b=h.child.memoizedState,B.memoizedState=b===null?B3(_):{baseLanes:b.baseLanes|_,cachePool:null},B.childLanes=h.childLanes&~_,p.memoizedState=D3,A):(_=sw(h,p,A.children,_),p.memoizedState=null,_)}return B?(A=ow(h,p,A.children,A.fallback,_),B=p.child,b=h.child.memoizedState,B.memoizedState=b===null?B3(_):{baseLanes:b.baseLanes|_,cachePool:null},B.childLanes=h.childLanes&~_,p.memoizedState=D3,A):(_=sw(h,p,A.children,_),p.memoizedState=null,_)}function t5(h,p){return p=q3({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function sw(h,p,_,A){var b=h.child;return h=b.sibling,_=al(b,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=A),_.return=p,_.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=_}function ow(h,p,_,A,b){var B=p.mode;h=h.child;var te=h.sibling,he={mode:"hidden",children:_};return!(B&1)&&p.child!==h?(_=p.child,_.childLanes=0,_.pendingProps=he,p.deletions=null):(_=al(h,he),_.subtreeFlags=h.subtreeFlags&14680064),te!==null?A=al(te,A):(A=vu(A,B,b,null),A.flags|=2),A.return=p,_.return=p,_.sibling=A,p.child=_,A}function I3(h,p,_,A){return A!==null&&zv(A),Lc(p,h.child,null,_),h=t5(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function aw(h,p,_){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),Ei(h.return,p,_)}function n5(h,p,_,A,b){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:_,tailMode:b}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=A,B.tail=_,B.tailMode=b)}function lw(h,p,_){var A=p.pendingProps,b=A.revealOrder,B=A.tail;if(Ti(h,p,A.children,_),A=er.current,A&2)A=A&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&aw(h,_,p);else if(h.tag===19)aw(h,_,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Lt(er,A),!(p.mode&1))p.memoizedState=null;else switch(b){case"forwards":for(_=p.child,b=null;_!==null;)h=_.alternate,h!==null&&w3(h)===null&&(b=_),_=_.sibling;_=b,_===null?(b=p.child,p.child=null):(b=_.sibling,_.sibling=null),n5(p,!1,b,_,B);break;case"backwards":for(_=null,b=p.child,p.child=null;b!==null;){if(h=b.alternate,h!==null&&w3(h)===null){p.child=b;break}h=b.sibling,b.sibling=_,_=b,b=h}n5(p,!0,_,null,B);break;case"together":n5(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ga(h,p,_){if(h!==null&&(p.dependencies=h.dependencies),Oc|=p.lanes,!(_&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,_=al(h,h.pendingProps),p.child=_,_.return=p;h.sibling!==null;)h=h.sibling,_=_.sibling=al(h,h.pendingProps),_.return=p;_.sibling=null}return p.child}function QL(h,p,_){switch(p.tag){case 3:nw(p),Ic();break;case 5:AS(p);break;case 1:Yn(p.type)&&xn(p);break;case 4:Gv(p,p.stateNode.containerInfo);break;case 10:p3(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(Lt(er,er.current&1),p.flags|=128,null):_&p.child.childLanes?iw(h,p,_):(Lt(er,er.current&1),h=ga(h,p,_),h!==null?h.sibling:null);Lt(er,er.current&1);break;case 19:if(A=(_&p.childLanes)!==0,h.flags&128){if(A)return lw(h,p,_);p.flags|=128}var b=p.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Lt(er,er.current),A)break;return null;case 22:case 23:return p.lanes=0,$S(h,p,_)}return ga(h,p,_)}function qL(h,p){switch(Uv(p),p.tag){case 1:return Yn(p.type)&&Kn(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return kc(),Mt(zt),Mt(mn),Wv(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return Hv(p),null;case 13:if(Mt(er),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Ic()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Mt(er),null;case 4:return kc(),null;case 10:return Gr(p.type._context),null;case 22:case 23:return S5(),null;case 24:return null;default:return null}}var L3=!1,hu=!1,$L=typeof WeakSet=="function"?WeakSet:Set,ft=null;function F3(h,p){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(A){ji(h,p,A)}else _.current=null}function r5(h,p,_){try{_()}catch(A){ji(h,p,A)}}var uw=!1;function eF(h,p){for(W(h.containerInfo),ft=p;ft!==null;)if(h=ft,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,ft=p;else for(;ft!==null;){h=ft;try{var _=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var A=_.memoizedProps,b=_.memoizedState,B=h.stateNode,te=B.getSnapshotBeforeUpdate(h.elementType===h.type?A:Ai(h.type,A),b);B.__reactInternalSnapshotBeforeUpdate=te}break;case 3:_e&&it(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){ji(h,h.return,he)}if(p=h.sibling,p!==null){p.return=h.return,ft=p;break}ft=h.return}return _=uw,uw=!1,_}function du(h,p,_){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var b=A=A.next;do{if((b.tag&h)===h){var B=b.destroy;b.destroy=void 0,B!==void 0&&r5(p,_,B)}b=b.next}while(b!==A)}}function ld(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&h)===h){var A=_.create;_.destroy=A()}_=_.next}while(_!==p)}}function i5(h){var p=h.ref;if(p!==null){var _=h.stateNode;switch(h.tag){case 5:h=H(_);break;default:h=_}typeof p=="function"?p(h):p.current=h}}function cw(h,p,_){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(su,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var b=A,B=b.destroy;b=b.tag,B!==void 0&&(b&2||b&4)&&r5(p,_,B),A=A.next}while(A!==h)}break;case 1:if(F3(p,_),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(te){ji(p,_,te)}break;case 5:F3(p,_);break;case 4:_e?gw(h,p,_):ie&&ie&&(p=p.stateNode.containerInfo,_=Kt(p),jt(p,_))}}function fw(h,p,_){for(var A=p;;)if(cw(h,A,_),A.child===null||_e&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function hw(h){var p=h.alternate;p!==null&&(h.alternate=null,hw(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&He(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function dw(h){return h.tag===5||h.tag===3||h.tag===4}function pw(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||dw(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function mw(h){if(_e){e:{for(var p=h.return;p!==null;){if(dw(p))break e;p=p.return}throw Error(o(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(Re(p),_.flags&=-33),_=pw(h),o5(h,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=pw(h),s5(h,_,p);break;default:throw Error(o(161))}}}function s5(h,p,_){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?je(_,h,p):Ze(_,h);else if(A!==4&&(h=h.child,h!==null))for(s5(h,p,_),h=h.sibling;h!==null;)s5(h,p,_),h=h.sibling}function o5(h,p,_){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?st(_,h,p):ze(_,h);else if(A!==4&&(h=h.child,h!==null))for(o5(h,p,_),h=h.sibling;h!==null;)o5(h,p,_),h=h.sibling}function gw(h,p,_){for(var A=p,b=!1,B,te;;){if(!b){b=A.return;e:for(;;){if(b===null)throw Error(o(160));switch(B=b.stateNode,b.tag){case 5:te=!1;break e;case 3:B=B.containerInfo,te=!0;break e;case 4:B=B.containerInfo,te=!0;break e}b=b.return}b=!0}if(A.tag===5||A.tag===6)fw(h,A,_),te?ae(B,A.stateNode):Xe(B,A.stateNode);else if(A.tag===18)te?Je(B,A.stateNode):Ke(B,A.stateNode);else if(A.tag===4){if(A.child!==null){B=A.stateNode.containerInfo,te=!0,A.child.return=A,A=A.child;continue}}else if(cw(h,A,_),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(b=!1)}A.sibling.return=A.return,A=A.sibling}}function a5(h,p){if(_e){switch(p.tag){case 0:case 11:case 14:case 15:du(3,p,p.return),ld(3,p),du(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var b=p.type,B=p.updateQueue;p.updateQueue=null,B!==null&&Qe(_,B,b,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));_=p.memoizedProps,Ie(p.stateNode,h!==null?h.memoizedProps:_,_);return;case 3:xe&&h!==null&&h.memoizedState.isDehydrated&&we(p.stateNode.containerInfo);return;case 12:return;case 13:k3(p);return;case 19:k3(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:du(3,p,p.return),ld(3,p),du(5,p,p.return);return;case 12:return;case 13:k3(p);return;case 19:k3(p);return;case 3:xe&&h!==null&&h.memoizedState.isDehydrated&&we(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ie){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,jt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function k3(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new $L),p.forEach(function(A){var b=cF.bind(null,h,A);_.has(A)||(_.add(A),A.then(b,b))})}}function tF(h,p){for(ft=p;ft!==null;){p=ft;var _=p.deletions;if(_!==null)for(var A=0;A<_.length;A++){var b=_[A];try{var B=h;_e?gw(B,b,p):fw(B,b,p);var te=b.alternate;te!==null&&(te.return=null),b.return=null}catch(At){ji(b,p,At)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,ft=_;else for(;ft!==null;){p=ft;try{var he=p.flags;if(he&32&&_e&&Re(p.stateNode),he&512){var Ue=p.alternate;if(Ue!==null){var ot=Ue.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(he&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var xt=p.alternate;(xt===null||xt.memoizedState===null)&&(p5=$n())}break;case 22:var Jt=p.memoizedState!==null,Bt=p.alternate,Ln=Bt!==null&&Bt.memoizedState!==null;if(_=p,_e){e:if(A=_,b=Jt,B=null,_e)for(var Et=A;;){if(Et.tag===5){if(B===null){B=Et;var ui=Et.stateNode;b?$e(ui):ce(Et.stateNode,Et.memoizedProps)}}else if(Et.tag===6){if(B===null){var Fs=Et.stateNode;b?ne(Fs):Ne(Fs,Et.memoizedProps)}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===A)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===A)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===A)break e;B===Et&&(B=null),Et=Et.return}B===Et&&(B=null),Et.sibling.return=Et.return,Et=Et.sibling}}if(Jt&&!Ln&&_.mode&1){ft=_;for(var be=_.child;be!==null;){for(_=ft=be;ft!==null;){A=ft;var ge=A.child;switch(A.tag){case 0:case 11:case 14:case 15:du(4,A,A.return);break;case 1:F3(A,A.return);var ke=A.stateNode;if(typeof ke.componentWillUnmount=="function"){var mt=A.return;try{ke.props=A.memoizedProps,ke.state=A.memoizedState,ke.componentWillUnmount()}catch(At){ji(A,mt,At)}}break;case 5:F3(A,A.return);break;case 22:if(A.memoizedState!==null){xw(_);continue}}ge!==null?(ge.return=A,ft=ge):xw(_)}be=be.sibling}}}switch(he&4102){case 2:mw(p),p.flags&=-3;break;case 6:mw(p),p.flags&=-3,a5(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,a5(p.alternate,p);break;case 4:a5(p.alternate,p)}}catch(At){ji(p,p.return,At)}if(_=p.sibling,_!==null){_.return=p.return,ft=_;break}ft=p.return}}}function nF(h,p,_){ft=h,vw(h)}function vw(h,p,_){for(var A=(h.mode&1)!==0;ft!==null;){var b=ft,B=b.child;if(b.tag===22&&A){var te=b.memoizedState!==null||L3;if(!te){var he=b.alternate,Ue=he!==null&&he.memoizedState!==null||hu;he=L3;var ot=hu;if(L3=te,(hu=Ue)&&!ot)for(ft=b;ft!==null;)te=ft,Ue=te.child,te.tag===22&&te.memoizedState!==null?Sw(b):Ue!==null?(Ue.return=te,ft=Ue):Sw(b);for(;B!==null;)ft=B,vw(B),B=B.sibling;ft=b,L3=he,hu=ot}yw(h)}else b.subtreeFlags&8772&&B!==null?(B.return=b,ft=B):yw(h)}}function yw(h){for(;ft!==null;){var p=ft;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:hu||ld(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!hu)if(_===null)A.componentDidMount();else{var b=p.elementType===p.type?_.memoizedProps:Ai(p.type,_.memoizedProps);A.componentDidUpdate(b,_.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&hS(p,B,A);break;case 3:var te=p.updateQueue;if(te!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=H(p.child.stateNode);break;case 1:_=p.child.stateNode}hS(p,te,_)}break;case 5:var he=p.stateNode;_===null&&p.flags&4&&at(he,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&p.memoizedState===null){var Ue=p.alternate;if(Ue!==null){var ot=Ue.memoizedState;if(ot!==null){var xt=ot.dehydrated;xt!==null&&Me(xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}hu||p.flags&512&&i5(p)}catch(Jt){ji(p,p.return,Jt)}}if(p===h){ft=null;break}if(_=p.sibling,_!==null){_.return=p.return,ft=_;break}ft=p.return}}function xw(h){for(;ft!==null;){var p=ft;if(p===h){ft=null;break}var _=p.sibling;if(_!==null){_.return=p.return,ft=_;break}ft=p.return}}function Sw(h){for(;ft!==null;){var p=ft;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{ld(4,p)}catch(Ue){ji(p,_,Ue)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var b=p.return;try{A.componentDidMount()}catch(Ue){ji(p,b,Ue)}}var B=p.return;try{i5(p)}catch(Ue){ji(p,B,Ue)}break;case 5:var te=p.return;try{i5(p)}catch(Ue){ji(p,te,Ue)}}}catch(Ue){ji(p,p.return,Ue)}if(p===h){ft=null;break}var he=p.sibling;if(he!==null){he.return=p.return,ft=he;break}ft=p.return}}var U3=0,N3=1,O3=2,z3=3,G3=4;if(typeof Symbol=="function"&&Symbol.for){var ud=Symbol.for;U3=ud("selector.component"),N3=ud("selector.has_pseudo_class"),O3=ud("selector.role"),z3=ud("selector.test_id"),G3=ud("selector.text")}function l5(h){var p=Le(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=De(h),h===null)throw Error(o(362));return h.stateNode.current}function u5(h,p){switch(p.$$typeof){case U3:if(h.type===p.value)return!0;break;case N3:e:{p=p.value,h=[h,0];for(var _=0;_<h.length;){var A=h[_++],b=h[_++],B=p[b];if(A.tag!==5||!ue(A)){for(;B!=null&&u5(A,B);)b++,B=p[b];if(b===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,b),A=A.sibling}}p=!1}return p;case O3:if(h.tag===5&&Se(h.stateNode,p.value))return!0;break;case G3:if((h.tag===5||h.tag===6)&&(h=O(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case z3:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function c5(h){switch(h.$$typeof){case U3:return"<"+(P(h.value)||"Unknown")+">";case N3:return":has("+(c5(h)||"")+")";case O3:return'[role="'+h.value+'"]';case G3:return'"'+h.value+'"';case z3:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function ww(h,p){var _=[];h=[h,0];for(var A=0;A<h.length;){var b=h[A++],B=h[A++],te=p[B];if(b.tag!==5||!ue(b)){for(;te!=null&&u5(b,te);)B++,te=p[B];if(B===p.length)_.push(b);else for(b=b.child;b!==null;)h.push(b,B),b=b.sibling}}return _}function f5(h,p){if(!We)throw Error(o(363));h=l5(h),h=ww(h,p),p=[],h=Array.from(h);for(var _=0;_<h.length;){var A=h[_++];if(A.tag===5)ue(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var rF=Math.ceil,H3=a.ReactCurrentDispatcher,h5=a.ReactCurrentOwner,xr=a.ReactCurrentBatchConfig,rn=0,Mr=null,Ar=null,Qr=0,fs=0,Nc=Tt(0),Br=0,cd=null,Oc=0,V3=0,d5=0,fd=null,Vi=null,p5=0,m5=1/0;function zc(){m5=$n()+500}var W3=!1,g5=null,rl=null,j3=!1,il=null,X3=0,hd=0,v5=null,J3=-1,Y3=0;function Ci(){return rn&6?$n():J3!==-1?J3:J3=$n()}function sl(h){return h.mode&1?rn&2&&Qr!==0?Qr&-Qr:ou.transition!==null?(Y3===0&&(h=aa,aa<<=1,!(aa&4194240)&&(aa=64),Y3=h),Y3):(h=an,h!==0?h:Be()):1}function Is(h,p,_){if(50<hd)throw hd=0,v5=null,Error(o(185));var A=K3(h,p);return A===null?null:(Io(A,p,_),(!(rn&2)||A!==Mr)&&(A===Mr&&(!(rn&2)&&(V3|=p),Br===4&&ol(A,Qr)),Wi(A,_),p===1&&rn===0&&!(h.mode&1)&&(zc(),Fo&&Hi())),A)}function K3(h,p){h.lanes|=p;var _=h.alternate;for(_!==null&&(_.lanes|=p),_=h,h=h.return;h!==null;)h.childLanes|=p,_=h.alternate,_!==null&&(_.childLanes|=p),_=h,h=h.return;return _.tag===3?_.stateNode:null}function Wi(h,p){var _=h.callbackNode;Vh(h,p);var A=ru(h,h===Mr?Qr:0);if(A===0)_!==null&&bc(_),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(_!=null&&bc(_),p===1)h.tag===0?Kh(Mw.bind(null,h)):Yh(Mw.bind(null,h)),Te?Ye(function(){rn===0&&Hi()}):fa(iu,Hi),_=null;else{switch(Wh(A)){case 1:_=iu;break;case 4:_=h3;break;case 16:_=_i;break;case 536870912:_=Xh;break;default:_=_i}_=Bw(_,_w.bind(null,h))}h.callbackPriority=p,h.callbackNode=_}}function _w(h,p){if(J3=-1,Y3=0,rn&6)throw Error(o(327));var _=h.callbackNode;if(gu()&&h.callbackNode!==_)return null;var A=ru(h,h===Mr?Qr:0);if(A===0)return null;if(A&30||A&h.expiredLanes||p)p=Z3(h,A);else{p=A;var b=rn;rn|=2;var B=Tw();(Mr!==h||Qr!==p)&&(zc(),pu(h,p));do try{oF();break}catch(he){Ew(h,he)}while(1);Rc(),H3.current=B,rn=b,Ar!==null?p=0:(Mr=null,Qr=0,p=Br)}if(p!==0){if(p===2&&(b=ca(h),b!==0&&(A=b,p=y5(h,b))),p===1)throw _=cd,pu(h,0),ol(h,A),Wi(h,$n()),_;if(p===6)ol(h,A);else{if(b=h.current.alternate,!(A&30)&&!iF(b)&&(p=Z3(h,A),p===2&&(B=ca(h),B!==0&&(A=B,p=y5(h,B))),p===1))throw _=cd,pu(h,0),ol(h,A),Wi(h,$n()),_;switch(h.finishedWork=b,h.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:mu(h,Vi);break;case 3:if(ol(h,A),(A&130023424)===A&&(p=p5+500-$n(),10<p)){if(ru(h,0)!==0)break;if(b=h.suspendedLanes,(b&A)!==A){Ci(),h.pingedLanes|=h.suspendedLanes&b;break}h.timeoutHandle=le(mu.bind(null,h,Vi),p);break}mu(h,Vi);break;case 4:if(ol(h,A),(A&4194240)===A)break;for(p=h.eventTimes,b=-1;0<A;){var te=31-Nn(A);B=1<<te,te=p[te],te>b&&(b=te),A&=~B}if(A=b,A=$n()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*rF(A/1960))-A,10<A){h.timeoutHandle=le(mu.bind(null,h,Vi),A);break}mu(h,Vi);break;case 5:mu(h,Vi);break;default:throw Error(o(329))}}}return Wi(h,$n()),h.callbackNode===_?_w.bind(null,h):null}function y5(h,p){var _=fd;return h.current.memoizedState.isDehydrated&&(pu(h,p).flags|=256),h=Z3(h,p),h!==2&&(p=Vi,Vi=_,p!==null&&x5(p)),h}function x5(h){Vi===null?Vi=h:Vi.push.apply(Vi,h)}function iF(h){for(var p=h;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var A=0;A<_.length;A++){var b=_[A],B=b.getSnapshot;b=b.value;try{if(!os(B(),b))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ol(h,p){for(p&=~d5,p&=~V3,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var _=31-Nn(p),A=1<<_;h[_]=-1,p&=~A}}function Mw(h){if(rn&6)throw Error(o(327));gu();var p=ru(h,0);if(!(p&1))return Wi(h,$n()),null;var _=Z3(h,p);if(h.tag!==0&&_===2){var A=ca(h);A!==0&&(p=A,_=y5(h,A))}if(_===1)throw _=cd,pu(h,0),ol(h,p),Wi(h,$n()),_;if(_===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,mu(h,Vi),Wi(h,$n()),null}function Aw(h){il!==null&&il.tag===0&&!(rn&6)&&gu();var p=rn;rn|=1;var _=xr.transition,A=an;try{if(xr.transition=null,an=1,h)return h()}finally{an=A,xr.transition=_,rn=p,!(rn&6)&&Hi()}}function S5(){fs=Nc.current,Mt(Nc)}function pu(h,p){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==me&&(h.timeoutHandle=me,re(_)),Ar!==null)for(_=Ar.return;_!==null;){var A=_;switch(Uv(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Kn();break;case 3:kc(),Mt(zt),Mt(mn),Wv();break;case 5:Hv(A);break;case 4:kc();break;case 13:Mt(er);break;case 19:Mt(er);break;case 10:Gr(A.type._context);break;case 22:case 23:S5()}_=_.return}if(Mr=h,Ar=h=al(h.current,null),Qr=fs=p,Br=0,cd=null,d5=V3=Oc=0,Vi=fd=null,as!==null){for(p=0;p<as.length;p++)if(_=as[p],A=_.interleaved,A!==null){_.interleaved=null;var b=A.next,B=_.pending;if(B!==null){var te=B.next;B.next=b,A.next=te}_.pending=A}as=null}return h}function Ew(h,p){do{var _=Ar;try{if(Rc(),_3.current=b3,M3){for(var A=ur.memoizedState;A!==null;){var b=A.queue;b!==null&&(b.pending=null),A=A.next}M3=!1}if(Uc=0,Hr=oi=ur=null,td=!1,nd=0,h5.current=null,_===null||_.return===null){Br=1,cd=p,Ar=null;break}e:{var B=h,te=_.return,he=_,Ue=p;if(p=Qr,he.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var ot=Ue,xt=he,Jt=xt.tag;if(!(xt.mode&1)&&(Jt===0||Jt===11||Jt===15)){var Bt=xt.alternate;Bt?(xt.updateQueue=Bt.updateQueue,xt.memoizedState=Bt.memoizedState,xt.lanes=Bt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Ln=XS(te);if(Ln!==null){Ln.flags&=-257,JS(Ln,te,he,B,p),Ln.mode&1&&jS(B,ot,p),p=Ln,Ue=ot;var Et=p.updateQueue;if(Et===null){var ui=new Set;ui.add(Ue),p.updateQueue=ui}else Et.add(Ue);break e}else{if(!(p&1)){jS(B,ot,p),w5();break e}Ue=Error(o(426))}}else if(Zn&&he.mode&1){var Fs=XS(te);if(Fs!==null){!(Fs.flags&65536)&&(Fs.flags|=256),JS(Fs,te,he,B,p),zv(Ue);break e}}B=Ue,Br!==4&&(Br=2),fd===null?fd=[B]:fd.push(B),Ue=Qv(Ue,he),he=te;do{switch(he.tag){case 3:he.flags|=65536,p&=-p,he.lanes|=p;var be=VS(he,Ue,p);fS(he,be);break e;case 1:B=Ue;var ge=he.type,ke=he.stateNode;if(!(he.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(rl===null||!rl.has(ke)))){he.flags|=65536,p&=-p,he.lanes|=p;var mt=WS(he,B,p);fS(he,mt);break e}}he=he.return}while(he!==null)}bw(_)}catch(At){p=At,Ar===_&&_!==null&&(Ar=_=_.return);continue}break}while(1)}function Tw(){var h=H3.current;return H3.current=b3,h===null?b3:h}function w5(){(Br===0||Br===3||Br===2)&&(Br=4),Mr===null||!(Oc&268435455)&&!(V3&268435455)||ol(Mr,Qr)}function Z3(h,p){var _=rn;rn|=2;var A=Tw();Mr===h&&Qr===p||pu(h,p);do try{sF();break}catch(b){Ew(h,b)}while(1);if(Rc(),rn=_,H3.current=A,Ar!==null)throw Error(o(261));return Mr=null,Qr=0,Br}function sF(){for(;Ar!==null;)Cw(Ar)}function oF(){for(;Ar!==null&&!jh();)Cw(Ar)}function Cw(h){var p=Dw(h.alternate,h,fs);h.memoizedProps=h.pendingProps,p===null?bw(h):Ar=p,h5.current=null}function bw(h){var p=h;do{var _=p.alternate;if(h=p.return,p.flags&32768){if(_=qL(_,p),_!==null){_.flags&=32767,Ar=_;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Br=6,Ar=null;return}}else if(_=KL(_,p,fs),_!==null){Ar=_;return}if(p=p.sibling,p!==null){Ar=p;return}Ar=p=h}while(p!==null);Br===0&&(Br=5)}function mu(h,p){var _=an,A=xr.transition;try{xr.transition=null,an=1,aF(h,p,_)}finally{xr.transition=A,an=_}return null}function aF(h,p,_){do gu();while(il!==null);if(rn&6)throw Error(o(327));var A=h.finishedWork,b=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var B=A.lanes|A.childLanes;if($a(h,B),h===Mr&&(Ar=Mr=null,Qr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||j3||(j3=!0,Bw(_i,function(){return gu(),null})),B=(A.flags&15990)!==0,A.subtreeFlags&15990||B){B=xr.transition,xr.transition=null;var te=an;an=1;var he=rn;rn|=4,h5.current=null,eF(h,A),tF(h,A),Z(h.containerInfo),h.current=A,nF(A),f3(),rn=he,an=te,xr.transition=B}else h.current=A;if(j3&&(j3=!1,il=h,X3=b),B=h.pendingLanes,B===0&&(rl=null),Jh(A.stateNode),Wi(h,$n()),p!==null)for(_=h.onRecoverableError,A=0;A<p.length;A++)_(p[A]);if(W3)throw W3=!1,h=g5,g5=null,h;return X3&1&&h.tag!==0&&gu(),B=h.pendingLanes,B&1?h===v5?hd++:(hd=0,v5=h):hd=0,Hi(),null}function gu(){if(il!==null){var h=Wh(X3),p=xr.transition,_=an;try{if(xr.transition=null,an=16>h?16:h,il===null)var A=!1;else{if(h=il,il=null,X3=0,rn&6)throw Error(o(331));var b=rn;for(rn|=4,ft=h.current;ft!==null;){var B=ft,te=B.child;if(ft.flags&16){var he=B.deletions;if(he!==null){for(var Ue=0;Ue<he.length;Ue++){var ot=he[Ue];for(ft=ot;ft!==null;){var xt=ft;switch(xt.tag){case 0:case 11:case 15:du(8,xt,B)}var Jt=xt.child;if(Jt!==null)Jt.return=xt,ft=Jt;else for(;ft!==null;){xt=ft;var Bt=xt.sibling,Ln=xt.return;if(hw(xt),xt===ot){ft=null;break}if(Bt!==null){Bt.return=Ln,ft=Bt;break}ft=Ln}}}var Et=B.alternate;if(Et!==null){var ui=Et.child;if(ui!==null){Et.child=null;do{var Fs=ui.sibling;ui.sibling=null,ui=Fs}while(ui!==null)}}ft=B}}if(B.subtreeFlags&2064&&te!==null)te.return=B,ft=te;else e:for(;ft!==null;){if(B=ft,B.flags&2048)switch(B.tag){case 0:case 11:case 15:du(9,B,B.return)}var be=B.sibling;if(be!==null){be.return=B.return,ft=be;break e}ft=B.return}}var ge=h.current;for(ft=ge;ft!==null;){te=ft;var ke=te.child;if(te.subtreeFlags&2064&&ke!==null)ke.return=te,ft=ke;else e:for(te=ge;ft!==null;){if(he=ft,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:ld(9,he)}}catch(At){ji(he,he.return,At)}if(he===te){ft=null;break e}var mt=he.sibling;if(mt!==null){mt.return=he.return,ft=mt;break e}ft=he.return}}if(rn=b,Hi(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(su,h)}catch{}A=!0}return A}finally{an=_,xr.transition=p}}return!1}function Pw(h,p,_){p=Qv(_,p),p=VS(h,p,1),nl(h,p),p=Ci(),h=K3(h,1),h!==null&&(Io(h,1,p),Wi(h,p))}function ji(h,p,_){if(h.tag===3)Pw(h,h,_);else for(;p!==null;){if(p.tag===3){Pw(p,h,_);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(rl===null||!rl.has(A))){h=Qv(_,h),h=WS(p,h,1),nl(p,h),h=Ci(),p=K3(p,1),p!==null&&(Io(p,1,h),Wi(p,h));break}}p=p.return}}function lF(h,p,_){var A=h.pingCache;A!==null&&A.delete(p),p=Ci(),h.pingedLanes|=h.suspendedLanes&_,Mr===h&&(Qr&_)===_&&(Br===4||Br===3&&(Qr&130023424)===Qr&&500>$n()-p5?pu(h,0):d5|=_),Wi(h,p)}function Rw(h,p){p===0&&(h.mode&1?(p=la,la<<=1,!(la&130023424)&&(la=4194304)):p=1);var _=Ci();h=K3(h,p),h!==null&&(Io(h,p,_),Wi(h,_))}function uF(h){var p=h.memoizedState,_=0;p!==null&&(_=p.retryLane),Rw(h,_)}function cF(h,p){var _=0;switch(h.tag){case 13:var A=h.stateNode,b=h.memoizedState;b!==null&&(_=b.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),Rw(h,_)}var Dw;Dw=function(h,p,_){if(h!==null)if(h.memoizedProps!==p.pendingProps||zt.current)cs=!0;else{if(!(h.lanes&_)&&!(p.flags&128))return cs=!1,QL(h,p,_);cs=!!(h.flags&131072)}else cs=!1,Zn&&p.flags&1048576&&vS(p,x3,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var b=lr(p,mn.current);vr(p,_),b=Xv(null,p,A,h,b,_);var B=Jv();return p.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Yn(A)?(B=!0,xn(p)):B=!1,p.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Iv(p),b.updater=v3,p.stateNode=b,b._reactInternals=p,Fv(p,A,h,_),p=e5(null,p,A,!0,B,_)):(p.tag=0,Zn&&B&&kv(p),Ti(null,p,b,_),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,b=A._init,A=b(A._payload),p.type=A,b=p.tag=hF(A),h=Ai(A,h),b){case 0:p=$v(null,p,A,h,_);break e;case 1:p=tw(null,p,A,h,_);break e;case 11:p=ZS(null,p,A,h,_);break e;case 14:p=QS(null,p,A,Ai(A.type,h),_);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),$v(h,p,A,b,_);case 1:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),tw(h,p,A,b,_);case 3:e:{if(nw(p),h===null)throw Error(o(387));A=p.pendingProps,B=p.memoizedState,b=B.element,cS(h,p),g3(p,A,null,_);var te=p.memoizedState;if(A=te.element,xe&&B.isDehydrated)if(B={element:A,isDehydrated:!1,cache:te.cache,transitions:te.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){b=Error(o(423)),p=rw(h,p,A,_,b);break e}else if(A!==b){b=Error(o(424)),p=rw(h,p,A,_,b);break e}else for(xe&&(us=Fe(p.stateNode.containerInfo),ls=p,Zn=!0,to=null,Zh=!1),_=MS(p,null,A,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ic(),A===b){p=ga(h,p,_);break e}Ti(h,p,A,_)}p=p.child}return p;case 5:return AS(p),h===null&&Ov(p),A=p.type,b=p.pendingProps,B=h!==null?h.memoizedProps:null,te=b.children,X(A,b)?te=null:B!==null&&X(A,B)&&(p.flags|=32),ew(h,p),Ti(h,p,te,_),p.child;case 6:return h===null&&Ov(p),null;case 13:return iw(h,p,_);case 4:return Gv(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Lc(p,null,A,_):Ti(h,p,A,_),p.child;case 11:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),ZS(h,p,A,b,_);case 7:return Ti(h,p,p.pendingProps,_),p.child;case 8:return Ti(h,p,p.pendingProps.children,_),p.child;case 12:return Ti(h,p,p.pendingProps.children,_),p.child;case 10:e:{if(A=p.type._context,b=p.pendingProps,B=p.memoizedProps,te=b.value,p3(p,A,te),B!==null)if(os(B.value,te)){if(B.children===b.children&&!zt.current){p=ga(h,p,_);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var he=B.dependencies;if(he!==null){te=B.child;for(var Ue=he.firstContext;Ue!==null;){if(Ue.context===A){if(B.tag===1){Ue=ha(-1,_&-_),Ue.tag=2;var ot=B.updateQueue;if(ot!==null){ot=ot.shared;var xt=ot.pending;xt===null?Ue.next=Ue:(Ue.next=xt.next,xt.next=Ue),ot.pending=Ue}}B.lanes|=_,Ue=B.alternate,Ue!==null&&(Ue.lanes|=_),Ei(B.return,_,p),he.lanes|=_;break}Ue=Ue.next}}else if(B.tag===10)te=B.type===p.type?null:B.child;else if(B.tag===18){if(te=B.return,te===null)throw Error(o(341));te.lanes|=_,he=te.alternate,he!==null&&(he.lanes|=_),Ei(te,_,p),te=B.sibling}else te=B.child;if(te!==null)te.return=B;else for(te=B;te!==null;){if(te===p){te=null;break}if(B=te.sibling,B!==null){B.return=te.return,te=B;break}te=te.return}B=te}Ti(h,p,b.children,_),p=p.child}return p;case 9:return b=p.type,A=p.pendingProps.children,vr(p,_),b=yr(b),A=A(b),p.flags|=1,Ti(h,p,A,_),p.child;case 14:return A=p.type,b=Ai(A,p.pendingProps),b=Ai(A.type,b),QS(h,p,A,b,_);case 15:return qS(h,p,p.type,p.pendingProps,_);case 17:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Yn(A)?(h=!0,xn(p)):h=!1,vr(p,_),mS(p,A,b),Fv(p,A,b,_),e5(null,p,A,!0,h,_);case 19:return lw(h,p,_);case 22:return $S(h,p,_)}throw Error(o(156,p.tag))};function Bw(h,p){return fa(h,p)}function fF(h,p,_,A){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(h,p,_,A){return new fF(h,p,_,A)}function _5(h){return h=h.prototype,!(!h||!h.isReactComponent)}function hF(h){if(typeof h=="function")return _5(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===S)return 14}return 2}function al(h,p){var _=h.alternate;return _===null?(_=Ls(h.tag,p,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=p,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&14680064,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,p=h.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function Q3(h,p,_,A,b,B){var te=2;if(A=h,typeof h=="function")_5(h)&&(te=1);else if(typeof h=="string")te=5;else e:switch(h){case c:return vu(_.children,b,B,p);case f:te=8,b|=8;break;case d:return h=Ls(12,_,p,b|2),h.elementType=d,h.lanes=B,h;case y:return h=Ls(13,_,p,b),h.elementType=y,h.lanes=B,h;case w:return h=Ls(19,_,p,b),h.elementType=w,h.lanes=B,h;case M:return q3(_,b,B,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:te=10;break e;case g:te=9;break e;case v:te=11;break e;case S:te=14;break e;case x:te=16,A=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=Ls(te,_,p,b),p.elementType=h,p.type=A,p.lanes=B,p}function vu(h,p,_,A){return h=Ls(7,h,A,p),h.lanes=_,h}function q3(h,p,_,A){return h=Ls(22,h,A,p),h.elementType=M,h.lanes=_,h.stateNode={},h}function M5(h,p,_){return h=Ls(6,h,null,p),h.lanes=_,h}function A5(h,p,_){return p=Ls(4,h.children!==null?h.children:[],h.key,p),p.lanes=_,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function dF(h,p,_,A,b){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=A,this.onRecoverableError=b,xe&&(this.mutableSourceEagerHydrationData=null)}function Iw(h,p,_,A,b,B,te,he,Ue){return h=new dF(h,p,_,he,Ue),p===1?(p=1,B===!0&&(p|=8)):p=0,B=Ls(3,null,null,p),h.current=B,B.stateNode=h,B.memoizedState={element:A,isDehydrated:_,cache:null,transitions:null},Iv(B),h}function Lw(h){if(!h)return Ct;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Yn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var _=h.type;if(Yn(_))return qn(h,_,p)}return p}function Fw(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=G(p),h===null?null:h.stateNode}function kw(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<p?_:p}}function E5(h,p){kw(h,p),(h=h.alternate)&&kw(h,p)}function pF(h){return h=G(h),h===null?null:h.stateNode}function mF(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=Ci();Is(h,134217728,p),E5(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Ci(),_=sl(h);Is(h,_,p),E5(h,_)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var _=ua(p.pendingLanes);_!==0&&(Lo(p,_|1),Wi(p,$n()),!(rn&6)&&(zc(),Hi()))}break;case 13:var A=Ci();Aw(function(){return Is(h,1,A)}),E5(h,1)}},n.batchedUpdates=function(h,p){var _=rn;rn|=1;try{return h(p)}finally{rn=_,rn===0&&(zc(),Fo&&Hi())}},n.createComponentSelector=function(h){return{$$typeof:U3,value:h}},n.createContainer=function(h,p,_,A,b,B,te){return Iw(h,p,!1,null,_,A,b,B,te)},n.createHasPseudoClassSelector=function(h){return{$$typeof:N3,value:h}},n.createHydrationContainer=function(h,p,_,A,b,B,te,he,Ue){return h=Iw(_,A,!0,h,b,B,te,he,Ue),h.context=Lw(null),_=h.current,A=Ci(),b=sl(_),B=ha(A,b),B.callback=p??null,nl(_,B),h.current.lanes=b,Io(h,b,A),Wi(h,A),h},n.createPortal=function(h,p,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:h,containerInfo:p,implementation:_}},n.createRoleSelector=function(h){return{$$typeof:O3,value:h}},n.createTestNameSelector=function(h){return{$$typeof:z3,value:h}},n.createTextSelector=function(h){return{$$typeof:G3,value:h}},n.deferredUpdates=function(h){var p=an,_=xr.transition;try{return xr.transition=null,an=16,h()}finally{an=p,xr.transition=_}},n.discreteUpdates=function(h,p,_,A,b){var B=an,te=xr.transition;try{return xr.transition=null,an=1,h(p,_,A,b)}finally{an=B,xr.transition=te,rn===0&&zc()}},n.findAllNodes=f5,n.findBoundingRects=function(h,p){if(!We)throw Error(o(363));p=f5(h,p),h=[];for(var _=0;_<p.length;_++)h.push(Q(p[_]));for(p=h.length-1;0<p;p--){_=h[p];for(var A=_.x,b=A+_.width,B=_.y,te=B+_.height,he=p-1;0<=he;he--)if(p!==he){var Ue=h[he],ot=Ue.x,xt=ot+Ue.width,Jt=Ue.y,Bt=Jt+Ue.height;if(A>=ot&&B>=Jt&&b<=xt&&te<=Bt){h.splice(p,1);break}else if(A!==ot||_.width!==Ue.width||Bt<B||Jt>te){if(!(B!==Jt||_.height!==Ue.height||xt<A||ot>b)){ot>A&&(Ue.width+=ot-A,Ue.x=A),xt<b&&(Ue.width=b-ot),h.splice(p,1);break}}else{Jt>B&&(Ue.height+=Jt-B,Ue.y=B),Bt<te&&(Ue.height=te-Jt),h.splice(p,1);break}}}return h},n.findHostInstance=Fw,n.findHostInstanceWithNoPortals=function(h){return h=U(h),h=h!==null?D(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return Fw(h)},n.flushControlled=function(h){var p=rn;rn|=1;var _=xr.transition,A=an;try{xr.transition=null,an=1,h()}finally{an=A,xr.transition=_,rn=p,rn===0&&(zc(),Hi())}},n.flushPassiveEffects=gu,n.flushSync=Aw,n.focusWithin=function(h,p){if(!We)throw Error(o(363));for(h=l5(h),p=ww(h,p),p=Array.from(p),h=0;h<p.length;){var _=p[h++];if(!ue(_)){if(_.tag===5&&Ge(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return an},n.getFindAllNodesFailureDescription=function(h,p){if(!We)throw Error(o(363));var _=0,A=[];h=[l5(h),0];for(var b=0;b<h.length;){var B=h[b++],te=h[b++],he=p[te];if((B.tag!==5||!ue(B))&&(u5(B,he)&&(A.push(c5(he)),te++,te>_&&(_=te)),te<p.length))for(B=B.child;B!==null;)h.push(B,te),B=B.sibling}if(_<p.length){for(h=[];_<p.length;_++)h.push(c5(p[_]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return H(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:pF,findFiberByHostInstance:h.findFiberByHostInstance||mF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{su=p.inject(h),ss=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,_,A){if(!We)throw Error(o(363));h=f5(h,p);var b=Ve(h,_,A).disconnect;return{disconnect:function(){b()}}},n.registerMutableSourceForHydration=function(h,p){var _=p._getVersion;_=_(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,_]:h.mutableSourceEagerHydrationData.push(p,_)},n.runWithPriority=function(h,p){var _=an;try{return an=h,p()}finally{an=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,_,A){var b=p.current,B=Ci(),te=sl(b);return _=Lw(_),p.context===null?p.context=_:p.pendingContext=_,p=ha(B,te),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),nl(b,p),h=Is(b,te,B),h!==null&&m3(h,b,te),te},n};eI.exports=Bq;var Iq=eI.exports;const Lq=w0(Iq),Fq=t=>typeof t=="object"&&typeof t.then=="function",Ku=[];function rI(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function iI(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Ku)if(rI(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Ku.indexOf(i);s!==-1&&Ku.splice(s,1)},promise:(Fq(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Ku.push(i),!n)throw i.promise}const sI=(t,e,n)=>iI(t,e,!1,n),kq=(t,e,n)=>void iI(t,e,!0,n),Uq=t=>{if(t===void 0||t.length===0)Ku.splice(0,Ku.length);else{const e=Ku.find(n=>rI(t,n.keys,n.equal));e&&e.remove()}},I7={},Tv=t=>void Object.assign(I7,t);function Nq(t,e){function n(c,{args:f=[],attach:d,...m},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;y=df(w,{type:c,root:g,attach:d,primitive:!0})}else{const w=I7[v];if(!w)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=df(new w(...f),{type:c,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Vt?y.__r3f.attach="geometry":y instanceof pr&&(y.__r3f.attach="material")),v!=="inject"&&W6(y,m),y}function r(c,f){let d=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?V6(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||df(f,{}),f.__r3f.parent=c,ky(f),pf(f)}}function i(c,f,d){let m=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)V6(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(S=>S!==f),w=y.indexOf(d);c.children=[...y.slice(0,w),f,...y.slice(w)],m=!0}m||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||df(f,{}),f.__r3f.parent=c,ky(f),pf(f)}}function s(c,f,d=!1){c&&[...c].forEach(m=>o(f,m,d))}function o(c,f,d){if(f){var m,g,v;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)DE(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&jq(f.__r3f.root,f)}const S=(v=f.__r3f)==null?void 0:v.primitive,x=d===void 0?f.dispose!==null&&!S:d;if(!S){var w;s((w=f.__r3f)==null?void 0:w.objects,f,x),s(f.children,f,x)}delete f.__r3f,x&&f.dispose&&f.type!=="Scene"&&Ly.unstable_scheduleCallback(Ly.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),pf(c)}}function a(c,f,d,m){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=n(f,d,c.__r3f.root);if(c.children){for(const w of c.children)w.__r3f&&r(y,w);c.children=c.children.filter(w=>!w.__r3f)}c.__r3f.objects.forEach(w=>r(y,w)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Lq({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const m=c.getState().scene;m.__r3f&&i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,d,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:w,...S}=m,{args:x=[],children:M,...E}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,T)=>P!==x[T]))return[!0];const C=hI(c,S,E,!0);return C.changes.length?[!1,C]:null}},commitUpdate(c,[f,d],m,g,v,y){f?a(c,m,v,y):W6(c,d)},commitMount(c,f,d,m){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>df(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:m}=(f=c.__r3f)!=null?f:{};d&&m&&DE(m,c,d),c.isObject3D&&(c.visible=!1),pf(c)},unhideInstance(c,f){var d;const{attach:m,parent:g}=(d=c.__r3f)!=null?d:{};m&&g&&V6(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),pf(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Lf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vn.fun(performance.now)?performance.now:Vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:W6}}var CE,bE;const H6=t=>"colorSpace"in t||"outputColorSpace"in t,oI=()=>{var t;return(t=I7.ColorManagement)!=null?t:null},aI=t=>t&&t.isOrthographicCamera,Oq=t=>t&&t.hasOwnProperty("current"),Oh=typeof window<"u"&&((CE=window.document)!=null&&CE.createElement||((bE=window.navigator)==null?void 0:bE.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function lI(t){const e=z.useRef(t);return Oh(()=>void(e.current=t),[t]),e}function zq({set:t}){return Oh(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class uI extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}uI.getDerivedStateFromError=()=>({error:!0});const cI="__default",PE=new Map,Gq=t=>t&&!!t.memoized&&!!t.changes;function fI(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Vn={obj:t=>t===Object(t)&&!Vn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Vn.str(t)||Vn.num(t))return t===e;const s=Vn.obj(t);if(s&&r==="reference")return t===e;const o=Vn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Vn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Vn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Hq(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Vq(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function df(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Fy(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const RE=/-\d+$/;function V6(t,e,n){if(Vn.str(n)){if(RE.test(n)){const s=n.replace(RE,""),{target:o,key:a}=Fy(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Fy(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function DE(t,e,n){var r,i;if(Vn.str(n)){const{target:s,key:o}=Fy(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function hI(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},d=Object.entries(i),m=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],cI+"remove"])}d.forEach(([v,y])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&v==="object"||Vn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let S=[];v.includes("-")&&(S=v.split("-")),m.push([v,y,!1,S]);for(const x in i){const M=i[x];x.startsWith(`${v}-`)&&m.push([x,M,!1,x.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}function W6(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Gq(e)?e:hI(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let d=0;d<u.length;d++){let[m,g,v,y]=u[d];if(H6(t)){const M="srgb",E="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:E):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:E)}let w=t,S=w[m];if(y.length&&(S=y.reduce((x,M)=>x[M],t),!(S&&S.set))){const[x,...M]=y.reverse();w=M.reverse().reduce((E,C)=>E[C],t),m=x}if(g===cI+"remove")if(w.constructor){let x=PE.get(w.constructor);x||(x=new w.constructor,PE.set(w.constructor,x)),g=x[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof nc)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor===g.constructor)S.copy(g);else if(g!==void 0){const x=S instanceof et;!x&&S.setScalar?S.setScalar(g):S instanceof nc&&g instanceof nc?S.mask=g.mask:S.set(g),!oI()&&!a.linear&&x&&S.convertSRGBToLinear()}}else if(w[m]=g,w[m]instanceof bn&&w[m].format===zn&&w[m].type===Gn){const x=w[m];H6(x)&&H6(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}pf(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const d=a.internal.interaction.indexOf(t);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&ky(t),t}function pf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function ky(t){t.onUpdate==null||t.onUpdate(t)}function dI(t,e){t.manual||(aI(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function dm(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Wq(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Lf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Lf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Lf.ContinuousEventPriority;default:return Lf.DefaultEventPriority}}function pI(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function jq(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{pI(n.capturedMap,e,r,i)})}function Xq(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,d=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let w=0;w<m.length;w++){const S=Fd(m[w]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(w){const S=Fd(w);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var x;S.events.compute==null||S.events.compute(l,S,(x=S.previousRoot)==null?void 0:x.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(w,!0):[]}let v=m.flatMap(g).sort((w,S)=>{const x=Fd(w.object),M=Fd(S.object);return!x||!M?w.distance-S.distance:M.events.priority-x.events.priority||w.distance-S.distance}).filter(w=>{const S=dm(w);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const w of v){let S=w.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&d.push({...w,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let w of c.internal.capturedMap.get(l.pointerId).values())f.has(dm(w.intersection))||d.push(w.intersection);return d}function i(l,u,c,f){const d=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=Fd(g.object)||d,{raycaster:y,pointer:w,camera:S,internal:x}=v,M=new J(w.x,w.y,0).unproject(S),E=I=>{var U,G;return(U=(G=x.capturedMap.get(I))==null?void 0:G.has(g.eventObject))!=null?U:!1},C=I=>{const U={intersection:g,target:u.target};x.capturedMap.has(I)?x.capturedMap.get(I).set(g.eventObject,U):x.capturedMap.set(I,new Map([[g.eventObject,U]])),u.target.setPointerCapture(I)},P=I=>{const U=x.capturedMap.get(I);U&&pI(x.capturedMap,g.eventObject,U,I)};let T={};for(let I in u){let U=u[I];typeof U!="function"&&(T[I]=U)}let R={...g,...T,pointer:w,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:y.ray,camera:S,stopPropagation(){const I="pointerId"in u&&x.capturedMap.get(u.pointerId);if((!I||I.has(g.eventObject))&&(R.stopped=m.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(U=>U.eventObject===g.eventObject))){const U=l.slice(0,l.indexOf(g));s([...U,g])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},nativeEvent:u};if(f(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d==null?void 0:d.handlers;if(u.hovered.delete(dm(c)),d!=null&&d.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),w=g?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(x=>x.eventObject)),g&&!y.length&&w<=2&&(o(c,d.interaction),f&&f(c)),m&&s(y);function S(x){const M=x.eventObject,E=M.__r3f,C=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=dm(x),T=d.hovered.get(P);T?T.stopped&&x.stopPropagation():(d.hovered.set(P,x),C.onPointerOver==null||C.onPointerOver(x),C.onPointerEnter==null||C.onPointerEnter(x))}C.onPointerMove==null||C.onPointerMove(x)}else{const P=C[l];P?(!g||d.initialHits.includes(M))&&(o(c,d.interaction.filter(T=>!d.initialHits.includes(T))),P(x)):g&&d.initialHits.includes(M)&&o(c,d.interaction.filter(T=>!d.initialHits.includes(T)))}}i(y,c,w,S)}}return{handlePointer:a}}const Jq=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],mI=t=>!!(t!=null&&t.render),L7=z.createContext(null),Yq=(t,e)=>{const n=$B((a,l)=>{const u=new J,c=new J,f=new J;function d(w=l().camera,S=c,x=l().size){const{width:M,height:E,top:C,left:P}=x,T=M/E;S instanceof J?f.copy(S):f.set(...S);const R=w.getWorldPosition(u).distanceTo(f);if(aI(w))return{width:M/w.zoom,height:E/w.zoom,top:C,left:P,factor:1,distance:R,aspect:T};{const I=w.fov*Math.PI/180,U=2*Math.tan(I/2)*R,G=U*(M/E);return{width:G,height:U,top:C,left:P,factor:M/G,distance:R,aspect:T}}}let m;const g=w=>a(S=>({performance:{...S.performance,current:w}})),v=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,S)=>e(w,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new P7,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&g(w.performance.min),m=setTimeout(()=>g(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:w=>a(S=>({...S,events:{...S.events,...w}})),setSize:(w,S,x,M,E)=>{const C=l().camera,P={width:w,height:S,top:M||0,left:E||0,updateStyle:x};a(T=>({size:P,viewport:{...T.viewport,...d(C,c,P)}}))},setDpr:w=>a(S=>{const x=fI(w);return{viewport:{...S.viewport,dpr:x,initialDpr:S.viewport.initialDpr||x}}}),setFrameloop:(w="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,w!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,S,x)=>{const M=l().internal;return M.priority=M.priority+(S>0?1:0),M.subscribers.push({ref:w,priority:S,store:x}),M.subscribers=M.subscribers.sort((E,C)=>E.priority-C.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(S>0?1:0),E.subscribers=E.subscribers.filter(C=>C.ref!==w))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==i||u.dpr!==s){var d;i=l,s=u.dpr,dI(a,l),c.setPixelRatio(u.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function Kq(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let pm,gI=new Set,Zq=new Set,Qq=new Set;const qq=t=>Kq(t,gI);function j6(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function kd(t,e){switch(t){case"before":return j6(gI,e);case"after":return j6(Zq,e);case"tail":return j6(Qq,e)}}let X6,J6;function Y6(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),X6=e.internal.subscribers,pm=0;pm<X6.length;pm++)J6=X6[pm],J6.ref.current(J6.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $q(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,kd("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=Y6(l,i))}if(kd("after",l),n===0)return kd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&kd("before",l),c)Y6(l,c,f);else for(const d of t.values())Y6(l,d.store.getState());u&&kd("after",l)}return{loop:s,invalidate:o,advance:a}}function e$(t){const e=z.useRef(null);return Oh(()=>void(e.current=t.current.__r3f),[t]),e}function F7(){const t=z.useContext(L7);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function en(t=n=>n,e){return F7()(t,e)}function $s(t,e=0){const n=F7(),r=n.getState().internal.subscribe,i=lI(t);return Oh(()=>r(i,e,n),[e,r,n]),null}const BE=new WeakMap;function vI(t,e){return function(n,...r){let i=BE.get(n);return i||(i=new n,BE.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Hq(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Ec(t,e,n,r){const i=Array.isArray(e)?e:[e],s=sI(vI(n,r),[t,...i],{equal:Vn.equ});return Array.isArray(e)?s:s[0]}Ec.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return kq(vI(n),[t,...r])};Ec.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Uq([t,...n])};const Sh=new Map,{invalidate:IE,advance:LE}=$q(Sh),{reconciler:v0,applyProps:Ml}=Nq(Sh,Wq),af={objects:"shallow",strict:!1},t$=(t,e)=>{const n=typeof t=="function"?t(e):t;return mI(n)?n:new gv({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function n$(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function r$(t){const e=Sh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Yq(IE,LE),o=n||v0.createContainer(s,Lf.ConcurrentRoot,null,!1,null,"",i,null);e||Sh.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:d,scene:m,events:g,onCreated:v,shadows:y=!1,linear:w=!1,flat:S=!1,legacy:x=!1,orthographic:M=!1,frameloop:E="always",dpr:C=[1,2],performance:P,raycaster:T,camera:R,onPointerMissed:I}=c,U=s.getState(),G=U.gl;U.gl||U.set({gl:G=t$(f,t)});let j=U.raycaster;j||U.set({raycaster:j=new B7});const{params:D,...k}=T||{};if(Vn.equ(k,j,af)||Ml(j,{...k}),Vn.equ(D,j.params,af)||Ml(j,{params:{...j.params,...D}}),!U.camera||U.camera===u&&!Vn.equ(u,R,af)){u=R;const F=R instanceof Dh,q=F?R:M?new xo(0,0,0,0,.1,1e3):new In(75,0,.1,1e3);F||(q.position.z=5,R&&Ml(q,R),!U.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),U.set({camera:q})}if(!U.scene){let F;m instanceof Xa?F=m:(F=new Xa,m&&Ml(F,m)),U.set({scene:df(F)})}if(!U.xr){var H;const F=(X,K)=>{const le=s.getState();le.frameloop!=="never"&&LE(X,!0,le,K)},q=()=>{const X=s.getState();X.gl.xr.enabled=X.gl.xr.isPresenting,X.gl.xr.setAnimationLoop(X.gl.xr.isPresenting?F:null),X.gl.xr.isPresenting||IE(X)},ee={connect(){const X=s.getState().gl;X.xr.addEventListener("sessionstart",q),X.xr.addEventListener("sessionend",q)},disconnect(){const X=s.getState().gl;X.xr.removeEventListener("sessionstart",q),X.xr.removeEventListener("sessionend",q)}};typeof((H=G.xr)==null?void 0:H.addEventListener)=="function"&&ee.connect(),U.set({xr:ee})}if(G.shadowMap){const F=G.shadowMap.enabled,q=G.shadowMap.type;if(G.shadowMap.enabled=!!y,Vn.boo(y))G.shadowMap.type=wp;else if(Vn.str(y)){var oe;const ee={basic:yD,percentage:ov,soft:wp,variance:Vu};G.shadowMap.type=(oe=ee[y])!=null?oe:wp}else Vn.obj(y)&&Object.assign(G.shadowMap,y);(F!==G.shadowMap.enabled||q!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const N=oI();N&&("enabled"in N?N.enabled=!x:"legacyMode"in N&&(N.legacyMode=x)),Ml(G,{outputEncoding:w?3e3:3001,toneMapping:S?Mo:Vx}),U.legacy!==x&&U.set(()=>({legacy:x})),U.linear!==w&&U.set(()=>({linear:w})),U.flat!==S&&U.set(()=>({flat:S})),f&&!Vn.fun(f)&&!mI(f)&&!Vn.equ(f,G,af)&&Ml(G,f),g&&!U.events.handlers&&U.set({events:g(s)});const Y=n$(t,d);return Vn.equ(Y,U.size,af)||U.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),C&&U.viewport.dpr!==fI(C)&&U.setDpr(C),U.frameloop!==E&&U.setFrameloop(E),U.onPointerMissed||U.set({onPointerMissed:I}),P&&!Vn.equ(P,U.performance,af)&&U.set(F=>({performance:{...F.performance,...P}})),a=v,l=!0,this},render(c){return l||this.configure(),v0.updateContainer(z.createElement(i$,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){yI(t)}}}function i$({store:t,children:e,onCreated:n,rootElement:r}){return Oh(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),z.createElement(L7.Provider,{value:t},e)}function yI(t,e){const n=Sh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),v0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Vq(i),Sh.delete(t),e&&e(t)}catch{}},500)})}}function k7(t,e,n){return z.createElement(s$,{key:e.uuid,children:t,container:e,state:n})}function s$({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=F7(),[a]=z.useState(()=>new B7),[l]=z.useState(()=>new ve),u=z.useCallback((f,d)=>{const m={...f};Object.keys(f).forEach(v=>{(Jq.includes(v)||f[v]!==d[v]&&d[v])&&delete m[v]});let g;if(d&&i){const v=d.camera;g=f.viewport.getCurrentViewport(v,new J,i),v!==f.camera&&dI(v,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...s}},[t]),[c]=z.useState(()=>{const f=o.getState();return $B((m,g)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:g,setEvents:v=>m(y=>({...y,events:{...y.events,...v}}))}))});return z.useEffect(()=>{const f=o.subscribe(d=>c.setState(m=>u(d,m)));return()=>{f(),c.destroy()}},[]),z.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),z.createElement(z.Fragment,null,v0.createPortal(z.createElement(L7.Provider,{value:c},e),c,null))}v0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pr.apply(this,arguments)}function Uy(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Uy.debounce=Uy;var o$=Uy;const FE=w0(o$);function a$(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=z.useRef(!1);z.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,m,g]=z.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:x,top:M,width:E,height:C,bottom:P,right:T,x:R,y:I}=l.current.element.getBoundingClientRect(),U={left:x,top:M,width:E,height:C,bottom:P,right:T,x:R,y:I};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),f.current&&!f$(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[S,c?FE(S,c):S,u?FE(S,u):S]},[a,i,u,c]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",g,{capture:!0,passive:!0})))}const w=S=>{!S||S===l.current.element||(v(),l.current.element=S,l.current.scrollContainers=xI(S),y())};return u$(g,!!n),l$(m),z.useEffect(()=>{v(),y()},[n,g,m]),z.useEffect(()=>v,[]),[w,o,d]}function l$(t){z.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function u$(t,e){z.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function xI(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...xI(t.parentElement)]}const c$=["x","y","top","bottom","left","right","width","height"],f$=(t,e)=>c$.every(n=>t[n]===e[n]);var h$=Object.defineProperty,d$=Object.defineProperties,p$=Object.getOwnPropertyDescriptors,kE=Object.getOwnPropertySymbols,m$=Object.prototype.hasOwnProperty,g$=Object.prototype.propertyIsEnumerable,UE=(t,e,n)=>e in t?h$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NE=(t,e)=>{for(var n in e||(e={}))m$.call(e,n)&&UE(t,n,e[n]);if(kE)for(var n of kE(e))g$.call(e,n)&&UE(t,n,e[n]);return t},v$=(t,e)=>d$(t,p$(e));function SI(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=SI(r,e,n);if(i)return i;r=e?null:r.sibling}}function wI(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const U7=wI(z.createContext(null));class _I extends z.Component{render(){return z.createElement(U7.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:OE,ReactCurrentDispatcher:zE}=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y$(){const t=z.useContext(U7);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const r of[OE==null?void 0:OE.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=SI(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function x$(){var t,e;const n=y$(),[r]=z.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==U7&&!r.has(s)&&r.set(s,(e=zE==null?void 0:zE.current)==null?void 0:e.readContext(wI(s))),i=i.return}return r}function S$(){const t=x$();return z.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>z.createElement(e,null,z.createElement(n.Provider,v$(NE({},r),{value:t.get(n)}))),e=>z.createElement(_I,NE({},e))),[t])}const K6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function w$(t){const{handlePointer:e}=Xq(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(K6).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=K6[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=K6[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const _$=z.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=w$,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:w,camera:S,scene:x,onPointerMissed:M,onCreated:E,...C},P){z.useMemo(()=>Tv(QB),[]);const T=S$(),[R,I]=a$({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=z.useRef(null),G=z.useRef(null);z.useImperativeHandle(P,()=>U.current);const j=lI(M),[D,k]=z.useState(!1),[H,oe]=z.useState(!1);if(D)throw D;if(H)throw H;const N=z.useRef(null);Oh(()=>{const Z=U.current;I.width>0&&I.height>0&&Z&&(N.current||(N.current=r$(Z)),N.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:w,camera:S,scene:x,size:I,onPointerMissed:(...Y)=>j.current==null?void 0:j.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(a?Oq(a)?a.current:a:G.current),l&&Y.setEvents({compute:(F,q)=>{const ee=F[l+"X"],X=F[l+"Y"];q.pointer.set(ee/q.size.width*2-1,-(X/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),E==null||E(Y)}}),N.current.render(z.createElement(T,null,z.createElement(uI,{set:oe},z.createElement(z.Suspense,{fallback:z.createElement(zq,{set:k})},e)))))}),z.useEffect(()=>{const Z=U.current;if(Z)return()=>yI(Z)},[]);const W=a?"none":"auto";return z.createElement("div",Pr({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i}},C),z.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},z.createElement("canvas",{ref:U,style:{display:"block"}},n)))}),e3=z.forwardRef(function(e,n){return z.createElement(_I,null,z.createElement(_$,Pr({},e,{ref:n})))});function M$(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}let N7=n3();const yn=t=>t3(t,N7);let O7=n3();yn.write=t=>t3(t,O7);let Cv=n3();yn.onStart=t=>t3(t,Cv);let z7=n3();yn.onFrame=t=>t3(t,z7);let G7=n3();yn.onFinish=t=>t3(t,G7);let Yf=[];yn.setTimeout=(t,e)=>{let n=yn.now()+e,r=()=>{let s=Yf.findIndex(o=>o.cancel==r);~s&&Yf.splice(s,1),Bl-=~s?1:0},i={time:n,handler:t,cancel:r};return Yf.splice(MI(n),0,i),Bl+=1,AI(),i};let MI=t=>~(~Yf.findIndex(e=>e.time>t)||~Yf.length);yn.cancel=t=>{Cv.delete(t),z7.delete(t),G7.delete(t),N7.delete(t),O7.delete(t)};yn.sync=t=>{Ny=!0,yn.batchedUpdates(t),Ny=!1};yn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,yn.onStart(n)}return r.handler=t,r.cancel=()=>{Cv.delete(n),e=null},r};let H7=typeof window<"u"?window.requestAnimationFrame:()=>{};yn.use=t=>H7=t;yn.now=typeof performance<"u"?()=>performance.now():Date.now;yn.batchedUpdates=t=>t();yn.catch=console.error;yn.frameLoop="always";yn.advance=()=>{yn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):TI()};let Dl=-1,Bl=0,Ny=!1;function t3(t,e){Ny?(e.delete(t),t(0)):(e.add(t),AI())}function AI(){Dl<0&&(Dl=0,yn.frameLoop!=="demand"&&H7(EI))}function A$(){Dl=-1}function EI(){~Dl&&(H7(EI),yn.batchedUpdates(TI))}function TI(){let t=Dl;Dl=yn.now();let e=MI(Dl);if(e&&(CI(Yf.splice(0,e),n=>n.handler()),Bl-=e),!Bl){A$();return}Cv.flush(),N7.flush(t?Math.min(64,Dl-t):16.667),z7.flush(),O7.flush(),G7.flush()}function n3(){let t=new Set,e=t;return{add(n){Bl+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Bl-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Bl-=e.size,CI(e,r=>r(n)&&t.add(r)),Bl+=t.size,e=t)}}}function CI(t,e){t.forEach(n=>{try{e(n)}catch(r){yn.catch(r)}})}function E$(){}const T$=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),mr={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function C$(t,e){if(mr.arr(t)){if(!mr.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const Na=(t,e)=>t.forEach(e);function Oy(t,e,n){if(mr.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const mm=t=>mr.und(t)?[]:mr.arr(t)?t:[t],V7=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let W7,bI,Xl=null,PI=!1,j7=E$;const b$=t=>{t.to&&(bI=t.to),t.now&&(yn.now=t.now),t.colors!==void 0&&(Xl=t.colors),t.skipAnimation!=null&&(PI=t.skipAnimation),t.createStringInterpolator&&(W7=t.createStringInterpolator),t.requestAnimationFrame&&yn.use(t.requestAnimationFrame),t.batchedUpdates&&(yn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(j7=t.willAdvance),t.frameLoop&&(yn.frameLoop=t.frameLoop)};var y0=Object.freeze({__proto__:null,get createStringInterpolator(){return W7},get to(){return bI},get colors(){return Xl},get skipAnimation(){return PI},get willAdvance(){return j7},assign:b$});const Ep=new Set;let Vs=[],Z6=[],wg=0;const X7={get idle(){return!Ep.size&&!Vs.length},start(t){wg>t.priority?(Ep.add(t),yn.onStart(P$)):(RI(t),yn(zy))},advance:zy,sort(t){if(wg)yn.onFrame(()=>X7.sort(t));else{const e=Vs.indexOf(t);~e&&(Vs.splice(e,1),DI(t))}},clear(){Vs=[],Ep.clear()}};function P$(){Ep.forEach(RI),Ep.clear(),yn(zy)}function RI(t){Vs.includes(t)||DI(t)}function DI(t){Vs.splice(R$(Vs,e=>e.priority>t.priority),0,t)}function zy(t){const e=Z6;for(let n=0;n<Vs.length;n++){const r=Vs[n];wg=r.priority,r.idle||(j7(r),r.advance(t),r.idle||e.push(r))}return wg=0,Z6=Vs,Z6.length=0,Vs=e,Vs.length>0}function R$(t,e){const n=t.findIndex(e);return n<0?t.length:n}const D$=(t,e,n)=>Math.min(Math.max(n,t),e),B$={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},So="[-+]?\\d*\\.?\\d+",_g=So+"%";function bv(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const I$=new RegExp("rgb"+bv(So,So,So)),L$=new RegExp("rgba"+bv(So,So,So,So)),F$=new RegExp("hsl"+bv(So,_g,_g)),k$=new RegExp("hsla"+bv(So,_g,_g,So)),U$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,N$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,O$=/^#([0-9a-fA-F]{6})$/,z$=/^#([0-9a-fA-F]{8})$/;function G$(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=O$.exec(t))?parseInt(e[1]+"ff",16)>>>0:Xl&&Xl[t]!==void 0?Xl[t]:(e=I$.exec(t))?(lf(e[1])<<24|lf(e[2])<<16|lf(e[3])<<8|255)>>>0:(e=L$.exec(t))?(lf(e[1])<<24|lf(e[2])<<16|lf(e[3])<<8|VE(e[4]))>>>0:(e=U$.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=z$.exec(t))?parseInt(e[1],16)>>>0:(e=N$.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=F$.exec(t))?(GE(HE(e[1]),gm(e[2]),gm(e[3]))|255)>>>0:(e=k$.exec(t))?(GE(HE(e[1]),gm(e[2]),gm(e[3]))|VE(e[4]))>>>0:null}function Q6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GE(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=Q6(i,r,t+1/3),o=Q6(i,r,t),a=Q6(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function lf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function HE(t){return(parseFloat(t)%360+360)%360/360}function VE(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function gm(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function WE(t){let e=G$(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const x0=(t,e,n)=>{if(mr.fun(t))return t;if(mr.arr(t))return x0({range:t,output:e,extrapolate:n});if(mr.str(t.output[0]))return W7(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=V$(u,s);return H$(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function H$(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function V$(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const W$=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return D$(0,1,i/t)},Mg=1.70158,vm=Mg*1.525,jE=Mg+1,XE=2*Math.PI/3,JE=2*Math.PI/4.5,ym=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,j$={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>jE*t*t*t-Mg*t*t,easeOutBack:t=>1+jE*Math.pow(t-1,3)+Mg*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((vm+1)*2*t-vm)/2:(Math.pow(2*t-2,2)*((vm+1)*(t*2-2)+vm)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*XE),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*XE)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*JE))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*JE)/2+1,easeInBounce:t=>1-ym(1-t),easeOutBounce:ym,easeInOutBounce:t=>t<.5?(1-ym(1-2*t))/2:(1+ym(2*t-1))/2,steps:W$};function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}const wh=Symbol.for("FluidValue.get"),_h=Symbol.for("FluidValue.observers"),Ag=t=>!!(t&&t[wh]),Eg=t=>t&&t[wh]?t[wh]():t;function X$(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Hy(t,e){let n=t[_h];n&&n.forEach(r=>{X$(r,e)})}class J${constructor(e){if(this[wh]=void 0,this[_h]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Y$(this,e)}}const Y$=(t,e)=>II(t,wh,e);function BI(t,e){if(t[wh]){let n=t[_h];n||II(t,_h,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Vy(t,e){let n=t[_h];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[_h]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const II=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),l1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,K$=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,YE=new RegExp(`(${l1.source})(%|[a-z]+)`,"i"),Z$=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Pv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,LI=t=>{const[e,n]=Q$(t);if(!e||V7())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Pv.test(n))return LI(n);if(n)return n}return t},Q$=t=>{const e=Pv.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let q6;const q$=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,FI=t=>{q6||(q6=Xl?new RegExp(`(${Object.keys(Xl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Eg(s).replace(Pv,LI).replace(K$,WE).replace(q6,WE)),n=e.map(s=>s.match(l1).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>x0(Gy({},t,{output:s})));return s=>{var o;const a=!YE.test(e[0])&&((o=e.find(u=>YE.test(u)))==null?void 0:o.replace(l1,""));let l=0;return e[0].replace(l1,()=>`${i[l++](s)}${a||""}`).replace(Z$,q$)}},kI="react-spring: ",UI=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${kI}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},$$=UI(console.warn);function eee(){$$(`${kI}The "interpolate" function is deprecated in v9 (use "to" instead)`)}UI(console.warn);function NI(t){return mr.str(t)&&(t[0]=="#"||/\d/.test(t)||!V7()&&Pv.test(t)||t in(Xl||{}))}const OI=V7()?z.useEffect:z.useLayoutEffect,tee=()=>{const t=z.useRef(!1);return OI(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function nee(){const t=z.useState()[1],e=tee();return()=>{e.current&&t(Math.random())}}function ree(t,e){const[n]=z.useState(()=>({inputs:e,result:t()})),r=z.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&iee(e,s.inputs)||(s={inputs:e,result:t()}):s=n,z.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function iee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const see=t=>z.useEffect(t,oee),oee=[],S0=Symbol.for("Animated:node"),aee=t=>!!t&&t[S0]===t,J7=t=>t&&t[S0],zI=(t,e)=>T$(t,S0,e),Y7=t=>t&&t[S0]&&t[S0].getPayload();class GI{constructor(){this.payload=void 0,zI(this,this)}getPayload(){return this.payload||[]}}class r3 extends GI{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,mr.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new r3(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return mr.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,mr.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class Rv extends r3{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=x0({output:[e,e]})}static create(e){return new Rv(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(mr.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=x0({output:[this.getValue(),e]})),this._value=0,super.reset()}}const Tg={dependencies:null};class K7 extends GI{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Oy(this.source,(r,i)=>{aee(r)?n[i]=r.getValue(e):Ag(r)?n[i]=Eg(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Na(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Oy(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){Tg.dependencies&&Ag(e)&&Tg.dependencies.add(e);const n=Y7(e);n&&Na(n,r=>this.add(r))}}class Z7 extends K7{constructor(e){super(e)}static create(e){return new Z7(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(lee)),!0)}}function lee(t){return(NI(t)?Rv:r3).create(t)}function uee(t){const e=J7(t);return e?e.constructor:mr.arr(t)?Z7:NI(t)?Rv:r3}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}const KE=(t,e)=>{const n=!mr.fun(t)||t.prototype&&t.prototype.isReactComponent;return z.forwardRef((r,i)=>{const s=z.useRef(null),o=n&&z.useCallback(g=>{s.current=hee(i,g)},[i]),[a,l]=fee(r,e),u=nee(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},f=new cee(c,l),d=z.useRef();OI(()=>(d.current=f,Na(l,g=>BI(g,f)),()=>{d.current&&(Na(d.current.deps,g=>Vy(g,d.current)),yn.cancel(d.current.update))})),z.useEffect(c,[]),see(()=>()=>{const g=d.current;Na(g.deps,v=>Vy(v,g))});const m=e.getComponentProps(a.getValue());return z.createElement(t,Cg({},m,{ref:o}))})};class cee{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&yn.write(this.update)}}function fee(t,e){const n=new Set;return Tg.dependencies=n,t.style&&(t=Cg({},t,{style:e.createAnimatedStyle(t.style)})),t=new K7(t),Tg.dependencies=null,[t,n]}function hee(t,e){return t&&(mr.fun(t)?t(e):t.current=e),e}const ZE=Symbol.for("AnimatedComponent"),dee=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new K7(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=QE(o)||"Anonymous";return mr.str(o)?o=s[o]||(s[o]=KE(o,i)):o=o[ZE]||(o[ZE]=KE(o,i)),o.displayName=`Animated(${a})`,o};return Oy(t,(o,a)=>{mr.arr(t)&&(a=QE(o)),s[a]=s(o)}),{animated:s}},QE=t=>mr.str(t)?t:t&&mr.str(t.displayName)?t.displayName:mr.fun(t)&&t.name||null;function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}const pee={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};Wy({},pee.default,{mass:1,damping:1,easing:j$.linear,clamp:!1});const qE=t=>t instanceof HI;let mee=1;class HI extends J${constructor(...e){super(...e),this.id=mee++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=J7(this);return e&&e.getValue()}to(...e){return y0.to(this,e)}interpolate(...e){return eee(),y0.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){Hy(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||X7.sort(this),Hy(this,{type:"priority",parent:this,priority:e})}}function gee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const vee=["children"],Q7=t=>{let{children:e}=t,n=gee(t,vee);const r=z.useContext(bg),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=ree(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=bg;return z.createElement(o,{value:n},e)},bg=yee(Q7,{});Q7.Provider=bg.Provider;Q7.Consumer=bg.Consumer;function yee(t,e){return Object.assign(t,z.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}let $E;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})($E||($E={}));class xee extends HI{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=x0(...n);const r=this._get(),i=uee(r);zI(this,i.create(r))}advance(e){const n=this._get(),r=this.get();C$(n,r)||(J7(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&eT(this._active)&&$6(this)}_get(){const e=mr.arr(this.source)?this.source.map(Eg):mm(Eg(this.source));return this.calc(...e)}_start(){this.idle&&!eT(this._active)&&(this.idle=!1,Na(Y7(this),e=>{e.done=!1}),y0.skipAnimation?(yn.batchedUpdates(()=>this.advance()),$6(this)):X7.start(this))}_attach(){let e=1;Na(mm(this.source),n=>{Ag(n)&&BI(n,this),qE(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){Na(mm(this.source),e=>{Ag(e)&&Vy(e,this)}),this._active.clear(),$6(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=mm(this.source).reduce((n,r)=>Math.max(n,(qE(r)?r.priority:0)+1),0))}}function See(t){return t.idle!==!1}function eT(t){return!t.size||Array.from(t).every(See)}function $6(t){t.idle||(t.idle=!0,Na(Y7(t),e=>{e.done=!0}),Hy(t,{type:"idle",parent:t}))}y0.assign({createStringInterpolator:FI,to:(t,e)=>new xee(t,e)});const wee=["primitive"].concat(Object.keys(QB).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));y0.assign({createStringInterpolator:FI,colors:B$,frameLoop:"demand"});qq(()=>{yn.advance()});dee(wee,{applyAnimatedValues:Ml});var Ws=Uint8Array,Il=Uint16Array,jy=Uint32Array,VI=new Ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WI=new Ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_ee=new Ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jI=function(t,e){for(var n=new Il(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new jy(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},XI=jI(VI,2),JI=XI[0],Mee=XI[1];JI[28]=258,Mee[258]=28;var Aee=jI(WI,0),Eee=Aee[0],Xy=new Il(32768);for(var Wn=0;Wn<32768;++Wn){var ml=(Wn&43690)>>>1|(Wn&21845)<<1;ml=(ml&52428)>>>2|(ml&13107)<<2,ml=(ml&61680)>>>4|(ml&3855)<<4,Xy[Wn]=((ml&65280)>>>8|(ml&255)<<8)>>>1}var Tp=function(t,e,n){for(var r=t.length,i=0,s=new Il(e);i<r;++i)++s[t[i]-1];var o=new Il(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Il(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[Xy[f]>>>l]=u}else for(a=new Il(r),i=0;i<r;++i)t[i]&&(a[i]=Xy[o[t[i]-1]++]>>>15-t[i]);return a},i3=new Ws(288);for(var Wn=0;Wn<144;++Wn)i3[Wn]=8;for(var Wn=144;Wn<256;++Wn)i3[Wn]=9;for(var Wn=256;Wn<280;++Wn)i3[Wn]=7;for(var Wn=280;Wn<288;++Wn)i3[Wn]=8;var YI=new Ws(32);for(var Wn=0;Wn<32;++Wn)YI[Wn]=5;var Tee=Tp(i3,9,1),Cee=Tp(YI,5,1),e4=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},oo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},t4=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bee=function(t){return(t/8|0)+(t&7&&1)},Pee=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Il?Il:t instanceof jy?jy:Ws)(n-e);return r.set(t.subarray(e,n)),r},Ree=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Ws(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ws(r*3));var o=function(K){var le=e.length;if(K>le){var re=new Ws(Math.max(le*2,K));re.set(e),e=re}},a=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,d=n.m,m=n.n,g=r*8;do{if(!c){n.f=a=oo(t,l,1);var v=oo(t,l+1,3);if(l+=3,v)if(v==1)c=Tee,f=Cee,d=9,m=5;else if(v==2){var x=oo(t,l,31)+257,M=oo(t,l+10,15)+4,E=x+oo(t,l+5,31)+1;l+=14;for(var C=new Ws(E),P=new Ws(19),T=0;T<M;++T)P[_ee[T]]=oo(t,l+T*3,7);l+=M*3;for(var R=e4(P),I=(1<<R)-1,U=Tp(P,R,1),T=0;T<E;){var G=U[oo(t,l,I)];l+=G&15;var y=G>>>4;if(y<16)C[T++]=y;else{var j=0,D=0;for(y==16?(D=3+oo(t,l,3),l+=2,j=C[T-1]):y==17?(D=3+oo(t,l,7),l+=3):y==18&&(D=11+oo(t,l,127),l+=7);D--;)C[T++]=j}}var k=C.subarray(0,x),H=C.subarray(x);d=e4(k),m=e4(H),c=Tp(k,d,1),f=Tp(H,m,1)}else throw"invalid block type";else{var y=bee(l)+4,w=t[y-4]|t[y-3]<<8,S=y+w;if(S>r){if(s)throw"unexpected EOF";break}i&&o(u+w),e.set(t.subarray(y,S),u),n.b=u+=w,n.p=l=S*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var oe=(1<<d)-1,N=(1<<m)-1,W=l;;W=l){var j=c[t4(t,l)&oe],Z=j>>>4;if(l+=j&15,l>g){if(s)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(Z<256)e[u++]=Z;else if(Z==256){W=l,c=null;break}else{var Y=Z-254;if(Z>264){var T=Z-257,F=VI[T];Y=oo(t,l,(1<<F)-1)+JI[T],l+=F}var q=f[t4(t,l)&N],ee=q>>>4;if(!q)throw"invalid distance";l+=q&15;var H=Eee[ee];if(ee>3){var F=WI[ee];H+=t4(t,l)&(1<<F)-1,l+=F}if(l>g){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var X=u+Y;u<X;u+=4)e[u]=e[u-H],e[u+1]=e[u+1-H],e[u+2]=e[u+2-H],e[u+3]=e[u+3-H];u=X}}n.l=c,n.p=W,n.b=u,c&&(a=1,n.m=d,n.d=f,n.n=m)}while(!a);return u==e.length?e:Pee(e,0,u)},Dee=new Ws(0),Bee=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function xm(t,e){return Ree((Bee(t),t.subarray(2,-4)),e)}var Iee=typeof TextDecoder<"u"&&new TextDecoder,Lee=0;try{Iee.decode(Dee,{stream:!0}),Lee=1}catch{}function q7(){}q7.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};q7.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function tT(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new q7}tT.prototype={constructor:tT,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function nT(){}nT.prototype={constructor:nT,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};var Fee=Object.defineProperty,kee=(t,e,n)=>e in t?Fee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kt=(t,e,n)=>(kee(t,typeof e!="symbol"?e+"":e,n),n);let Ud;function Uee(){var t;if(Ud!==void 0)return Ud;try{let e;const n=document.createElement("canvas");return Ud=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),Ud}catch{return Ud=!1}}function rT(t,e){if(e===qD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===mg||e===Jx){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===mg)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const KI=parseInt(qs.replace(/\D+/g,"")),n4={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new J},up:{value:new J(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${KI>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};n4.fragmentShader,n4.vertexShader,n4.uniforms;const Nee=t=>t&&t.isCubeTexture;class Oee extends Un{constructor(e,n){var r,i;const s=Nee(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(qs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,v={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new Fh(1,16),w=new Ht({uniforms:v,fragmentShader:g,vertexShader:m,side:ri});super(y,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const Sm=new Ph,iT=new Ca,zee=Math.cos(70*(Math.PI/180)),sT=(t,e)=>(t%e+e)%e;let Gee=class extends Ts{constructor(e,n){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new J),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:Lu.ROTATE,MIDDLE:Lu.DOLLY,RIGHT:Lu.PAN}),kt(this,"touches",{ONE:Fu.ROTATE,TWO:Fu.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ae=>{let Re=sT(ae,2*Math.PI),$e=c.phi;$e<0&&($e+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ne=Math.abs(Re-$e);2*Math.PI-ne<ne&&(Re<$e?Re+=2*Math.PI:$e+=2*Math.PI),f.phi=Re-$e,r.update()},this.setAzimuthalAngle=ae=>{let Re=sT(ae,2*Math.PI),$e=c.theta;$e<0&&($e+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ne=Math.abs(Re-$e);2*Math.PI-ne<ne&&(Re<$e?Re+=2*Math.PI:$e+=2*Math.PI),f.theta=Re-$e,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",ze),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ze),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ae=new J,Re=new J(0,1,0),$e=new or().setFromUnitVectors(e.up,Re),ne=$e.clone().invert(),ce=new J,Ne=new or,it=2*Math.PI;return function(){const Kt=r.object.position;$e.setFromUnitVectors(e.up,Re),ne.copy($e).invert(),ae.copy(Kt).sub(r.target),ae.applyQuaternion($e),c.setFromVector3(ae),r.autoRotate&&l===a.NONE&&D(G()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Ot=r.minAzimuthAngle,Wt=r.maxAzimuthAngle;isFinite(Ot)&&isFinite(Wt)&&(Ot<-Math.PI?Ot+=it:Ot>Math.PI&&(Ot-=it),Wt<-Math.PI?Wt+=it:Wt>Math.PI&&(Wt-=it),Ot<=Wt?c.theta=Math.max(Ot,Math.min(Wt,c.theta)):c.theta=c.theta>(Ot+Wt)/2?Math.max(Ot,c.theta):Math.min(Wt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&R||r.object.isOrthographicCamera?c.radius=F(c.radius):c.radius=F(c.radius*d),ae.setFromSpherical(c),ae.applyQuaternion(ne),Kt.copy(r.target).add(ae),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let jt=!1;if(r.zoomToCursor&&R){let on=null;if(r.object instanceof In&&r.object.isPerspectiveCamera){const Gt=ae.length();on=F(Gt*d);const Zt=Gt-on;r.object.position.addScaledVector(P,Zt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gt=new J(T.x,T.y,0);Gt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),jt=!0;const Zt=new J(T.x,T.y,0);Zt.unproject(r.object),r.object.position.sub(Zt).add(Gt),r.object.updateMatrixWorld(),on=ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;on!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(on).add(r.object.position):(Sm.origin.copy(r.object.position),Sm.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Sm.direction))<zee?e.lookAt(r.target):(iT.setFromNormalAndCoplanarPoint(r.object.up,r.target),Sm.intersectPlane(iT,r.target))))}else r.object instanceof xo&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),jt=!0);return d=1,R=!1,jt||ce.distanceToSquared(r.object.position)>u||8*(1-Ne.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ce.copy(r.object.position),Ne.copy(r.object.quaternion),jt=!1,!0):!1}})(),this.connect=ae=>{ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",at),r.domElement.addEventListener("pointerdown",De),r.domElement.addEventListener("pointercancel",ue),r.domElement.addEventListener("wheel",Ve)},this.dispose=()=>{var ae,Re,$e,ne,ce,Ne;(ae=r.domElement)==null||ae.removeEventListener("contextmenu",at),(Re=r.domElement)==null||Re.removeEventListener("pointerdown",De),($e=r.domElement)==null||$e.removeEventListener("pointercancel",ue),(ne=r.domElement)==null||ne.removeEventListener("wheel",Ve),(ce=r.domElement)==null||ce.removeEventListener("pointermove",Q),(Ne=r.domElement)==null||Ne.removeEventListener("pointerup",O),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ze)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new Sg,f=new Sg;let d=1;const m=new J,g=new ve,v=new ve,y=new ve,w=new ve,S=new ve,x=new ve,M=new ve,E=new ve,C=new ve,P=new J,T=new ve;let R=!1;const I=[],U={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function D(ae){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ae:f.theta-=ae}function k(ae){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ae:f.phi-=ae}const H=(()=>{const ae=new J;return function($e,ne){ae.setFromMatrixColumn(ne,0),ae.multiplyScalar(-$e),m.add(ae)}})(),oe=(()=>{const ae=new J;return function($e,ne){r.screenSpacePanning===!0?ae.setFromMatrixColumn(ne,1):(ae.setFromMatrixColumn(ne,0),ae.crossVectors(r.object.up,ae)),ae.multiplyScalar($e),m.add(ae)}})(),N=(()=>{const ae=new J;return function($e,ne){const ce=r.domElement;if(ce&&r.object instanceof In&&r.object.isPerspectiveCamera){const Ne=r.object.position;ae.copy(Ne).sub(r.target);let it=ae.length();it*=Math.tan(r.object.fov/2*Math.PI/180),H(2*$e*it/ce.clientHeight,r.object.matrix),oe(2*ne*it/ce.clientHeight,r.object.matrix)}else ce&&r.object instanceof xo&&r.object.isOrthographicCamera?(H($e*(r.object.right-r.object.left)/r.object.zoom/ce.clientWidth,r.object.matrix),oe(ne*(r.object.top-r.object.bottom)/r.object.zoom/ce.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(ae){r.object instanceof In&&r.object.isPerspectiveCamera||r.object instanceof xo&&r.object.isOrthographicCamera?d/=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Z(ae){r.object instanceof In&&r.object.isPerspectiveCamera||r.object instanceof xo&&r.object.isOrthographicCamera?d*=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(ae){if(!r.zoomToCursor||!r.domElement)return;R=!0;const Re=r.domElement.getBoundingClientRect(),$e=ae.clientX-Re.left,ne=ae.clientY-Re.top,ce=Re.width,Ne=Re.height;T.x=$e/ce*2-1,T.y=-(ne/Ne)*2+1,P.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function F(ae){return Math.max(r.minDistance,Math.min(r.maxDistance,ae))}function q(ae){g.set(ae.clientX,ae.clientY)}function ee(ae){Y(ae),M.set(ae.clientX,ae.clientY)}function X(ae){w.set(ae.clientX,ae.clientY)}function K(ae){v.set(ae.clientX,ae.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Re=r.domElement;Re&&(D(2*Math.PI*y.x/Re.clientHeight),k(2*Math.PI*y.y/Re.clientHeight)),g.copy(v),r.update()}function le(ae){E.set(ae.clientX,ae.clientY),C.subVectors(E,M),C.y>0?W(j()):C.y<0&&Z(j()),M.copy(E),r.update()}function re(ae){S.set(ae.clientX,ae.clientY),x.subVectors(S,w).multiplyScalar(r.panSpeed),N(x.x,x.y),w.copy(S),r.update()}function me(ae){Y(ae),ae.deltaY<0?Z(j()):ae.deltaY>0&&W(j()),r.update()}function Ee(ae){let Re=!1;switch(ae.code){case r.keys.UP:N(0,r.keyPanSpeed),Re=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Re=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Re=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Re=!0;break}Re&&(ae.preventDefault(),r.update())}function _e(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const ae=.5*(I[0].pageX+I[1].pageX),Re=.5*(I[0].pageY+I[1].pageY);g.set(ae,Re)}}function ie(){if(I.length==1)w.set(I[0].pageX,I[0].pageY);else{const ae=.5*(I[0].pageX+I[1].pageX),Re=.5*(I[0].pageY+I[1].pageY);w.set(ae,Re)}}function xe(){const ae=I[0].pageX-I[1].pageX,Re=I[0].pageY-I[1].pageY,$e=Math.sqrt(ae*ae+Re*Re);M.set(0,$e)}function Le(){r.enableZoom&&xe(),r.enablePan&&ie()}function Ce(){r.enableZoom&&xe(),r.enableRotate&&_e()}function Be(ae){if(I.length==1)v.set(ae.pageX,ae.pageY);else{const $e=Xe(ae),ne=.5*(ae.pageX+$e.x),ce=.5*(ae.pageY+$e.y);v.set(ne,ce)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Re=r.domElement;Re&&(D(2*Math.PI*y.x/Re.clientHeight),k(2*Math.PI*y.y/Re.clientHeight)),g.copy(v)}function He(ae){if(I.length==1)S.set(ae.pageX,ae.pageY);else{const Re=Xe(ae),$e=.5*(ae.pageX+Re.x),ne=.5*(ae.pageY+Re.y);S.set($e,ne)}x.subVectors(S,w).multiplyScalar(r.panSpeed),N(x.x,x.y),w.copy(S)}function Te(ae){const Re=Xe(ae),$e=ae.pageX-Re.x,ne=ae.pageY-Re.y,ce=Math.sqrt($e*$e+ne*ne);E.set(0,ce),C.set(0,Math.pow(E.y/M.y,r.zoomSpeed)),W(C.y),M.copy(E)}function Ye(ae){r.enableZoom&&Te(ae),r.enablePan&&He(ae)}function We(ae){r.enableZoom&&Te(ae),r.enableRotate&&Be(ae)}function De(ae){var Re,$e,ne;r.enabled!==!1&&(I.length===0&&((Re=r.domElement)==null||Re.setPointerCapture(ae.pointerId),($e=r.domElement)==null||$e.addEventListener("pointermove",Q),(ne=r.domElement)==null||ne.addEventListener("pointerup",O)),Qe(ae),ae.pointerType==="touch"?Ze(ae):Se(ae))}function Q(ae){r.enabled!==!1&&(ae.pointerType==="touch"?Ie(ae):Ge(ae))}function O(ae){var Re,$e,ne;st(ae),I.length===0&&((Re=r.domElement)==null||Re.releasePointerCapture(ae.pointerId),($e=r.domElement)==null||$e.removeEventListener("pointermove",Q),(ne=r.domElement)==null||ne.removeEventListener("pointerup",O)),r.dispatchEvent(o),l=a.NONE}function ue(ae){st(ae)}function Se(ae){let Re;switch(ae.button){case 0:Re=r.mouseButtons.LEFT;break;case 1:Re=r.mouseButtons.MIDDLE;break;case 2:Re=r.mouseButtons.RIGHT;break;default:Re=-1}switch(Re){case Lu.DOLLY:if(r.enableZoom===!1)return;ee(ae),l=a.DOLLY;break;case Lu.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enablePan===!1)return;X(ae),l=a.PAN}else{if(r.enableRotate===!1)return;q(ae),l=a.ROTATE}break;case Lu.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enableRotate===!1)return;q(ae),l=a.ROTATE}else{if(r.enablePan===!1)return;X(ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;K(ae);break;case a.DOLLY:if(r.enableZoom===!1)return;le(ae);break;case a.PAN:if(r.enablePan===!1)return;re(ae);break}}function Ve(ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ae.preventDefault(),r.dispatchEvent(s),me(ae),r.dispatchEvent(o))}function ze(ae){r.enabled===!1||r.enablePan===!1||Ee(ae)}function Ze(ae){switch(je(ae),I.length){case 1:switch(r.touches.ONE){case Fu.ROTATE:if(r.enableRotate===!1)return;_e(),l=a.TOUCH_ROTATE;break;case Fu.PAN:if(r.enablePan===!1)return;ie(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Fu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),l=a.TOUCH_DOLLY_PAN;break;case Fu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ie(ae){switch(je(ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Be(ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;He(ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ye(ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;We(ae),r.update();break;default:l=a.NONE}}function at(ae){r.enabled!==!1&&ae.preventDefault()}function Qe(ae){I.push(ae)}function st(ae){delete U[ae.pointerId];for(let Re=0;Re<I.length;Re++)if(I[Re].pointerId==ae.pointerId){I.splice(Re,1);return}}function je(ae){let Re=U[ae.pointerId];Re===void 0&&(Re=new ve,U[ae.pointerId]=Re),Re.set(ae.pageX,ae.pageY)}function Xe(ae){const Re=ae.pointerId===I[0].pointerId?I[1]:I[0];return U[Re.pointerId]}n!==void 0&&this.connect(n),this.update()}};class $7 extends zi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Xee(n)}),this.register(function(n){return new ete(n)}),this.register(function(n){return new tte(n)}),this.register(function(n){return new nte(n)}),this.register(function(n){return new Yee(n)}),this.register(function(n){return new Kee(n)}),this.register(function(n){return new Zee(n)}),this.register(function(n){return new Qee(n)}),this.register(function(n){return new jee(n)}),this.register(function(n){return new qee(n)}),this.register(function(n){return new Jee(n)}),this.register(function(n){return new $ee(n)}),this.register(function(n){return new Vee(n)}),this.register(function(n){return new rte(n)}),this.register(function(n){return new ite(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ea.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new _s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ea.decodeText(new Uint8Array(e.slice(0,4)))===ZI){try{o[fn.KHR_BINARY_GLTF]=new ste(e)}catch(c){i&&i(c);return}s=JSON.parse(o[fn.KHR_BINARY_GLTF].content)}else s=JSON.parse(ea.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new yte(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case fn.KHR_MATERIALS_UNLIT:o[c]=new Wee;break;case fn.KHR_DRACO_MESH_COMPRESSION:o[c]=new ote(s,this.dracoLoader);break;case fn.KHR_TEXTURE_TRANSFORM:o[c]=new ate;break;case fn.KHR_MESH_QUANTIZATION:o[c]=new lte;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Hee(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Vee{constructor(e){this.parser=e,this.name=fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new et(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new C7(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new T7(c),u.distance=f;break;case"spot":u=new E7(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Al(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Wee{constructor(){this.name=fn.KHR_MATERIALS_UNLIT}getMaterialType(){return Zi}extendParams(e,n,r){const i=[];e.color=new et(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class jee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Xee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ve(a,a)}return Promise.all(s)}}class Jee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Yee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new et(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Kee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Zee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new et(a[0],a[1],a[2]),Promise.all(s)}}class Qee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class qee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new et(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class $ee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class ete{constructor(e){this.parser=e,this.name=fn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class tte{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class nte{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rte{constructor(e){this.name=fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,d,i.mode,i.filter),m})})}else return null}}class ite{constructor(e){this.name=fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Ns.TRIANGLES&&u.mode!==Ns.TRIANGLE_STRIP&&u.mode!==Ns.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],d=u[0].count,m=[];for(const g of f){const v=new ht,y=new J,w=new or,S=new J(1,1,1),x=new i7(g.geometry,g.material,d);for(let M=0;M<d;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,M),l.SCALE&&S.fromBufferAttribute(l.SCALE,M),x.setMatrixAt(M,v.compose(y,w,S));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,l[M]);pn.prototype.copy.call(x,g),this.parser.assignFinalMaterial(x),m.push(x)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const ZI="glTF",Nd=12,oT={JSON:1313821514,BIN:5130562};class ste{constructor(e){this.name=fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Nd);if(this.header={magic:ea.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==ZI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Nd,i=new DataView(e,Nd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===oT.JSON){const l=new Uint8Array(e,Nd+s,o);this.content=ea.decodeText(l)}else if(a===oT.BIN){const l=Nd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ote{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=Jy[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=Jy[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],m=Kf[d.componentType];u[f]=m.name,l[f]=d.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(d){for(const m in d.attributes){const g=d.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}f(d)},a,u)})})}}class ate{constructor(){this.name=fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class lte{constructor(){this.name=fn.KHR_MESH_QUANTIZATION}}class QI extends Nh{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,f=(r-n)/c,d=f*f,m=d*f,g=e*u,v=g-u,y=-2*m+3*d,w=m-d,S=1-y,x=w-d+f;for(let M=0;M!==a;M++){const E=o[v+M+a],C=o[v+M+l]*c,P=o[g+M+a],T=o[g+M]*c;s[M]=S*E+x*C+y*P+w*T}return s}}const ute=new or;class cte extends QI{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return ute.fromArray(s).normalize().toArray(s),s}}const Ns={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Kf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},aT={9728:Nt,9729:gt,9984:a0,9985:uv,9986:Xf,9987:na},lT={33071:Cr,33648:dh,10497:xi},r4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Jy={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...KI>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},fte={CUBICSPLINE:void 0,LINEAR:pc,STEP:ph},i4={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function hte(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new $0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zs})),t.DefaultMaterial}function bu(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Al(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function dte(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function pte(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mte(t){let e;const n=t.extensions&&t.extensions[fn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+s4(n.attributes):e=t.indices+":"+s4(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+s4(t.targets[r]);return e}function s4(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Yy(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gte(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vte=new ht;class yte{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Hee,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new M7(this.options.manager):this.textureLoader=new XB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new _s(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};bu(s,a,i),Al(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[fn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ea.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=r4[i.type],a=Kf[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new ln(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=r4[i.type],u=Kf[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==f){const w=Math.floor(d/m),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let x=n.cache.get(S);x||(v=new u(a,w*m,i.count*m/c),x=new O0(v,m/c),n.cache.add(S,x)),y=new Qi(x,l,d%m/c,g)}else a===null?v=new u(i.count*l):v=new u(a,d,i.count*l),y=new ln(v,l,g);if(i.sparse!==void 0){const w=r4.SCALAR,S=Kf[i.sparse.indices.componentType],x=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,E=new S(o[1],x,i.sparse.count*w),C=new u(o[2],M,i.sparse.count*l);a!==null&&(y=new ln(y.array.slice(),y.itemSize,y.normalized));for(let P=0,T=E.length;P<T;P++){const R=E[P];if(y.setX(R,C[P*l]),l>=2&&y.setY(R,C[P*l+1]),l>=3&&y.setZ(R,C[P*l+2]),l>=4&&y.setW(R,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=aT[d.magFilter]||gt,c.minFilter=aT[d.minFilter]||na,c.wrapS=lT[d.wrapS]||xi,c.wrapT=lT[d.wrapT]||xi,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(d,m){let g=d;n.isImageBitmapLoader===!0&&(g=function(v){const y=new bn(v);y.needsUpdate=!0,d(y)}),n.load(ea.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||gte(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[fn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[fn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[fn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Sv,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new wi,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return $0}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[fn.KHR_MATERIALS_UNLIT]){const f=i[fn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new et(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ri);const c=s.alphaMode||i4.OPAQUE;if(c===i4.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===i4.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Zi&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ve(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Zi&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Zi&&(a.emissive=new et().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Zi&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Al(f,s),n.associations.set(f,{materials:e}),s.extensions&&bu(i,f,s),f})}createUniqueName(e){const n=vn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return uT(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=mte(u),f=i[c];if(f)o.push(f.promise);else{let d;u.extensions&&u.extensions[fn.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=uT(new Vt,u,n),i[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?hte(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,g=c.length;m<g;m++){const v=c[m],y=o[m];let w;const S=u[m];if(y.mode===Ns.TRIANGLES||y.mode===Ns.TRIANGLE_STRIP||y.mode===Ns.TRIANGLE_FAN||y.mode===void 0)w=s.isSkinnedMesh===!0?new r7(v,S):new Un(v,S),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),y.mode===Ns.TRIANGLE_STRIP?w.geometry=rT(w.geometry,Jx):y.mode===Ns.TRIANGLE_FAN&&(w.geometry=rT(w.geometry,mg));else if(y.mode===Ns.LINES)w=new Po(v,S);else if(y.mode===Ns.LINE_STRIP)w=new Ja(v,S);else if(y.mode===Ns.LINE_LOOP)w=new s7(v,S);else if(y.mode===Ns.POINTS)w=new o7(v,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(w.geometry.morphAttributes).length>0&&pte(w,s),w.name=n.createUniqueName(s.name||"mesh_"+e),Al(w,s),y.extensions&&bu(i,w,y),n.assignFinalMaterial(w),f.push(w)}for(let m=0,g=f.length;m<g;m++)n.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&bu(i,f[0],s),f[0];const d=new ka;s.extensions&&bu(i,d,s),n.associations.set(d,{meshes:e});for(let m=0,g=f.length;m<g;m++)d.add(f[m]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new In(yo.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new xo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Al(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const d=new ht;s!==null&&d.fromArray(s.array,u*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new z0(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const d=r.channels[c],m=r.samplers[d.sampler],g=d.target,v=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,w=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",w)),l.push(m),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],d=c[1],m=c[2],g=c[3],v=c[4],y=[];for(let w=0,S=f.length;w<S;w++){const x=f[w],M=d[w],E=m[w],C=g[w],P=v[w];if(x===void 0)continue;x.updateMatrix();let T;switch(gl[P.path]){case gl.weights:T=vh;break;case gl.rotation:T=Ql;break;case gl.position:case gl.scale:default:T=yh;break}const R=x.name?x.name:x.uuid,I=C.interpolation!==void 0?fte[C.interpolation]:pc,U=[];gl[P.path]===gl.weights?x.traverse(function(j){j.morphTargetInfluences&&U.push(j.name?j.name:j.uuid)}):U.push(R);let G=E.array;if(E.normalized){const j=Yy(G.constructor),D=new Float32Array(G.length);for(let k=0,H=G.length;k<H;k++)D[k]=G[k]*j;G=D}for(let j=0,D=U.length;j<D;j++){const k=new T(U[j]+"."+gl[P.path],M.array,G,I);C.interpolation==="CUBICSPLINE"&&(k.createInterpolant=function(oe){const N=this instanceof Ql?cte:QI;return new N(this.times,this.values,this.getValueSize()/3,oe)},k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(k)}}return new xh(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],d=u[2];d!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(d,vte)});for(let m=0,g=f.length;m<g;m++)c.add(f[m]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new xv:u.length>1?c=new ka:u.length===1?c=u[0]:c=new pn,c!==u[0])for(let f=0,d=u.length;f<d;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Al(c,s),s.extensions&&bu(r,c,s),s.matrix!==void 0){const f=new ht;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new ka;r.name&&(s.name=i.createUniqueName(r.name)),Al(s,r),r.extensions&&bu(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[d,m]of i.associations)(d instanceof pr||d instanceof bn)&&f.set(d,m);return c.traverse(d=>{const m=i.associations.get(d);m!=null&&f.set(d,m)}),f};return i.associations=u(s),s})}}function xte(t,e,n){const r=e.attributes,i=new rs;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(u[0],u[1],u[2])),a.normalized){const c=Yy(Kf[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new J,l=new J;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const v=Yy(Kf[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Cs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function uT(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=Jy[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Al(t,e),xte(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?dte(t,e.targets,n):t})}const Ste={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},wte={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class _te extends _7{constructor(e){super(e),this.type=Xn}parse(e){const a=function(x,M){switch(x){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},f=`
`,d=function(x,M,E){M=M||1024;let P=x.pos,T=-1,R=0,I="",U=String.fromCharCode.apply(null,new Uint16Array(x.subarray(P,P+128)));for(;0>(T=U.indexOf(f))&&R<M&&P<x.byteLength;)I+=U,R+=U.length,P+=128,U+=String.fromCharCode.apply(null,new Uint16Array(x.subarray(P,P+128)));return-1<T?(E!==!1&&(x.pos+=R+T+1),I+U.slice(0,T)):!1},m=function(x){const M=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let I,U;if(x.pos>=x.byteLength||!(I=d(x)))return a(1,"no header found");if(!(U=I.match(M)))return a(3,"bad initial token");for(R.valid|=1,R.programtype=U[1],R.string+=I+`
`;I=d(x),I!==!1;){if(R.string+=I+`
`,I.charAt(0)==="#"){R.comments+=I+`
`;continue}if((U=I.match(E))&&(R.gamma=parseFloat(U[1])),(U=I.match(C))&&(R.exposure=parseFloat(U[1])),(U=I.match(P))&&(R.valid|=2,R.format=U[1]),(U=I.match(T))&&(R.valid|=4,R.height=parseInt(U[1],10),R.width=parseInt(U[2],10)),R.valid&2&&R.valid&4)break}return R.valid&2?R.valid&4?R:a(3,"missing image size specifier"):a(3,"missing format specifier")},g=function(x,M,E){const C=M;if(C<8||C>32767||x[0]!==2||x[1]!==2||x[2]&128)return new Uint8Array(x);if(C!==(x[2]<<8|x[3]))return a(3,"wrong scanline width");const P=new Uint8Array(4*M*E);if(!P.length)return a(4,"unable to allocate buffer space");let T=0,R=0;const I=4*C,U=new Uint8Array(4),G=new Uint8Array(I);let j=E;for(;j>0&&R<x.byteLength;){if(R+4>x.byteLength)return a(1);if(U[0]=x[R++],U[1]=x[R++],U[2]=x[R++],U[3]=x[R++],U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=C)return a(3,"bad rgbe scanline format");let D=0,k;for(;D<I&&R<x.byteLength;){k=x[R++];const oe=k>128;if(oe&&(k-=128),k===0||D+k>I)return a(3,"bad scanline data");if(oe){const N=x[R++];for(let W=0;W<k;W++)G[D++]=N}else G.set(x.subarray(R,R+k),D),D+=k,R+=k}const H=C;for(let oe=0;oe<H;oe++){let N=0;P[T]=G[oe+N],N+=C,P[T+1]=G[oe+N],N+=C,P[T+2]=G[oe+N],N+=C,P[T+3]=G[oe+N],T+=4}j--}return P},v=function(x,M,E,C){const P=x[M+3],T=Math.pow(2,P-128)/255;E[C+0]=x[M+0]*T,E[C+1]=x[M+1]*T,E[C+2]=x[M+2]*T,E[C+3]=1},y=function(x,M,E,C){const P=x[M+3],T=Math.pow(2,P-128)/255;E[C+0]=Yu.toHalfFloat(Math.min(x[M+0]*T,65504)),E[C+1]=Yu.toHalfFloat(Math.min(x[M+1]*T,65504)),E[C+2]=Yu.toHalfFloat(Math.min(x[M+2]*T,65504)),E[C+3]=Yu.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const S=m(w);if(S!==-1){const x=S.width,M=S.height,E=g(w.subarray(w.pos),x,M);if(E!==-1){let C,P,T;switch(this.type){case Pn:T=E.length/4;const R=new Float32Array(T*4);for(let U=0;U<T;U++)v(E,U*4,R,U*4);C=R,P=Pn;break;case Xn:T=E.length/4;const I=new Uint16Array(T*4);for(let U=0;U<T;U++)y(E,U*4,I,U*4);C=I,P=Xn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:x,height:M,data:C,header:S.string,gamma:S.gamma,exposure:S.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Pn:case Xn:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=gt,o.magFilter=gt,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const Od="colorSpace"in new bn;class Mte extends _7{constructor(e){super(e),this.type=Xn}parse(e){const R=Math.pow(2.7182818,2.2);function I(L,V){for(var se=0,pe=0;pe<65536;++pe)(pe==0||L[pe>>3]&1<<(pe&7))&&(V[se++]=pe);for(var we=se-1;se<65536;)V[se++]=0;return we}function U(L){for(var V=0;V<16384;V++)L[V]={},L[V].len=0,L[V].lit=0,L[V].p=null}const G={l:0,c:0,lc:0};function j(L,V,se,pe,we){for(;se<L;)V=V<<8|Xe(pe,we),se+=8;se-=L,G.l=V>>se&(1<<L)-1,G.c=V,G.lc=se}const D=new Array(59);function k(L){for(var V=0;V<=58;++V)D[V]=0;for(var V=0;V<65537;++V)D[L[V]]+=1;for(var se=0,V=58;V>0;--V){var pe=se+D[V]>>1;D[V]=se,se=pe}for(var V=0;V<65537;++V){var we=L[V];we>0&&(L[V]=we|D[we]++<<6)}}function H(L,V,se,pe,we,Me,Ke){for(var Je=se,tt=0,nt=0;we<=Me;we++){if(Je.value-se.value>pe)return!1;j(6,tt,nt,L,Je);var qe=G.l;if(tt=G.c,nt=G.lc,Ke[we]=qe,qe==63){if(Je.value-se.value>pe)throw"Something wrong with hufUnpackEncTable";j(8,tt,nt,L,Je);var ye=G.l+6;if(tt=G.c,nt=G.lc,we+ye>Me+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)Ke[we++]=0;we--}else if(qe>=59){var ye=qe-59+2;if(we+ye>Me+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)Ke[we++]=0;we--}}k(Ke)}function oe(L){return L&63}function N(L){return L>>6}function W(L,V,se,pe){for(;V<=se;V++){var we=N(L[V]),Me=oe(L[V]);if(we>>Me)throw"Invalid table entry";if(Me>14){var Ke=pe[we>>Me-14];if(Ke.len)throw"Invalid table entry";if(Ke.lit++,Ke.p){var Je=Ke.p;Ke.p=new Array(Ke.lit);for(var tt=0;tt<Ke.lit-1;++tt)Ke.p[tt]=Je[tt]}else Ke.p=new Array(1);Ke.p[Ke.lit-1]=V}else if(Me)for(var nt=0,tt=1<<14-Me;tt>0;tt--){var Ke=pe[(we<<14-Me)+nt];if(Ke.len||Ke.p)throw"Invalid table entry";Ke.len=Me,Ke.lit=V,nt++}}return!0}const Z={c:0,lc:0};function Y(L,V,se,pe){L=L<<8|Xe(se,pe),V+=8,Z.c=L,Z.lc=V}const F={c:0,lc:0};function q(L,V,se,pe,we,Me,Ke,Je,tt,nt){if(L==V){pe<8&&(Y(se,pe,we,Ke),se=Z.c,pe=Z.lc),pe-=8;var qe=se>>pe,qe=new Uint8Array([qe])[0];if(tt.value+qe>nt)return!1;for(var ye=Je[tt.value-1];qe-- >0;)Je[tt.value++]=ye}else if(tt.value<nt)Je[tt.value++]=L;else return!1;F.c=se,F.lc=pe}function ee(L){return L&65535}function X(L){var V=ee(L);return V>32767?V-65536:V}const K={a:0,b:0};function le(L,V){var se=X(L),pe=X(V),we=pe,Me=se+(we&1)+(we>>1),Ke=Me,Je=Me-we;K.a=Ke,K.b=Je}function re(L,V){var se=ee(L),pe=ee(V),we=se-(pe>>1)&65535,Me=pe+we-32768&65535;K.a=Me,K.b=we}function me(L,V,se,pe,we,Me,Ke){for(var Je=Ke<16384,tt=se>we?we:se,nt=1,qe;nt<=tt;)nt<<=1;for(nt>>=1,qe=nt,nt>>=1;nt>=1;){for(var ye=0,nn=ye+Me*(we-qe),ut=Me*nt,pt=Me*qe,Dt=pe*nt,It=pe*qe,Qt,Tt,Mt,Lt;ye<=nn;ye+=pt){for(var Ct=ye,mn=ye+pe*(se-qe);Ct<=mn;Ct+=It){var zt=Ct+Dt,wn=Ct+ut,lr=wn+Dt;Je?(le(L[Ct+V],L[wn+V]),Qt=K.a,Mt=K.b,le(L[zt+V],L[lr+V]),Tt=K.a,Lt=K.b,le(Qt,Tt),L[Ct+V]=K.a,L[zt+V]=K.b,le(Mt,Lt),L[wn+V]=K.a,L[lr+V]=K.b):(re(L[Ct+V],L[wn+V]),Qt=K.a,Mt=K.b,re(L[zt+V],L[lr+V]),Tt=K.a,Lt=K.b,re(Qt,Tt),L[Ct+V]=K.a,L[zt+V]=K.b,re(Mt,Lt),L[wn+V]=K.a,L[lr+V]=K.b)}if(se&nt){var wn=Ct+ut;Je?le(L[Ct+V],L[wn+V]):re(L[Ct+V],L[wn+V]),Qt=K.a,L[wn+V]=K.b,L[Ct+V]=Qt}}if(we&nt)for(var Ct=ye,mn=ye+pe*(se-qe);Ct<=mn;Ct+=It){var zt=Ct+Dt;Je?le(L[Ct+V],L[zt+V]):re(L[Ct+V],L[zt+V]),Qt=K.a,L[zt+V]=K.b,L[Ct+V]=Qt}qe=nt,nt>>=1}return ye}function Ee(L,V,se,pe,we,Me,Ke,Je,tt,nt){for(var qe=0,ye=0,nn=Je,ut=Math.trunc(we.value+(Me+7)/8);we.value<ut;)for(Y(qe,ye,se,we),qe=Z.c,ye=Z.lc;ye>=14;){var pt=qe>>ye-14&16383,Dt=V[pt];if(Dt.len)ye-=Dt.len,q(Dt.lit,Ke,qe,ye,se,pe,we,tt,nt,nn),qe=F.c,ye=F.lc;else{if(!Dt.p)throw"hufDecode issues";var It;for(It=0;It<Dt.lit;It++){for(var Qt=oe(L[Dt.p[It]]);ye<Qt&&we.value<ut;)Y(qe,ye,se,we),qe=Z.c,ye=Z.lc;if(ye>=Qt&&N(L[Dt.p[It]])==(qe>>ye-Qt&(1<<Qt)-1)){ye-=Qt,q(Dt.p[It],Ke,qe,ye,se,pe,we,tt,nt,nn),qe=F.c,ye=F.lc;break}}if(It==Dt.lit)throw"hufDecode issues"}}var Tt=8-Me&7;for(qe>>=Tt,ye-=Tt;ye>0;){var Dt=V[qe<<14-ye&16383];if(Dt.len)ye-=Dt.len,q(Dt.lit,Ke,qe,ye,se,pe,we,tt,nt,nn),qe=F.c,ye=F.lc;else throw"hufDecode issues"}return!0}function _e(L,V,se,pe,we,Me){var Ke={value:0},Je=se.value,tt=je(V,se),nt=je(V,se);se.value+=4;var qe=je(V,se);if(se.value+=4,tt<0||tt>=65537||nt<0||nt>=65537)throw"Something wrong with HUF_ENCSIZE";var ye=new Array(65537),nn=new Array(16384);U(nn);var ut=pe-(se.value-Je);if(H(L,V,se,ut,tt,nt,ye),qe>8*(pe-(se.value-Je)))throw"Something wrong with hufUncompress";W(ye,tt,nt,nn),Ee(ye,nn,L,V,se,qe,nt,Me,we,Ke)}function ie(L,V,se){for(var pe=0;pe<se;++pe)V[pe]=L[V[pe]]}function xe(L){for(var V=1;V<L.length;V++){var se=L[V-1]+L[V]-128;L[V]=se}}function Le(L,V){for(var se=0,pe=Math.floor((L.length+1)/2),we=0,Me=L.length-1;!(we>Me||(V[we++]=L[se++],we>Me));)V[we++]=L[pe++]}function Ce(L){for(var V=L.byteLength,se=new Array,pe=0,we=new DataView(L);V>0;){var Me=we.getInt8(pe++);if(Me<0){var Ke=-Me;V-=Ke+1;for(var Je=0;Je<Ke;Je++)se.push(we.getUint8(pe++))}else{var Ke=Me;V-=2;for(var tt=we.getUint8(pe++),Je=0;Je<Ke+1;Je++)se.push(tt)}}return se}function Be(L,V,se,pe,we,Me){var zt=new DataView(Me.buffer),Ke=se[L.idx[0]].width,Je=se[L.idx[0]].height,tt=3,nt=Math.floor(Ke/8),qe=Math.ceil(Ke/8),ye=Math.ceil(Je/8),nn=Ke-(qe-1)*8,ut=Je-(ye-1)*8,pt={value:0},Dt=new Array(tt),It=new Array(tt),Qt=new Array(tt),Tt=new Array(tt),Mt=new Array(tt);for(let gn=0;gn<tt;++gn)Mt[gn]=V[L.idx[gn]],Dt[gn]=gn<1?0:Dt[gn-1]+qe*ye,It[gn]=new Float32Array(64),Qt[gn]=new Uint16Array(64),Tt[gn]=new Uint16Array(qe*64);for(let gn=0;gn<ye;++gn){var Lt=8;gn==ye-1&&(Lt=ut);var Ct=8;for(let xn=0;xn<qe;++xn){xn==qe-1&&(Ct=nn);for(let Xt=0;Xt<tt;++Xt)Qt[Xt].fill(0),Qt[Xt][0]=we[Dt[Xt]++],He(pt,pe,Qt[Xt]),Te(Qt[Xt],It[Xt]),Ye(It[Xt]);We(It);for(let Xt=0;Xt<tt;++Xt)De(It[Xt],Tt[Xt],xn*64)}let qn=0;for(let xn=0;xn<tt;++xn){const Xt=se[L.idx[xn]].type;for(let Nn=8*gn;Nn<8*gn+Lt;++Nn){qn=Mt[xn][Nn];for(let Gi=0;Gi<nt;++Gi){const gr=Gi*64+(Nn&7)*8;zt.setUint16(qn+0*2*Xt,Tt[xn][gr+0],!0),zt.setUint16(qn+1*2*Xt,Tt[xn][gr+1],!0),zt.setUint16(qn+2*2*Xt,Tt[xn][gr+2],!0),zt.setUint16(qn+3*2*Xt,Tt[xn][gr+3],!0),zt.setUint16(qn+4*2*Xt,Tt[xn][gr+4],!0),zt.setUint16(qn+5*2*Xt,Tt[xn][gr+5],!0),zt.setUint16(qn+6*2*Xt,Tt[xn][gr+6],!0),zt.setUint16(qn+7*2*Xt,Tt[xn][gr+7],!0),qn+=8*2*Xt}}if(nt!=qe)for(let Nn=8*gn;Nn<8*gn+Lt;++Nn){const Gi=Mt[xn][Nn]+8*nt*2*Xt,gr=nt*64+(Nn&7)*8;for(let is=0;is<Ct;++is)zt.setUint16(Gi+is*2*Xt,Tt[xn][gr+is],!0)}}}for(var mn=new Uint16Array(Ke),zt=new DataView(Me.buffer),wn=0;wn<tt;++wn){se[L.idx[wn]].decoded=!0;var lr=se[L.idx[wn]].type;if(se[wn].type==2)for(var Yn=0;Yn<Je;++Yn){const gn=Mt[wn][Yn];for(var Kn=0;Kn<Ke;++Kn)mn[Kn]=zt.getUint16(gn+Kn*2*lr,!0);for(var Kn=0;Kn<Ke;++Kn)zt.setFloat32(gn+Kn*2*lr,ce(mn[Kn]),!0)}}}function He(L,V,se){for(var pe,we=1;we<64;)pe=V[L.value],pe==65280?we=64:pe>>8==255?we+=pe&255:(se[we]=pe,we++),L.value++}function Te(L,V){V[0]=ce(L[0]),V[1]=ce(L[1]),V[2]=ce(L[5]),V[3]=ce(L[6]),V[4]=ce(L[14]),V[5]=ce(L[15]),V[6]=ce(L[27]),V[7]=ce(L[28]),V[8]=ce(L[2]),V[9]=ce(L[4]),V[10]=ce(L[7]),V[11]=ce(L[13]),V[12]=ce(L[16]),V[13]=ce(L[26]),V[14]=ce(L[29]),V[15]=ce(L[42]),V[16]=ce(L[3]),V[17]=ce(L[8]),V[18]=ce(L[12]),V[19]=ce(L[17]),V[20]=ce(L[25]),V[21]=ce(L[30]),V[22]=ce(L[41]),V[23]=ce(L[43]),V[24]=ce(L[9]),V[25]=ce(L[11]),V[26]=ce(L[18]),V[27]=ce(L[24]),V[28]=ce(L[31]),V[29]=ce(L[40]),V[30]=ce(L[44]),V[31]=ce(L[53]),V[32]=ce(L[10]),V[33]=ce(L[19]),V[34]=ce(L[23]),V[35]=ce(L[32]),V[36]=ce(L[39]),V[37]=ce(L[45]),V[38]=ce(L[52]),V[39]=ce(L[54]),V[40]=ce(L[20]),V[41]=ce(L[22]),V[42]=ce(L[33]),V[43]=ce(L[38]),V[44]=ce(L[46]),V[45]=ce(L[51]),V[46]=ce(L[55]),V[47]=ce(L[60]),V[48]=ce(L[21]),V[49]=ce(L[34]),V[50]=ce(L[37]),V[51]=ce(L[47]),V[52]=ce(L[50]),V[53]=ce(L[56]),V[54]=ce(L[59]),V[55]=ce(L[61]),V[56]=ce(L[35]),V[57]=ce(L[36]),V[58]=ce(L[48]),V[59]=ce(L[49]),V[60]=ce(L[57]),V[61]=ce(L[58]),V[62]=ce(L[62]),V[63]=ce(L[63])}function Ye(L){const V=.5*Math.cos(.7853975),se=.5*Math.cos(3.14159/16),pe=.5*Math.cos(3.14159/8),we=.5*Math.cos(3*3.14159/16),Me=.5*Math.cos(5*3.14159/16),Ke=.5*Math.cos(3*3.14159/8),Je=.5*Math.cos(7*3.14159/16);for(var tt=new Array(4),nt=new Array(4),qe=new Array(4),ye=new Array(4),nn=0;nn<8;++nn){var ut=nn*8;tt[0]=pe*L[ut+2],tt[1]=Ke*L[ut+2],tt[2]=pe*L[ut+6],tt[3]=Ke*L[ut+6],nt[0]=se*L[ut+1]+we*L[ut+3]+Me*L[ut+5]+Je*L[ut+7],nt[1]=we*L[ut+1]-Je*L[ut+3]-se*L[ut+5]-Me*L[ut+7],nt[2]=Me*L[ut+1]-se*L[ut+3]+Je*L[ut+5]+we*L[ut+7],nt[3]=Je*L[ut+1]-Me*L[ut+3]+we*L[ut+5]-se*L[ut+7],qe[0]=V*(L[ut+0]+L[ut+4]),qe[3]=V*(L[ut+0]-L[ut+4]),qe[1]=tt[0]+tt[3],qe[2]=tt[1]-tt[2],ye[0]=qe[0]+qe[1],ye[1]=qe[3]+qe[2],ye[2]=qe[3]-qe[2],ye[3]=qe[0]-qe[1],L[ut+0]=ye[0]+nt[0],L[ut+1]=ye[1]+nt[1],L[ut+2]=ye[2]+nt[2],L[ut+3]=ye[3]+nt[3],L[ut+4]=ye[3]-nt[3],L[ut+5]=ye[2]-nt[2],L[ut+6]=ye[1]-nt[1],L[ut+7]=ye[0]-nt[0]}for(var pt=0;pt<8;++pt)tt[0]=pe*L[16+pt],tt[1]=Ke*L[16+pt],tt[2]=pe*L[48+pt],tt[3]=Ke*L[48+pt],nt[0]=se*L[8+pt]+we*L[24+pt]+Me*L[40+pt]+Je*L[56+pt],nt[1]=we*L[8+pt]-Je*L[24+pt]-se*L[40+pt]-Me*L[56+pt],nt[2]=Me*L[8+pt]-se*L[24+pt]+Je*L[40+pt]+we*L[56+pt],nt[3]=Je*L[8+pt]-Me*L[24+pt]+we*L[40+pt]-se*L[56+pt],qe[0]=V*(L[pt]+L[32+pt]),qe[3]=V*(L[pt]-L[32+pt]),qe[1]=tt[0]+tt[3],qe[2]=tt[1]-tt[2],ye[0]=qe[0]+qe[1],ye[1]=qe[3]+qe[2],ye[2]=qe[3]-qe[2],ye[3]=qe[0]-qe[1],L[0+pt]=ye[0]+nt[0],L[8+pt]=ye[1]+nt[1],L[16+pt]=ye[2]+nt[2],L[24+pt]=ye[3]+nt[3],L[32+pt]=ye[3]-nt[3],L[40+pt]=ye[2]-nt[2],L[48+pt]=ye[1]-nt[1],L[56+pt]=ye[0]-nt[0]}function We(L){for(var V=0;V<64;++V){var se=L[0][V],pe=L[1][V],we=L[2][V];L[0][V]=se+1.5747*we,L[1][V]=se-.1873*pe-.4682*we,L[2][V]=se+1.8556*pe}}function De(L,V,se){for(var pe=0;pe<64;++pe)V[se+pe]=Yu.toHalfFloat(Q(L[pe]))}function Q(L){return L<=1?Math.sign(L)*Math.pow(Math.abs(L),2.2):Math.sign(L)*Math.pow(R,Math.abs(L)-1)}function O(L){return new DataView(L.array.buffer,L.offset.value,L.size)}function ue(L){var V=L.viewer.buffer.slice(L.offset.value,L.offset.value+L.size),se=new Uint8Array(Ce(V)),pe=new Uint8Array(se.length);return xe(se),Le(se,pe),new DataView(pe.buffer)}function Se(L){var V=L.array.slice(L.offset.value,L.offset.value+L.size),se=xm(V),pe=new Uint8Array(se.length);return xe(se),Le(se,pe),new DataView(pe.buffer)}function Ge(L){for(var V=L.viewer,se={value:L.offset.value},pe=new Uint16Array(L.width*L.scanlineBlockSize*(L.channels*L.type)),we=new Uint8Array(8192),Me=0,Ke=new Array(L.channels),Je=0;Je<L.channels;Je++)Ke[Je]={},Ke[Je].start=Me,Ke[Je].end=Ke[Je].start,Ke[Je].nx=L.width,Ke[Je].ny=L.lines,Ke[Je].size=L.type,Me+=Ke[Je].nx*Ke[Je].ny*Ke[Je].size;var tt=Ne(V,se),nt=Ne(V,se);if(nt>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(tt<=nt)for(var Je=0;Je<nt-tt+1;Je++)we[Je+tt]=ae(V,se);var qe=new Uint16Array(65536),ye=I(we,qe),nn=je(V,se);_e(L.array,V,se,nn,pe,Me);for(var Je=0;Je<L.channels;++Je)for(var ut=Ke[Je],pt=0;pt<Ke[Je].size;++pt)me(pe,ut.start+pt,ut.nx,ut.size,ut.ny,ut.nx*ut.size,ye);ie(qe,pe,Me);for(var Dt=0,It=new Uint8Array(pe.buffer.byteLength),Qt=0;Qt<L.lines;Qt++)for(var Tt=0;Tt<L.channels;Tt++){var ut=Ke[Tt],Mt=ut.nx*ut.size,Lt=new Uint8Array(pe.buffer,ut.end*2,Mt*2);It.set(Lt,Dt),Dt+=Mt*2,ut.end+=Mt}return new DataView(It.buffer)}function Ve(L){var V=L.array.slice(L.offset.value,L.offset.value+L.size),se=xm(V);const pe=L.lines*L.channels*L.width,we=L.type==1?new Uint16Array(pe):new Uint32Array(pe);let Me=0,Ke=0;const Je=new Array(4);for(let tt=0;tt<L.lines;tt++)for(let nt=0;nt<L.channels;nt++){let qe=0;switch(L.type){case 1:Je[0]=Me,Je[1]=Je[0]+L.width,Me=Je[1]+L.width;for(let ye=0;ye<L.width;++ye){const nn=se[Je[0]++]<<8|se[Je[1]++];qe+=nn,we[Ke]=qe,Ke++}break;case 2:Je[0]=Me,Je[1]=Je[0]+L.width,Je[2]=Je[1]+L.width,Me=Je[2]+L.width;for(let ye=0;ye<L.width;++ye){const nn=se[Je[0]++]<<24|se[Je[1]++]<<16|se[Je[2]++]<<8;qe+=nn,we[Ke]=qe,Ke++}break}}return new DataView(we.buffer)}function ze(L){var V=L.viewer,se={value:L.offset.value},pe=new Uint8Array(L.width*L.lines*(L.channels*L.type*2)),we={version:Re(V,se),unknownUncompressedSize:Re(V,se),unknownCompressedSize:Re(V,se),acCompressedSize:Re(V,se),dcCompressedSize:Re(V,se),rleCompressedSize:Re(V,se),rleUncompressedSize:Re(V,se),rleRawSize:Re(V,se),totalAcUncompressedCount:Re(V,se),totalDcUncompressedCount:Re(V,se),acCompression:Re(V,se)};if(we.version<2)throw"EXRLoader.parse: "+Pe.compression+" version "+we.version+" is unsupported";for(var Me=new Array,Ke=Ne(V,se)-2;Ke>0;){var Je=Ze(V.buffer,se),tt=ae(V,se),nt=tt>>2&3,qe=(tt>>4)-1,ye=new Int8Array([qe])[0],nn=ae(V,se);Me.push({name:Je,index:ye,type:nn,compression:nt}),Ke-=Je.length+3}for(var ut=Pe.channels,pt=new Array(L.channels),Dt=0;Dt<L.channels;++Dt){var It=pt[Dt]={},Qt=ut[Dt];It.name=Qt.name,It.compression=0,It.decoded=!1,It.type=Qt.pixelType,It.pLinear=Qt.pLinear,It.width=L.width,It.height=L.lines}for(var Tt={idx:new Array(3)},Mt=0;Mt<L.channels;++Mt)for(var It=pt[Mt],Dt=0;Dt<Me.length;++Dt){var Lt=Me[Dt];It.name==Lt.name&&(It.compression=Lt.compression,Lt.index>=0&&(Tt.idx[Lt.index]=Mt),It.offset=Mt)}if(we.acCompressedSize>0)switch(we.acCompression){case 0:var zt=new Uint16Array(we.totalAcUncompressedCount);_e(L.array,V,se,we.acCompressedSize,zt,we.totalAcUncompressedCount);break;case 1:var Ct=L.array.slice(se.value,se.value+we.totalAcUncompressedCount),mn=xm(Ct),zt=new Uint16Array(mn.buffer);se.value+=we.totalAcUncompressedCount;break}if(we.dcCompressedSize>0){var wn={array:L.array,offset:se,size:we.dcCompressedSize},lr=new Uint16Array(Se(wn).buffer);se.value+=we.dcCompressedSize}if(we.rleRawSize>0){var Ct=L.array.slice(se.value,se.value+we.rleCompressedSize),mn=xm(Ct),Yn=Ce(mn.buffer);se.value+=we.rleCompressedSize}for(var Kn=0,gn=new Array(pt.length),Dt=0;Dt<gn.length;++Dt)gn[Dt]=new Array;for(var qn=0;qn<L.lines;++qn)for(var xn=0;xn<pt.length;++xn)gn[xn].push(Kn),Kn+=pt[xn].width*L.type*2;Be(Tt,gn,pt,zt,lr,pe);for(var Dt=0;Dt<pt.length;++Dt){var It=pt[Dt];if(!It.decoded)switch(It.compression){case 2:for(var Xt=0,Nn=0,qn=0;qn<L.lines;++qn){for(var Gi=gn[Dt][Xt],gr=0;gr<It.width;++gr){for(var is=0;is<2*It.type;++is)pe[Gi++]=Yn[Nn+is*It.width*It.height];Nn++}Xt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(pe.buffer)}function Ze(L,V){for(var se=new Uint8Array(L),pe=0;se[V.value+pe]!=0;)pe+=1;var we=new TextDecoder().decode(se.slice(V.value,V.value+pe));return V.value=V.value+pe+1,we}function Ie(L,V,se){var pe=new TextDecoder().decode(new Uint8Array(L).slice(V.value,V.value+se));return V.value=V.value+se,pe}function at(L,V){var se=st(L,V),pe=je(L,V);return[se,pe]}function Qe(L,V){var se=je(L,V),pe=je(L,V);return[se,pe]}function st(L,V){var se=L.getInt32(V.value,!0);return V.value=V.value+4,se}function je(L,V){var se=L.getUint32(V.value,!0);return V.value=V.value+4,se}function Xe(L,V){var se=L[V.value];return V.value=V.value+1,se}function ae(L,V){var se=L.getUint8(V.value);return V.value=V.value+1,se}const Re=function(L,V){let se;return"getBigInt64"in DataView.prototype?se=Number(L.getBigInt64(V.value,!0)):se=L.getUint32(V.value+4,!0)+Number(L.getUint32(V.value,!0)<<32),V.value+=8,se};function $e(L,V){var se=L.getFloat32(V.value,!0);return V.value+=4,se}function ne(L,V){return Yu.toHalfFloat($e(L,V))}function ce(L){var V=(L&31744)>>10,se=L&1023;return(L>>15?-1:1)*(V?V===31?se?NaN:1/0:Math.pow(2,V-15)*(1+se/1024):6103515625e-14*(se/1024))}function Ne(L,V){var se=L.getUint16(V.value,!0);return V.value+=2,se}function it(L,V){return ce(Ne(L,V))}function dt(L,V,se,pe){for(var we=se.value,Me=[];se.value<we+pe-1;){var Ke=Ze(V,se),Je=st(L,se),tt=ae(L,se);se.value+=3;var nt=st(L,se),qe=st(L,se);Me.push({name:Ke,pixelType:Je,pLinear:tt,xSampling:nt,ySampling:qe})}return se.value+=1,Me}function Kt(L,V){var se=$e(L,V),pe=$e(L,V),we=$e(L,V),Me=$e(L,V),Ke=$e(L,V),Je=$e(L,V),tt=$e(L,V),nt=$e(L,V);return{redX:se,redY:pe,greenX:we,greenY:Me,blueX:Ke,blueY:Je,whiteX:tt,whiteY:nt}}function Ot(L,V){var se=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],pe=ae(L,V);return se[pe]}function Wt(L,V){var se=je(L,V),pe=je(L,V),we=je(L,V),Me=je(L,V);return{xMin:se,yMin:pe,xMax:we,yMax:Me}}function jt(L,V){var se=["INCREASING_Y"],pe=ae(L,V);return se[pe]}function on(L,V){var se=$e(L,V),pe=$e(L,V);return[se,pe]}function Gt(L,V){var se=$e(L,V),pe=$e(L,V),we=$e(L,V);return[se,pe,we]}function Zt(L,V,se,pe,we){if(pe==="string"||pe==="stringvector"||pe==="iccProfile")return Ie(V,se,we);if(pe==="chlist")return dt(L,V,se,we);if(pe==="chromaticities")return Kt(L,se);if(pe==="compression")return Ot(L,se);if(pe==="box2i")return Wt(L,se);if(pe==="lineOrder")return jt(L,se);if(pe==="float")return $e(L,se);if(pe==="v2f")return on(L,se);if(pe==="v3f")return Gt(L,se);if(pe==="int")return st(L,se);if(pe==="rational")return at(L,se);if(pe==="timecode")return Qe(L,se);if(pe==="preview")return se.value+=we,"skipped";se.value+=we}function Zr(L,V,se){const pe={};if(L.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";pe.version=L.getUint8(4);const we=L.getUint8(5);pe.spec={singleTile:!!(we&2),longName:!!(we&4),deepFormat:!!(we&8),multiPart:!!(we&16)},se.value=8;for(var Me=!0;Me;){var Ke=Ze(V,se);if(Ke==0)Me=!1;else{var Je=Ze(V,se),tt=je(L,se),nt=Zt(L,V,se,Je,tt);nt===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Je}'.`):pe[Ke]=nt}}if(we!=0)throw console.error("EXRHeader:",pe),"THREE.EXRLoader: provided file is currently unsupported.";return pe}function Dr(L,V,se,pe,we){const Me={size:0,viewer:V,array:se,offset:pe,width:L.dataWindow.xMax-L.dataWindow.xMin+1,height:L.dataWindow.yMax-L.dataWindow.yMin+1,channels:L.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:L.channels[0].pixelType,uncompress:null,getter:null,format:null,[Od?"colorSpace":"encoding"]:null};switch(L.compression){case"NO_COMPRESSION":Me.lines=1,Me.uncompress=O;break;case"RLE_COMPRESSION":Me.lines=1,Me.uncompress=ue;break;case"ZIPS_COMPRESSION":Me.lines=1,Me.uncompress=Se;break;case"ZIP_COMPRESSION":Me.lines=16,Me.uncompress=Se;break;case"PIZ_COMPRESSION":Me.lines=32,Me.uncompress=Ge;break;case"PXR24_COMPRESSION":Me.lines=16,Me.uncompress=Ve;break;case"DWAA_COMPRESSION":Me.lines=32,Me.uncompress=ze;break;case"DWAB_COMPRESSION":Me.lines=256,Me.uncompress=ze;break;default:throw"EXRLoader.parse: "+L.compression+" is unsupported"}if(Me.scanlineBlockSize=Me.lines,Me.type==1)switch(we){case Pn:Me.getter=it,Me.inputSize=2;break;case Xn:Me.getter=Ne,Me.inputSize=2;break}else if(Me.type==2)switch(we){case Pn:Me.getter=$e,Me.inputSize=4;break;case Xn:Me.getter=ne,Me.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Me.type+" for "+L.compression+".";Me.blockCount=(L.dataWindow.yMax+1)/Me.scanlineBlockSize;for(var Ke=0;Ke<Me.blockCount;Ke++)Re(V,pe);Me.outputChannels=Me.channels==3?4:Me.channels;const Je=Me.width*Me.height*Me.outputChannels;switch(we){case Pn:Me.byteArray=new Float32Array(Je),Me.channels<Me.outputChannels&&Me.byteArray.fill(1,0,Je);break;case Xn:Me.byteArray=new Uint16Array(Je),Me.channels<Me.outputChannels&&Me.byteArray.fill(15360,0,Je);break;default:console.error("THREE.EXRLoader: unsupported type: ",we);break}return Me.bytesPerLine=Me.width*Me.inputSize*Me.channels,Me.outputChannels==4?Me.format=zn:Me.format=F0,Od?Me.colorSpace="srgb-linear":Me.encoding=3e3,Me}const un=new DataView(e),$=new Uint8Array(e),Ae={value:0},Pe=Zr(un,e,Ae),fe=Dr(Pe,un,$,Ae,this.type),Fe={value:0},St={R:0,G:1,B:2,A:3,Y:0};for(let L=0;L<fe.height/fe.scanlineBlockSize;L++){const V=je(un,Ae);fe.size=je(un,Ae),fe.lines=V+fe.scanlineBlockSize>fe.height?fe.height-V:fe.scanlineBlockSize;const pe=fe.size<fe.lines*fe.bytesPerLine?fe.uncompress(fe):O(fe);Ae.value+=fe.size;for(let we=0;we<fe.scanlineBlockSize;we++){const Me=we+L*fe.scanlineBlockSize;if(Me>=fe.height)break;for(let Ke=0;Ke<fe.channels;Ke++){const Je=St[Pe.channels[Ke].name];for(let tt=0;tt<fe.width;tt++){Fe.value=(we*(fe.channels*fe.width)+Ke*fe.width+tt)*fe.inputSize;const nt=(fe.height-1-Me)*(fe.width*fe.outputChannels)+tt*fe.outputChannels+Je;fe.byteArray[nt]=fe.getter(pe,Fe)}}}}return{header:Pe,width:fe.width,height:fe.height,data:fe.byteArray,format:fe.format,[Od?"colorSpace":"encoding"]:fe[Od?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){Od?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=gt,o.magFilter=gt,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const o4=new WeakMap;class Ate extends zi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new _s(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(o4.has(e)){const l=o4.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),o4.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Vt;e.index&&n.setIndex(new ln(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new ln(o,a))}return n}_loadLibrary(e,n){const r=new _s(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Ete.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Ete(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=n(f,d,m,u),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(d)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in c){const w=self[f[y]];let S,x;if(u.useUniqueIDs)x=c[y],S=a.GetAttributeByUniqueId(d,x);else{if(x=a.GetAttributeId(d,o[c[y]]),x===-1)continue;S=a.GetAttribute(d,x)}v.attributes.push(i(o,a,d,y,w,S))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const c=l.num_faces()*3,f=c*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const m=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const d=f.num_components(),g=l.num_points()*d,v=g*c.BYTES_PER_ELEMENT,y=s(o,c),w=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,w);const S=new c(o.HEAPF32.buffer,w,g).slice();return o._free(w),{name:u,array:S,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const cT=new rs,wm=new J;class eS extends Ev{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new wt(e,3)),this.setAttribute("uv",new wt(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new xg(n,6,1);return this.setAttribute("instanceStart",new Qi(r,3,0)),this.setAttribute("instanceEnd",new Qi(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new xg(n,6,1);return this.setAttribute("instanceColorStart",new Qi(r,3,0)),this.setAttribute("instanceColorEnd",new Qi(r,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new p7(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),cT.setFromBufferAttribute(n),this.boundingBox.union(cT))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cs),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)wm.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(wm)),wm.fromBufferAttribute(n,s),i=Math.max(i,r.distanceToSquared(wm));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class qI extends eS{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setColors(r),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class tS extends Ht{constructor(e){super({type:"LineMaterial",uniforms:mc.clone(mc.merge([ct.common,ct.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ve(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(qs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const fT=new J,hT=new J,qr=new qt,$r=new qt,Go=new qt,a4=new J,l4=new ht,mi=new KB,dT=new J,_m=new rs,Mm=new Cs,Ho=new qt;let Yo,Ky,$I,ic;function pT(t,e,n){return Ho.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Ho.multiplyScalar(1/Ho.w),Ho.x=ic/n.width,Ho.y=ic/n.height,Ho.applyMatrix4(t.projectionMatrixInverse),Ho.multiplyScalar(1/Ho.w),Math.abs(Math.max(Ho.x,Ho.y))}function Tte(t,e){for(let n=0,r=Ky.count;n<r;n++){mi.start.fromBufferAttribute(Ky,n),mi.end.fromBufferAttribute($I,n);const i=new J,s=new J;Yo.distanceSqToSegment(mi.start,mi.end,s,i),s.distanceTo(i)<ic*.5&&e.push({point:s,pointOnLine:i,distance:Yo.origin.distanceTo(s),object:t,face:null,faceIndex:n,uv:null,uv2:null})}}function Cte(t,e,n){const r=e.projectionMatrix,s=t.material.resolution,o=t.matrixWorld,a=t.geometry,l=a.attributes.instanceStart,u=a.attributes.instanceEnd,c=-e.near;Yo.at(1,Go),Go.w=1,Go.applyMatrix4(e.matrixWorldInverse),Go.applyMatrix4(r),Go.multiplyScalar(1/Go.w),Go.x*=s.x/2,Go.y*=s.y/2,Go.z=0,a4.copy(Go),l4.multiplyMatrices(e.matrixWorldInverse,o);for(let f=0,d=l.count;f<d;f++){if(qr.fromBufferAttribute(l,f),$r.fromBufferAttribute(u,f),qr.w=1,$r.w=1,qr.applyMatrix4(l4),$r.applyMatrix4(l4),qr.z>c&&$r.z>c)continue;if(qr.z>c){const S=qr.z-$r.z,x=(qr.z-c)/S;qr.lerp($r,x)}else if($r.z>c){const S=$r.z-qr.z,x=($r.z-c)/S;$r.lerp(qr,x)}qr.applyMatrix4(r),$r.applyMatrix4(r),qr.multiplyScalar(1/qr.w),$r.multiplyScalar(1/$r.w),qr.x*=s.x/2,qr.y*=s.y/2,$r.x*=s.x/2,$r.y*=s.y/2,mi.start.copy(qr),mi.start.z=0,mi.end.copy($r),mi.end.z=0;const g=mi.closestPointToPointParameter(a4,!0);mi.at(g,dT);const v=yo.lerp(qr.z,$r.z,g),y=v>=-1&&v<=1,w=a4.distanceTo(dT)<ic*.5;if(y&&w){mi.start.fromBufferAttribute(l,f),mi.end.fromBufferAttribute(u,f),mi.start.applyMatrix4(o),mi.end.applyMatrix4(o);const S=new J,x=new J;Yo.distanceSqToSegment(mi.start,mi.end,x,S),n.push({point:x,pointOnLine:S,distance:Yo.origin.distanceTo(x),object:t,face:null,faceIndex:f,uv:null,uv2:null})}}}class eL extends Un{constructor(e=new eS,n=new tS({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let o=0,a=0,l=n.count;o<l;o++,a+=2)fT.fromBufferAttribute(n,o),hT.fromBufferAttribute(r,o),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+fT.distanceTo(hT);const s=new xg(i,2,1);return e.setAttribute("instanceDistanceStart",new Qi(s,1,0)),e.setAttribute("instanceDistanceEnd",new Qi(s,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Yo=e.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;ic=l.linewidth+s,Ky=a.attributes.instanceStart,$I=a.attributes.instanceEnd,a.boundingSphere===null&&a.computeBoundingSphere(),Mm.copy(a.boundingSphere).applyMatrix4(o);let u;if(r)u=ic*.5;else{const f=Math.max(i.near,Mm.distanceToPoint(Yo.origin));u=pT(i,f,l.resolution)}if(Mm.radius+=u,Yo.intersectsSphere(Mm)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),_m.copy(a.boundingBox).applyMatrix4(o);let c;if(r)c=ic*.5;else{const f=Math.max(i.near,_m.distanceToPoint(Yo.origin));c=pT(i,f,l.resolution)}_m.expandByScalar(c),Yo.intersectsBox(_m)!==!1&&(r?Tte(this,n):Cte(this,i,n))}}class bte extends eL{constructor(e=new qI,n=new tS({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}let Am;const u4=()=>{if(Am)return Am;const t="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",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<f.length;++g)d[m++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(f,d,m,g,v,y){const w=s.exports.sbrk,S=m+3&-4,x=w(S*g),M=w(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,M);const C=f(x,m,g,M,v.length);if(C===0&&y&&y(x,S,g),d.set(E.subarray(x,x+m*g)),w(x-w(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Am={ready:o,supported:!0,decodeVertexBuffer(f,d,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,m,g,s.exports[u[v]])},decodeIndexBuffer(f,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,m,g)},decodeIndexSequence(f,d,m,g){l(s.exports.meshopt_decodeIndexSequence,f,d,m,g)},decodeGltfBuffer(f,d,m,g,v,y){l(s.exports[c[v]],f,d,m,g,s.exports[u[y]])}},Am},c4=z.forwardRef(function({points:e,color:n="black",vertexColors:r,linewidth:i,lineWidth:s,segments:o,dashed:a,...l},u){const c=en(g=>g.size),f=z.useMemo(()=>o?new eL:new bte,[o]),[d]=z.useState(()=>new tS),m=z.useMemo(()=>{const g=o?new eS:new qI,v=e.map(y=>{const w=Array.isArray(y);return y instanceof J?[y.x,y.y,y.z]:y instanceof ve?[y.x,y.y,0]:w&&y.length===3?[y[0],y[1],y[2]]:w&&y.length===2?[y[0],y[1],0]:y});if(g.setPositions(v.flat()),r){const y=r.map(w=>w instanceof et?w.toArray():w);g.setColors(y.flat())}return g},[e,o,r]);return z.useLayoutEffect(()=>{f.computeLineDistances()},[e,f]),z.useLayoutEffect(()=>{a?d.defines.USE_DASH="":delete d.defines.USE_DASH,d.needsUpdate=!0},[a,d]),z.useEffect(()=>()=>m.dispose(),[m]),z.createElement("primitive",Pr({object:f,ref:u},l),z.createElement("primitive",{object:m,attach:"geometry"}),z.createElement("primitive",Pr({object:d,attach:"material",color:n,vertexColors:!!r,resolution:[c.width,c.height],linewidth:i??s,dashed:a},l)))});function Pte(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(m){if(m instanceof Error)throw m}),d=t[d.id].value),d}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var d=t[a].getTransferables&&t[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function Rte(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var tL=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return tL=function(){return t},t},Dte=0,Bte=0,f4=!1,Cp=Object.create(null),bp=Object.create(null),Zy=Object.create(null);function s3(t){if((!t||typeof t.init!="function")&&!f4)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!tL())return Rte(t);i==null&&(i="#default");var s="workerModule"+ ++Dte,o=t.name||s,a=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(f4=!0,u=s3({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+u1(u)+`
)}`}),f4=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!a){a=mT(i,"registerModule",l.workerModuleData);var f=function(){a=null,bp[i].delete(f)};(bp[i]||(bp[i]=new Set)).add(f)}return a.then(function(d){var m=d.isCallable;if(m)return mT(i,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:u1(n),getTransferables:r&&u1(r)},l}function Ite(t){bp[t]&&bp[t].forEach(function(e){e()}),Cp[t]&&(Cp[t].terminate(),delete Cp[t])}function u1(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Lte(t){var e=Cp[t];if(!e){var n=u1(Pte);e=Cp[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=Zy[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete Zy[s],o(i)}}return e}function mT(t,e,n){return new Promise(function(r,i){var s=++Bte;Zy[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Lte(t).postMessage({messageId:s,action:e,data:n})})}function nL(){var t=function(e){function n(W,Z,Y,F,q,ee,X,K){var le=1-X;K.x=le*le*W+2*le*X*Y+X*X*q,K.y=le*le*Z+2*le*X*F+X*X*ee}function r(W,Z,Y,F,q,ee,X,K,le,re){var me=1-le;re.x=me*me*me*W+3*me*me*le*Y+3*me*le*le*q+le*le*le*X,re.y=me*me*me*Z+3*me*me*le*F+3*me*le*le*ee+le*le*le*K}function i(W,Z){for(var Y=/([MLQCZ])([^MLQCZ]*)/g,F,q,ee,X,K;F=Y.exec(W);){var le=F[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(F[1]){case"M":X=q=le[0],K=ee=le[1];break;case"L":(le[0]!==X||le[1]!==K)&&Z("L",X,K,X=le[0],K=le[1]);break;case"Q":{Z("Q",X,K,X=le[2],K=le[3],le[0],le[1]);break}case"C":{Z("C",X,K,X=le[4],K=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(X!==q||K!==ee)&&Z("L",X,K,q,ee);break}}}function s(W,Z,Y){Y===void 0&&(Y=16);var F={x:0,y:0};i(W,function(q,ee,X,K,le,re,me,Ee,_e){switch(q){case"L":Z(ee,X,K,le);break;case"Q":{for(var ie=ee,xe=X,Le=1;Le<Y;Le++)n(ee,X,re,me,K,le,Le/(Y-1),F),Z(ie,xe,F.x,F.y),ie=F.x,xe=F.y;break}case"C":{for(var Ce=ee,Be=X,He=1;He<Y;He++)r(ee,X,re,me,Ee,_e,K,le,He/(Y-1),F),Z(Ce,Be,F.x,F.y),Ce=F.x,Be=F.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(W,Z){var Y=W.getContext?W.getContext("webgl",u):W,F=l.get(Y);if(!F){let Ce=function(De){var Q=ee[De];if(!Q&&(Q=ee[De]=Y.getExtension(De),!Q))throw new Error(De+" not supported");return Q},Be=function(De,Q){var O=Y.createShader(Q);return Y.shaderSource(O,De),Y.compileShader(O),O},He=function(De,Q,O,ue){if(!X[De]){var Se={},Ge={},Ve=Y.createProgram();Y.attachShader(Ve,Be(Q,Y.VERTEX_SHADER)),Y.attachShader(Ve,Be(O,Y.FRAGMENT_SHADER)),Y.linkProgram(Ve),X[De]={program:Ve,transaction:function(Ze){Y.useProgram(Ve),Ze({setUniform:function(at,Qe){for(var st=[],je=arguments.length-2;je-- >0;)st[je]=arguments[je+2];var Xe=Ge[Qe]||(Ge[Qe]=Y.getUniformLocation(Ve,Qe));Y["uniform"+at].apply(Y,[Xe].concat(st))},setAttribute:function(at,Qe,st,je,Xe){var ae=Se[at];ae||(ae=Se[at]={buf:Y.createBuffer(),loc:Y.getAttribLocation(Ve,at),data:null}),Y.bindBuffer(Y.ARRAY_BUFFER,ae.buf),Y.vertexAttribPointer(ae.loc,Qe,Y.FLOAT,!1,0,0),Y.enableVertexAttribArray(ae.loc),q?Y.vertexAttribDivisor(ae.loc,je):Ce("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ae.loc,je),Xe!==ae.data&&(Y.bufferData(Y.ARRAY_BUFFER,Xe,st),ae.data=Xe)}})}}}X[De].transaction(ue)},Te=function(De,Q){le++;try{Y.activeTexture(Y.TEXTURE0+le);var O=K[De];O||(O=K[De]=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,O),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.NEAREST),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.NEAREST)),Y.bindTexture(Y.TEXTURE_2D,O),Q(O,le)}finally{le--}},Ye=function(De,Q,O){var ue=Y.createFramebuffer();re.push(ue),Y.bindFramebuffer(Y.FRAMEBUFFER,ue),Y.activeTexture(Y.TEXTURE0+Q),Y.bindTexture(Y.TEXTURE_2D,De),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,De,0);try{O(ue)}finally{Y.deleteFramebuffer(ue),Y.bindFramebuffer(Y.FRAMEBUFFER,re[--re.length-1]||null)}},We=function(){ee={},X={},K={},le=-1,re.length=0};var me=Ce,Ee=Be,_e=He,ie=Te,xe=Ye,Le=We,q=typeof WebGL2RenderingContext<"u"&&Y instanceof WebGL2RenderingContext,ee={},X={},K={},le=-1,re=[];Y.canvas.addEventListener("webglcontextlost",function(De){We(),De.preventDefault()},!1),l.set(Y,F={gl:Y,isWebGL2:q,getExtension:Ce,withProgram:He,withTexture:Te,withTextureFramebuffer:Ye,handleContextLoss:We})}Z(F)}function f(W,Z,Y,F,q,ee,X,K){X===void 0&&(X=15),K===void 0&&(K=null),c(W,function(le){var re=le.gl,me=le.withProgram,Ee=le.withTexture;Ee("copy",function(_e,ie){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,q,ee,0,re.RGBA,re.UNSIGNED_BYTE,Z),me("copy",o,a,function(xe){var Le=xe.setUniform,Ce=xe.setAttribute;Ce("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Le("1i","image",ie),re.bindFramebuffer(re.FRAMEBUFFER,K||null),re.disable(re.BLEND),re.colorMask(X&8,X&4,X&2,X&1),re.viewport(Y,F,q,ee),re.scissor(Y,F,q,ee),re.drawArrays(re.TRIANGLES,0,3)})})})}function d(W,Z,Y){var F=W.width,q=W.height;c(W,function(ee){var X=ee.gl,K=new Uint8Array(F*q*4);X.readPixels(0,0,F,q,X.RGBA,X.UNSIGNED_BYTE,K),W.width=Z,W.height=Y,f(X,K,0,0,F,q)})}var m=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(W,Z,Y,F,q,ee){ee===void 0&&(ee=1);var X=new Uint8Array(W*Z),K=F[2]-F[0],le=F[3]-F[1],re=[];s(Y,function(Ce,Be,He,Te){re.push({x1:Ce,y1:Be,x2:He,y2:Te,minX:Math.min(Ce,He),minY:Math.min(Be,Te),maxX:Math.max(Ce,He),maxY:Math.max(Be,Te)})}),re.sort(function(Ce,Be){return Ce.maxX-Be.maxX});for(var me=0;me<W;me++)for(var Ee=0;Ee<Z;Ee++){var _e=xe(F[0]+K*(me+.5)/W,F[1]+le*(Ee+.5)/Z),ie=Math.pow(1-Math.abs(_e)/q,ee)/2;_e<0&&(ie=1-ie),ie=Math.max(0,Math.min(255,Math.round(ie*255))),X[Ee*W+me]=ie}return X;function xe(Ce,Be){for(var He=1/0,Te=1/0,Ye=re.length;Ye--;){var We=re[Ye];if(We.maxX+Te<=Ce)break;if(Ce+Te>We.minX&&Be-Te<We.maxY&&Be+Te>We.minY){var De=w(Ce,Be,We.x1,We.y1,We.x2,We.y2);De<He&&(He=De,Te=Math.sqrt(He))}}return Le(Ce,Be)&&(Te=-Te),Te}function Le(Ce,Be){for(var He=0,Te=re.length;Te--;){var Ye=re[Te];if(Ye.maxX<=Ce)break;var We=Ye.y1>Be!=Ye.y2>Be&&Ce<(Ye.x2-Ye.x1)*(Be-Ye.y1)/(Ye.y2-Ye.y1)+Ye.x1;We&&(He+=Ye.y1<Ye.y2?1:-1)}return He!==0}}function v(W,Z,Y,F,q,ee,X,K,le,re){ee===void 0&&(ee=1),K===void 0&&(K=0),le===void 0&&(le=0),re===void 0&&(re=0),y(W,Z,Y,F,q,ee,X,null,K,le,re)}function y(W,Z,Y,F,q,ee,X,K,le,re,me){ee===void 0&&(ee=1),le===void 0&&(le=0),re===void 0&&(re=0),me===void 0&&(me=0);for(var Ee=g(W,Z,Y,F,q,ee),_e=new Uint8Array(Ee.length*4),ie=0;ie<Ee.length;ie++)_e[ie*4+me]=Ee[ie];f(X,_e,le,re,W,Z,1<<3-me,K)}function w(W,Z,Y,F,q,ee){var X=q-Y,K=ee-F,le=X*X+K*K,re=le?Math.max(0,Math.min(1,((W-Y)*X+(Z-F)*K)/le)):0,me=W-(Y+re*X),Ee=Z-(F+re*K);return me*me+Ee*Ee}var S=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),x="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),P=null,T=!1,R={},I=new WeakMap;function U(W){if(!T&&!k(W))throw new Error("WebGL generation not supported")}function G(W,Z,Y,F,q,ee,X){if(ee===void 0&&(ee=1),X===void 0&&(X=null),!X&&(X=P,!X)){var K=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!K)throw new Error("OffscreenCanvas or DOM canvas not supported");X=P=K.getContext("webgl",{depth:!1})}U(X);var le=new Uint8Array(W*Z*4);c(X,function(_e){var ie=_e.gl,xe=_e.withTexture,Le=_e.withTextureFramebuffer;xe("readable",function(Ce,Be){ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,W,Z,0,ie.RGBA,ie.UNSIGNED_BYTE,null),Le(Ce,Be,function(He){D(W,Z,Y,F,q,ee,ie,He,0,0,0),ie.readPixels(0,0,W,Z,ie.RGBA,ie.UNSIGNED_BYTE,le)})})});for(var re=new Uint8Array(W*Z),me=0,Ee=0;me<le.length;me+=4)re[Ee++]=le[me];return re}function j(W,Z,Y,F,q,ee,X,K,le,re){ee===void 0&&(ee=1),K===void 0&&(K=0),le===void 0&&(le=0),re===void 0&&(re=0),D(W,Z,Y,F,q,ee,X,null,K,le,re)}function D(W,Z,Y,F,q,ee,X,K,le,re,me){ee===void 0&&(ee=1),le===void 0&&(le=0),re===void 0&&(re=0),me===void 0&&(me=0),U(X);var Ee=[];s(Y,function(_e,ie,xe,Le){Ee.push(_e,ie,xe,Le)}),Ee=new Float32Array(Ee),c(X,function(_e){var ie=_e.gl,xe=_e.isWebGL2,Le=_e.getExtension,Ce=_e.withProgram,Be=_e.withTexture,He=_e.withTextureFramebuffer,Te=_e.handleContextLoss;if(Be("rawDistances",function(Ye,We){(W!==Ye._lastWidth||Z!==Ye._lastHeight)&&ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,Ye._lastWidth=W,Ye._lastHeight=Z,0,ie.RGBA,ie.UNSIGNED_BYTE,null),Ce("main",x,M,function(De){var Q=De.setAttribute,O=De.setUniform,ue=!xe&&Le("ANGLE_instanced_arrays"),Se=!xe&&Le("EXT_blend_minmax");Q("aUV",2,ie.STATIC_DRAW,0,C),Q("aLineSegment",4,ie.DYNAMIC_DRAW,1,Ee),O.apply(void 0,["4f","uGlyphBounds"].concat(F)),O("1f","uMaxDistance",q),O("1f","uExponent",ee),He(Ye,We,function(Ge){ie.enable(ie.BLEND),ie.colorMask(!0,!0,!0,!0),ie.viewport(0,0,W,Z),ie.scissor(0,0,W,Z),ie.blendFunc(ie.ONE,ie.ONE),ie.blendEquationSeparate(ie.FUNC_ADD,xe?ie.MAX:Se.MAX_EXT),ie.clear(ie.COLOR_BUFFER_BIT),xe?ie.drawArraysInstanced(ie.TRIANGLES,0,3,Ee.length/4):ue.drawArraysInstancedANGLE(ie.TRIANGLES,0,3,Ee.length/4)})}),Ce("post",o,E,function(De){De.setAttribute("aUV",2,ie.STATIC_DRAW,0,C),De.setUniform("1i","tex",We),ie.bindFramebuffer(ie.FRAMEBUFFER,K),ie.disable(ie.BLEND),ie.colorMask(me===0,me===1,me===2,me===3),ie.viewport(le,re,W,Z),ie.scissor(le,re,W,Z),ie.drawArrays(ie.TRIANGLES,0,3)})}),ie.isContextLost())throw Te(),new Error("webgl context lost")})}function k(W){var Z=!W||W===P?R:W.canvas||W,Y=I.get(Z);if(Y===void 0){T=!0;var F=null;try{var q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ee=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);Y=ee&&q.length===ee.length&&ee.every(function(X,K){return X===q[K]}),Y||(F="bad trial run results",console.info(q,ee))}catch(X){Y=!1,F=X.message}F&&console.warn("WebGL SDF generation not supported:",F),T=!1,I.set(Z,Y)}return Y}var H=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:j,generateIntoFramebuffer:D,isSupported:k});function oe(W,Z,Y,F,q,ee){q===void 0&&(q=Math.max(F[2]-F[0],F[3]-F[1])/2),ee===void 0&&(ee=1);try{return G.apply(H,arguments)}catch(X){return console.info("WebGL SDF generation failed, falling back to JS",X),g.apply(S,arguments)}}function N(W,Z,Y,F,q,ee,X,K,le,re){q===void 0&&(q=Math.max(F[2]-F[0],F[3]-F[1])/2),ee===void 0&&(ee=1),K===void 0&&(K=0),le===void 0&&(le=0),re===void 0&&(re=0);try{return j.apply(H,arguments)}catch(me){return console.info("WebGL SDF generation failed, falling back to JS",me),v.apply(S,arguments)}}return e.forEachPathCommand=i,e.generate=oe,e.generateIntoCanvas=N,e.javascript=S,e.pathToLineSegments=s,e.webgl=H,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Fte(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Te,Ye){r[Te]=1<<Ye+1,i[r[Te]]=Te}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Te=function(We){if(n.hasOwnProperty(We)){var De=0;n[We].split(",").forEach(function(Q){var O=Q.split("+"),ue=O[0],Se=O[1];ue=parseInt(ue,36),Se=Se?parseInt(Se,36):0,c.set(De+=ue,r[We]);for(var Ge=0;Ge<Se;Ge++)c.set(++De,r[We])})}};for(var Ye in n)Te(Ye)}}function d(Te){return f(),c.get(Te.codePointAt(0))||r.L}function m(Te){return i[d(Te)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Te,Ye){var We=36,De=0,Q=new Map,O=Ye&&new Map,ue;return Te.split(",").forEach(function Se(Ge){if(Ge.indexOf("+")!==-1)for(var Ve=+Ge;Ve--;)Se(ue);else{ue=Ge;var ze=Ge.split(">"),Ze=ze[0],Ie=ze[1];Ze=String.fromCodePoint(De+=parseInt(Ze,We)),Ie=String.fromCodePoint(De+=parseInt(Ie,We)),Q.set(Ze,Ie),Ye&&O.set(Ie,Ze)}}),{map:Q,reverseMap:O}}var y,w,S;function x(){if(!y){var Te=v(g.pairs,!0),Ye=Te.map,We=Te.reverseMap;y=Ye,w=We,S=v(g.canonical,!1).map}}function M(Te){return x(),y.get(Te)||null}function E(Te){return x(),w.get(Te)||null}function C(Te){return x(),S.get(Te)||null}var P=r.L,T=r.R,R=r.EN,I=r.ES,U=r.ET,G=r.AN,j=r.CS,D=r.B,k=r.S,H=r.ON,oe=r.BN,N=r.NSM,W=r.AL,Z=r.LRO,Y=r.RLO,F=r.LRE,q=r.RLE,ee=r.PDF,X=r.LRI,K=r.RLI,le=r.FSI,re=r.PDI;function me(Te,Ye){for(var We=125,De=new Uint32Array(Te.length),Q=0;Q<Te.length;Q++)De[Q]=d(Te[Q]);var O=new Map;function ue(Gr,Ei){var vr=De[Gr];De[Gr]=Ei,O.set(vr,O.get(vr)-1),vr&a&&O.set(a,O.get(a)-1),O.set(Ei,(O.get(Ei)||0)+1),Ei&a&&O.set(a,(O.get(a)||0)+1)}for(var Se=new Uint8Array(Te.length),Ge=new Map,Ve=[],ze=null,Ze=0;Ze<Te.length;Ze++)ze||Ve.push(ze={start:Ze,end:Te.length-1,level:Ye==="rtl"?1:Ye==="ltr"?0:Rc(Ze,!1)}),De[Ze]&D&&(ze.end=Ze,ze=null);for(var Ie=q|F|Y|Z|s|re|ee|D,at=function(Gr){return Gr+(Gr&1?1:2)},Qe=function(Gr){return Gr+(Gr&1?2:1)},st=0;st<Ve.length;st++){ze=Ve[st];var je=[{_level:ze.level,_override:0,_isolate:0}],Xe=void 0,ae=0,Re=0,$e=0;O.clear();for(var ne=ze.start;ne<=ze.end;ne++){var ce=De[ne];if(Xe=je[je.length-1],O.set(ce,(O.get(ce)||0)+1),ce&a&&O.set(a,(O.get(a)||0)+1),ce&Ie)if(ce&(q|F)){Se[ne]=Xe._level;var Ne=(ce===q?Qe:at)(Xe._level);Ne<=We&&!ae&&!Re?je.push({_level:Ne,_override:0,_isolate:0}):ae||Re++}else if(ce&(Y|Z)){Se[ne]=Xe._level;var it=(ce===Y?Qe:at)(Xe._level);it<=We&&!ae&&!Re?je.push({_level:it,_override:ce&Y?T:P,_isolate:0}):ae||Re++}else if(ce&s){ce&le&&(ce=Rc(ne+1,!0)===1?K:X),Se[ne]=Xe._level,Xe._override&&ue(ne,Xe._override);var dt=(ce===K?Qe:at)(Xe._level);dt<=We&&ae===0&&Re===0?($e++,je.push({_level:dt,_override:0,_isolate:1,_isolInitIndex:ne})):ae++}else if(ce&re){if(ae>0)ae--;else if($e>0){for(Re=0;!je[je.length-1]._isolate;)je.pop();var Kt=je[je.length-1]._isolInitIndex;Kt!=null&&(Ge.set(Kt,ne),Ge.set(ne,Kt)),je.pop(),$e--}Xe=je[je.length-1],Se[ne]=Xe._level,Xe._override&&ue(ne,Xe._override)}else ce&ee?(ae===0&&(Re>0?Re--:!Xe._isolate&&je.length>1&&(je.pop(),Xe=je[je.length-1])),Se[ne]=Xe._level):ce&D&&(Se[ne]=ze.level);else Se[ne]=Xe._level,Xe._override&&ce!==oe&&ue(ne,Xe._override)}for(var Ot=[],Wt=null,jt=ze.start;jt<=ze.end;jt++){var on=De[jt];if(!(on&l)){var Gt=Se[jt],Zt=on&s,Zr=on===re;Wt&&Gt===Wt._level?(Wt._end=jt,Wt._endsWithIsolInit=Zt):Ot.push(Wt={_start:jt,_end:jt,_level:Gt,_startsWithPDI:Zr,_endsWithIsolInit:Zt})}}for(var Dr=[],un=0;un<Ot.length;un++){var $=Ot[un];if(!$._startsWithPDI||$._startsWithPDI&&!Ge.has($._start)){for(var Ae=[Wt=$],Pe=void 0;Wt&&Wt._endsWithIsolInit&&(Pe=Ge.get(Wt._end))!=null;)for(var fe=un+1;fe<Ot.length;fe++)if(Ot[fe]._start===Pe){Ae.push(Wt=Ot[fe]);break}for(var Fe=[],St=0;St<Ae.length;St++)for(var L=Ae[St],V=L._start;V<=L._end;V++)Fe.push(V);for(var se=Se[Fe[0]],pe=ze.level,we=Fe[0]-1;we>=0;we--)if(!(De[we]&l)){pe=Se[we];break}var Me=Fe[Fe.length-1],Ke=Se[Me],Je=ze.level;if(!(De[Me]&s)){for(var tt=Me+1;tt<=ze.end;tt++)if(!(De[tt]&l)){Je=Se[tt];break}}Dr.push({_seqIndices:Fe,_sosType:Math.max(pe,se)%2?T:P,_eosType:Math.max(Je,Ke)%2?T:P})}}for(var nt=0;nt<Dr.length;nt++){var qe=Dr[nt],ye=qe._seqIndices,nn=qe._sosType,ut=qe._eosType,pt=Se[ye[0]]&1?T:P;if(O.get(N))for(var Dt=0;Dt<ye.length;Dt++){var It=ye[Dt];if(De[It]&N){for(var Qt=nn,Tt=Dt-1;Tt>=0;Tt--)if(!(De[ye[Tt]]&l)){Qt=De[ye[Tt]];break}ue(It,Qt&(s|re)?H:Qt)}}if(O.get(R))for(var Mt=0;Mt<ye.length;Mt++){var Lt=ye[Mt];if(De[Lt]&R)for(var Ct=Mt-1;Ct>=-1;Ct--){var mn=Ct===-1?nn:De[ye[Ct]];if(mn&o){mn===W&&ue(Lt,G);break}}}if(O.get(W))for(var zt=0;zt<ye.length;zt++){var wn=ye[zt];De[wn]&W&&ue(wn,T)}if(O.get(I)||O.get(j))for(var lr=1;lr<ye.length-1;lr++){var Yn=ye[lr];if(De[Yn]&(I|j)){for(var Kn=0,gn=0,qn=lr-1;qn>=0&&(Kn=De[ye[qn]],!!(Kn&l));qn--);for(var xn=lr+1;xn<ye.length&&(gn=De[ye[xn]],!!(gn&l));xn++);Kn===gn&&(De[Yn]===I?Kn===R:Kn&(R|G))&&ue(Yn,Kn)}}if(O.get(R))for(var Xt=0;Xt<ye.length;Xt++){var Nn=ye[Xt];if(De[Nn]&R){for(var Gi=Xt-1;Gi>=0&&De[ye[Gi]]&(U|l);Gi--)ue(ye[Gi],R);for(Xt++;Xt<ye.length&&De[ye[Xt]]&(U|l|R);Xt++)De[ye[Xt]]!==R&&ue(ye[Xt],R)}}if(O.get(U)||O.get(I)||O.get(j))for(var gr=0;gr<ye.length;gr++){var is=ye[gr];if(De[is]&(U|I|j)){ue(is,H);for(var aa=gr-1;aa>=0&&De[ye[aa]]&l;aa--)ue(ye[aa],H);for(var la=gr+1;la<ye.length&&De[ye[la]]&l;la++)ue(ye[la],H)}}if(O.get(R))for(var ua=0,ru=nn;ua<ye.length;ua++){var c3=ye[ua],Vh=De[c3];Vh&R?ru===P&&ue(c3,P):Vh&o&&(ru=Vh)}if(O.get(a)){var ca=T|R|G,Cc=ca|P,Io=[];{for(var $a=[],Lo=0;Lo<ye.length;Lo++)if(De[ye[Lo]]&a){var an=Te[ye[Lo]],Wh=void 0;if(M(an)!==null)if($a.length<63)$a.push({char:an,seqIndex:Lo});else break;else if((Wh=E(an))!==null)for(var fa=$a.length-1;fa>=0;fa--){var bc=$a[fa].char;if(bc===Wh||bc===E(C(an))||M(C(bc))===an){Io.push([$a[fa].seqIndex,Lo]),$a.length=fa;break}}}Io.sort(function(Gr,Ei){return Gr[0]-Ei[0]})}for(var jh=0;jh<Io.length;jh++){for(var f3=Io[jh],$n=f3[0],iu=f3[1],h3=!1,_i=0,Xh=$n+1;Xh<iu;Xh++){var su=ye[Xh];if(De[su]&Cc){h3=!0;var ss=De[su]&ca?T:P;if(ss===pt){_i=ss;break}}}if(h3&&!_i){_i=nn;for(var Jh=$n-1;Jh>=0;Jh--){var d3=ye[Jh];if(De[d3]&Cc){var os=De[d3]&ca?T:P;os!==pt?_i=os:_i=pt;break}}}if(_i){if(De[ye[$n]]=De[ye[iu]]=_i,_i!==pt){for(var Mi=$n+1;Mi<ye.length;Mi++)if(!(De[ye[Mi]]&l)){d(Te[ye[Mi]])&N&&(De[ye[Mi]]=_i);break}}if(_i!==pt){for(var Fo=iu+1;Fo<ye.length;Fo++)if(!(De[ye[Fo]]&l)){d(Te[ye[Fo]])&N&&(De[ye[Fo]]=_i);break}}}}for(var bs=0;bs<ye.length;bs++)if(De[ye[bs]]&a){for(var Yh=bs,Kh=bs,Hi=nn,ou=bs-1;ou>=0;ou--)if(De[ye[ou]]&l)Yh=ou;else{Hi=De[ye[ou]]&ca?T:P;break}for(var au=ut,lu=bs+1;lu<ye.length;lu++)if(De[ye[lu]]&(a|l))Kh=lu;else{au=De[ye[lu]]&ca?T:P;break}for(var Ai=Yh;Ai<=Kh;Ai++)De[ye[Ai]]=Hi===au?Hi:pt;bs=Kh}}}for(var zr=ze.start;zr<=ze.end;zr++){var Pc=Se[zr],eo=De[zr];if(Pc&1?eo&(P|R|G)&&Se[zr]++:eo&T?Se[zr]++:eo&(G|R)&&(Se[zr]+=2),eo&l&&(Se[zr]=zr===0?ze.level:Se[zr-1]),zr===ze.end||d(Te[zr])&(k|D))for(var el=zr;el>=0&&d(Te[el])&u;el--)Se[el]=ze.level}}return{levels:Se,paragraphs:Ve};function Rc(Gr,Ei){for(var vr=Gr;vr<Te.length;vr++){var yr=De[vr];if(yr&(T|W))return 1;if(yr&(D|P)||Ei&&yr===re)return 0;if(yr&s){var as=p3(vr);vr=as===-1?Te.length:as}}return 0}function p3(Gr){for(var Ei=1,vr=Gr+1;vr<Te.length;vr++){var yr=De[vr];if(yr&D)break;if(yr&re){if(--Ei===0)return vr}else yr&s&&Ei++}return-1}}var Ee="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",_e;function ie(){if(!_e){var Te=v(Ee,!0),Ye=Te.map,We=Te.reverseMap;We.forEach(function(De,Q){Ye.set(Q,De)}),_e=Ye}}function xe(Te){return ie(),_e.get(Te)||null}function Le(Te,Ye,We,De){var Q=Te.length;We=Math.max(0,We==null?0:+We),De=Math.min(Q-1,De==null?Q-1:+De);for(var O=new Map,ue=We;ue<=De;ue++)if(Ye[ue]&1){var Se=xe(Te[ue]);Se!==null&&O.set(ue,Se)}return O}function Ce(Te,Ye,We,De){var Q=Te.length;We=Math.max(0,We==null?0:+We),De=Math.min(Q-1,De==null?Q-1:+De);var O=[];return Ye.paragraphs.forEach(function(ue){var Se=Math.max(We,ue.start),Ge=Math.min(De,ue.end);if(Se<Ge){for(var Ve=Ye.levels.slice(Se,Ge+1),ze=Ge;ze>=Se&&d(Te[ze])&u;ze--)Ve[ze]=ue.level;for(var Ze=ue.level,Ie=1/0,at=0;at<Ve.length;at++){var Qe=Ve[at];Qe>Ze&&(Ze=Qe),Qe<Ie&&(Ie=Qe|1)}for(var st=Ze;st>=Ie;st--)for(var je=0;je<Ve.length;je++)if(Ve[je]>=st){for(var Xe=je;je+1<Ve.length&&Ve[je+1]>=st;)je++;je>Xe&&O.push([Xe+Se,je+Se])}}}),O}function Be(Te,Ye,We,De){var Q=He(Te,Ye,We,De),O=[].concat(Te);return Q.forEach(function(ue,Se){O[Se]=(Ye.levels[ue]&1?xe(Te[ue]):null)||Te[ue]}),O.join("")}function He(Te,Ye,We,De){for(var Q=Ce(Te,Ye,We,De),O=[],ue=0;ue<Te.length;ue++)O[ue]=ue;return Q.forEach(function(Se){for(var Ge=Se[0],Ve=Se[1],ze=O.slice(Ge,Ve+1),Ze=ze.length;Ze--;)O[Ve-Ze]=ze[Ze]}),O}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=m,e.getCanonicalBracket=C,e.getEmbeddingLevels=me,e.getMirroredCharacter=xe,e.getMirroredCharactersMap=Le,e.getReorderSegments=Ce,e.getReorderedIndices=He,e.getReorderedString=Be,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const rL=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Qy(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=bt[i];return s?Qy(s):r}return t.replace(e,n)}const ei=[];for(let t=0;t<256;t++)ei[t]=(t<16?"0":"")+t.toString(16);function kte(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[t&255]+ei[t>>8&255]+ei[t>>16&255]+ei[t>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[n&63|128]+ei[n>>8&255]+"-"+ei[n>>16&255]+ei[n>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toUpperCase()}const Pu=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ute=Date.now(),gT=new WeakMap,vT=new Map;let Nte=1e10;function qy(t,e){const n=Hte(e);let r=gT.get(t);if(r||gT.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let d=vT[f];if(!d){const m=Ote(this,u,e,n);d=vT[f]=m}u.vertexShader=d.vertexShader,u.fragmentShader=d.fragmentShader,Pu(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Ute}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Nte++}),c.uuid=kte(),c.uniforms=Pu({},u.uniforms,e.uniforms),c.defines=Pu({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Pu({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Pu(this.extensions,u.extensions),Pu(this.defines,u.defines),Pu(this.uniforms,mc.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=qy(t.isDerivedMaterial?t.getDepthMaterial():new Ih({depthPacking:Co}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=qy(t.isDerivedMaterial?t.getDistanceMaterial():new mv,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Ote(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||m)&&(e=Qy(e)),(d||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=Qy(n)),m){let v=m({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(d){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,u=v+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,w,S)=>/\battribute\s+vec[23]\s+$/.test(S.substr(0,w))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=yT(e,i,s,o,a),n=yT(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function yT(t,e,n,r,i){return(r||i||n)&&(t=t.replace(rL,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function zte(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Gte=0;const xT=new Map;function Hte(t){const e=JSON.stringify(t,zte);let n=xT.get(e);return n==null&&xT.set(e,n=++Gte),n}function Vte(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(S,x){function M(){const E=C=>{console.error(`Failure loading font ${S}${S===r?"":"; trying fallback"}`,C),S!==r&&(S=r,M())};try{const C=new XMLHttpRequest;C.open("get",S,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)E(new Error(C.statusText));else if(C.status>0)try{const P=t(C.response);x(P)}catch(P){E(P)}},C.onerror=E,C.send()}catch(C){E(C)}}M()}function c(S,x){S||(S=r);let M=i[S];M?M.pending?M.pending.push(x):x(M):(i[S]={pending:[x]},u(S,E=>{let C=i[S].pending;i[S]=E,C.forEach(P=>P(E))}))}function f({text:S="",font:x=r,sdfGlyphSize:M=64,fontSize:E=1,letterSpacing:C=0,lineHeight:P="normal",maxWidth:T=s,direction:R,textAlign:I="left",textIndent:U=0,whiteSpace:G="normal",overflowWrap:j="normal",anchorX:D=0,anchorY:k=0,includeCaretPositions:H=!1,chunkedBoundsSize:oe=8192,colorRanges:N=null},W,Z=!1){const Y=v(),F={fontLoad:0,typesetting:0};S.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),S=S.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,C=+C,T=+T,P=P||"normal",U=+U,c(x,q=>{const ee=isFinite(T);let X=null,K=null,le=null,re=null,me=null,Ee=null,_e=null,ie=0,xe=0,Le=G!=="nowrap";const{ascender:Ce,descender:Be,unitsPerEm:He,lineGap:Te,capHeight:Ye,xHeight:We}=q;F.fontLoad=v()-Y;const De=v(),Q=E/He;P==="normal"&&(P=(Ce-Be+Te)/He),P=P*E;const O=(P-(Ce-Be)*Q)/2,ue=-(Ce*Q+O),Se=Math.min(P,(Ce-Be)*Q),Ge=(Ce+Be)/2*Q-Se/2;let Ve=U,ze=new y;const Ze=[ze];q.forEachGlyph(S,E,C,(Qe,st,je)=>{const Xe=S.charAt(je),ae=Qe.advanceWidth*Q,Re=ze.count;let $e;if("isEmpty"in Qe||(Qe.isWhitespace=!!Xe&&new RegExp(a).test(Xe),Qe.canBreakAfter=!!Xe&&l.test(Xe),Qe.isEmpty=Qe.xMin===Qe.xMax||Qe.yMin===Qe.yMax||o.test(Xe)),!Qe.isWhitespace&&!Qe.isEmpty&&xe++,Le&&ee&&!Qe.isWhitespace&&st+ae+Ve>T&&Re){if(ze.glyphAt(Re-1).glyphObj.canBreakAfter)$e=new y,Ve=-st;else for(let ce=Re;ce--;)if(ce===0&&j==="break-word"){$e=new y,Ve=-st;break}else if(ze.glyphAt(ce).glyphObj.canBreakAfter){$e=ze.splitAt(ce+1);const Ne=$e.glyphAt(0).x;Ve-=Ne;for(let it=$e.count;it--;)$e.glyphAt(it).x-=Ne;break}$e&&(ze.isSoftWrapped=!0,ze=$e,Ze.push(ze),ie=T)}let ne=ze.glyphAt(ze.count);ne.glyphObj=Qe,ne.x=st+Ve,ne.width=ae,ne.charIndex=je,Xe===`
`&&(ze=new y,Ze.push(ze),Ve=-(st+ae+C*E)+U)}),Ze.forEach(Qe=>{for(let st=Qe.count;st--;){let{glyphObj:je,x:Xe,width:ae}=Qe.glyphAt(st);if(!je.isWhitespace){Qe.width=Xe+ae,Qe.width>ie&&(ie=Qe.width);return}}});let Ie=0,at=0;if(D&&(typeof D=="number"?Ie=-D:typeof D=="string"&&(Ie=-ie*(D==="left"?0:D==="center"?.5:D==="right"?1:m(D)))),k){if(typeof k=="number")at=-k;else if(typeof k=="string"){let Qe=Ze.length*P;at=k==="top"?0:k==="top-baseline"?-ue:k==="top-cap"?-ue-Ye*Q:k==="top-ex"?-ue-We*Q:k==="middle"?Qe/2:k==="bottom"?Qe:k==="bottom-baseline"?Qe-O+Be*Q:m(k)*Qe}}if(!Z){const Qe=e.getEmbeddingLevels(S,R);X=new Uint16Array(xe),K=new Float32Array(xe*2),le={},Ee=[s,s,-s,-s],_e=[];let st=ue;H&&(me=new Float32Array(S.length*3)),N&&(re=new Uint8Array(xe*3));let je=0,Xe=-1,ae=-1,Re,$e;if(Ze.forEach((ne,ce)=>{let{count:Ne,width:it}=ne;if(Ne>0){let dt=0;for(let Gt=Ne;Gt--&&ne.glyphAt(Gt).glyphObj.isWhitespace;)dt++;let Kt=0,Ot=0;if(I==="center")Kt=(ie-it)/2;else if(I==="right")Kt=ie-it;else if(I==="justify"&&ne.isSoftWrapped){let Gt=0;for(let Zt=Ne-dt;Zt--;)ne.glyphAt(Zt).glyphObj.isWhitespace&&Gt++;Ot=(ie-it)/Gt}if(Ot||Kt){let Gt=0;for(let Zt=0;Zt<Ne;Zt++){let Zr=ne.glyphAt(Zt);const Dr=Zr.glyphObj;Zr.x+=Kt+Gt,Ot!==0&&Dr.isWhitespace&&Zt<Ne-dt&&(Gt+=Ot,Zr.width+=Ot)}}const Wt=e.getReorderSegments(S,Qe,ne.glyphAt(0).charIndex,ne.glyphAt(ne.count-1).charIndex);for(let Gt=0;Gt<Wt.length;Gt++){const[Zt,Zr]=Wt[Gt];let Dr=1/0,un=-1/0;for(let $=0;$<Ne;$++)if(ne.glyphAt($).charIndex>=Zt){let Ae=$,Pe=$;for(;Pe<Ne;Pe++){let fe=ne.glyphAt(Pe);if(fe.charIndex>Zr)break;Pe<Ne-dt&&(Dr=Math.min(Dr,fe.x),un=Math.max(un,fe.x+fe.width))}for(let fe=Ae;fe<Pe;fe++){const Fe=ne.glyphAt(fe);Fe.x=un-(Fe.x+Fe.width-Dr)}break}}let jt;const on=Gt=>jt=Gt;for(let Gt=0;Gt<Ne;Gt++){let Zt=ne.glyphAt(Gt);jt=Zt.glyphObj;const Zr=jt.index,Dr=Qe.levels[Zt.charIndex]&1;if(Dr){const un=e.getMirroredCharacter(S[Zt.charIndex]);un&&q.forEachGlyph(un,0,0,on)}if(H){const{charIndex:un}=Zt,$=Zt.x+Ie,Ae=Zt.x+Zt.width+Ie;me[un*3]=Dr?Ae:$,me[un*3+1]=Dr?$:Ae,me[un*3+2]=st+Ge+at;const Pe=un-Xe;Pe>1&&g(me,Xe,Pe),Xe=un}if(N){const{charIndex:un}=Zt;for(;un>ae;)ae++,N.hasOwnProperty(ae)&&($e=N[ae])}if(!jt.isWhitespace&&!jt.isEmpty){const un=je++;le[Zr]||(le[Zr]={path:jt.path,pathBounds:[jt.xMin,jt.yMin,jt.xMax,jt.yMax]});const $=Zt.x+Ie,Ae=st+at;K[un*2]=$,K[un*2+1]=Ae;const Pe=$+jt.xMin*Q,fe=Ae+jt.yMin*Q,Fe=$+jt.xMax*Q,St=Ae+jt.yMax*Q;Pe<Ee[0]&&(Ee[0]=Pe),fe<Ee[1]&&(Ee[1]=fe),Fe>Ee[2]&&(Ee[2]=Fe),St>Ee[3]&&(Ee[3]=St),un%oe===0&&(Re={start:un,end:un,rect:[s,s,-s,-s]},_e.push(Re)),Re.end++;const L=Re.rect;if(Pe<L[0]&&(L[0]=Pe),fe<L[1]&&(L[1]=fe),Fe>L[2]&&(L[2]=Fe),St>L[3]&&(L[3]=St),X[un]=Zr,N){const V=un*3;re[V]=$e>>16&255,re[V+1]=$e>>8&255,re[V+2]=$e&255}}}}st-=P}),me){const ne=S.length-Xe;ne>1&&g(me,Xe,ne)}}F.typesetting=v()-De,W({glyphIds:X,glyphPositions:K,glyphData:le,caretPositions:me,caretHeight:Se,glyphColors:re,chunkedBounds:_e,fontSize:E,unitsPerEm:He,ascender:Ce*Q,descender:Be*Q,capHeight:Ye*Q,xHeight:We*Q,lineHeight:P,topBaseline:ue,blockBounds:[Ie,at-Ze.length*P,Ie+ie,at],visibleBounds:Ee,timings:F})})}function d(S,x){f(S,M=>{const[E,C,P,T]=M.blockBounds;x({width:P-E,height:T-C})},{metricsOnly:!0})}function m(S){let x=S.match(/^([\d.]+)%$/),M=x?parseFloat(x[1]):NaN;return isNaN(M)?0:M/100}function g(S,x,M){const E=S[x*3],C=S[x*3+1],P=S[x*3+2],T=(C-E)/M;for(let R=0;R<M;R++){const I=(x+R)*3;S[I]=E+T*R,S[I+1]=E+T*(R+1),S[I+2]=P}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const w=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/w.length)},glyphAt(S){let x=y.flyweight;return x.data=this.data,x.index=S,x},splitAt(S){let x=new y;return x.data=this.data.splice(S*w.length),x}},y.flyweight=w.reduce((S,x,M,E)=>(Object.defineProperty(S,x,{get(){return this.data[this.index*w.length+M]},set(C){this.data[this.index*w.length+M]=C}}),S),{data:null,index:0}),{typeset:f,measure:d,loadFont:c}}const sc=()=>(self.performance||Date).now(),Dv=nL();let ST;function Wte(t,e,n,r,i,s,o,a,l,u,c=!0){return c?Xte(t,e,n,r,i,s,o,a,l,u).then(null,f=>(ST||(console.warn("WebGL SDF generation failed, falling back to JS",f),ST=!0),_T(t,e,n,r,i,s,o,a,l,u))):_T(t,e,n,r,i,s,o,a,l,u)}const c1=[],jte=5;let $y=0;function iL(){const t=sc();for(;c1.length&&sc()-t<jte;)c1.shift()();$y=c1.length?setTimeout(iL,0):0}const Xte=(...t)=>new Promise((e,n)=>{c1.push(()=>{const r=sc();try{Dv.webgl.generateIntoCanvas(...t),e({timing:sc()-r})}catch(i){n(i)}}),$y||($y=setTimeout(iL,0))}),Jte=4,Yte=2e3,wT={};let Kte=0;function _T(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+Kte++%Jte;let f=wT[c];return f||(f=wT[c]={workerModule:s3({name:c,workerId:c,dependencies:[nL,sc],init(d,m){const g=d().javascript.generate;return function(...v){const y=m();return{textureData:g(...v),timing:m()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:d,timing:m})=>{const g=sc(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+u]=d[y];return Dv.webglUtils.renderImageData(o,v,a,l,t,e,1<<3-u),m+=sc()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Ite(c)},Yte)),{timing:m}})}function Zte(t){t._warm||(Dv.webgl.isSupported(t),t._warm=!0)}const Qte=Dv.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function qte(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},d=0;d<l;d++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[m]={offset:g,length:v}}for(d=0;d<u.length;d++){var y=u[d];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var d=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var d=u.readUshort(i,s);s+=2;var m=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+d),c.featureList=e._lctf.readFeatureList(i,f+m),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+d,o);u.push(m)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,d=0;d<c;d++){var m=a.readUshort(i,s);s+=2;var g=o(i,f,l+m,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+d);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+u);var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(c=0;c<f.length-1;c++)d.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var m=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(c=0;c<g.length-1;c++)v.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(c=0;c<g.length-1;c++)y.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var w=[];for(s=e.CFF.readIndex(i,s,w),m.FDArray=[],c=0;c<w.length-1;c++){var S=e.CFF.readDict(i,s+w[c],s+w[c+1]);e.CFF._readFDict(i,S,v),m.FDArray.push(S)}s+=w[w.length-1],s=m.FDSelect,m.FDSelect=[];var x=i[s];if(s++,x!=3)throw x;var M=a.readUshort(i,s);for(s+=2,c=0;c<M+1;c++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,v),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(u==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),c=0;c<=d;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,d=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(d=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(d=l-139,c=1),247<=l&&l<=250&&(d=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(d=256*-(l-251)-u-108,c=2),l==255&&(d=a.readInt(i,s+1)/65535,c=5),o.val=d??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;c<=20&&(m=c,d=1),c==12&&(m=100*c+f,d=2),c!=19&&c!=20||(m=c,d=2),21<=c&&c<=27&&(m=c,d=1),c==28&&(g=l.readShort(i,s+1),d=3),29<=c&&c<=31&&(m=c,d=1),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255&&(g=l.readInt(i,s+1)/65535,d=5),u.push(g??"o"+m),s+=d}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;if(c==28&&(g=a.readShort(i,s+1),d=3),c==29&&(g=a.readInt(i,s+1),d=5),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(c==30){var v=[];for(d=1;;){var y=i[s+d];d++;var w=y>>4,S=15&y;if(w!=15&&v.push(w),S!=15&&v.push(S),S==15)break}for(var x="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<v.length;E++)x+=M[v[E]];g=parseFloat(x)}c<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],d=1,c==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),m!=null?(l[m]=u.length==1?u[0]:u,u=[]):u.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+m,y=c.indexOf(g);if(y==-1){var w;y=l.tables.length,c.push(g);var S=a.readUshort(i,g);S==0?w=e.cmap.parse0(i,g):S==4?w=e.cmap.parse4(i,g):S==6?w=e.cmap.parse6(i,g):S==12?w=e.cmap.parse12(i,g):console.debug("unknown format: "+S,d,m,g),l.tables.push(w)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),d=o.readUint(i,c+4),m=o.readUint(i,c+8);a.groups.push([f,d,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var d=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<d;c++){var m=a[l];if(l++,u.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var v=0;v<g;v++)u.flags.push(m),c++}}for(u.xs=[],c=0;c<d;c++){var y=(2&u.flags[c])!=0,w=(16&u.flags[c])!=0;y?(u.xs.push(w?a[l]:-a[l]),l++):w?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<d;c++)y=(4&u.flags[c])!=0,w=(32&u.flags[c])!=0,y?(u.ys.push(w?a[l]:-a[l]),l++):w?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var S=0,x=0;for(c=0;c<d;c++)S+=u.xs[c],x+=u.ys[c],u.xs[c]=S,u.ys[c]=x}else{var M;u.parts=[];do{M=o.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(E),E.glyphIndex=o.readUshort(a,l),l+=2,1&M){var C=o.readShort(a,l);l+=2;var P=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,P=o.readInt8(a,l),l++;2&M?(E.m.tx=C,E.m.ty=P):(E.p1=C,E.p2=P),8&M?(E.m.a=E.m.d=o.readF2dot14(a,l),l+=2):64&M?(E.m.a=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2):128&M&&(E.m.a=o.readF2dot14(a,l),l+=2,E.m.b=o.readF2dot14(a,l),l+=2,E.m.c=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var T=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<T;c++)u.instr.push(a[l]),l++}}return u},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var d=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(d);d!=0&&(c.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&c.fmt>=1&&c.fmt<=2){d=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(d);var v=e._lctf.numOfOnes(g);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var w=0;w<y;w++){var S=u+l.readUshort(i,o);o+=2;var x=l.readUshort(i,S);S+=2;for(var M=[],E=0;E<x;E++){var C=l.readUshort(i,S);S+=2,d!=0&&(G=e.GPOS.readValueRecord(i,S,d),S+=2*m),g!=0&&(j=e.GPOS.readValueRecord(i,S,g),S+=2*v),M.push({gid2:C,val1:G,val2:j})}c.pairsets.push(M)}}if(c.fmt==2){var P=l.readUshort(i,o);o+=2;var T=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var I=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+P),c.classDef2=e._lctf.readClassDef(i,u+T),c.matrix=[],w=0;w<R;w++){var U=[];for(E=0;E<I;E++){var G=null,j=null;d!=0&&(G=e.GPOS.readValueRecord(i,o,d),o+=2*m),g!=0&&(j=e.GPOS.readValueRecord(i,o,g),o+=2*v),U.push({val1:G,val2:j})}c.matrix.push(U)}}}else{if(s==9&&c.fmt==1){var D=l.readUshort(i,o);o+=2;var k=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=D;else if(a.ltype!=D)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+k)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var d=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,d),o+=2*c.newg.length}}else if(s==4){c.vals=[],d=l.readUshort(i,o),o+=2;for(var m=0;m<d;m++){var g=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+g))}}else if(s==5&&c.fmt==2){if(c.fmt==2){var v=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+v),c.scset=[];var y=l.readUshort(i,o);for(o+=2,m=0;m<y;m++){var w=l.readUshort(i,o);o+=2,c.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(m=0;m<3;m++){d=l.readUshort(i,o),o+=2;for(var S=[],x=0;x<d;x++)S.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*x)));o+=2*d,m==0&&(c.backCvg=S),m==1&&(c.inptCvg=S),m==2&&(c.ahedCvg=S)}d=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&c.fmt==1){var M=l.readUshort(i,o);o+=2;var E=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=M;else if(a.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+E)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<c;d++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=d>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var d=0;d<f;d++)u.push(l.readUshort(i,s+(d<<1))<<1);if(c==1)for(d=0;d<f;d++)u.push(l.readUint(i,s+(d<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,m=0;m<u;m++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var M,E=f[w],C=d+12*u+x;if(g==0)M=a.readUnicode(i,C,S/2);else if(g==3&&v==0)M=a.readUnicode(i,C,S/2);else if(v==0)M=a.readASCII(i,C,S);else if(v==1)M=a.readUnicode(i,C,S/2);else if(v==3)M=a.readUnicode(i,C,S/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;M=a.readASCII(i,C,S),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var P="p"+g+","+y.toString(16);l[P]==null&&(l[P]={}),l[P][E!==void 0?E:w]=M,l[P]._lang=y}for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==1033)return l[T];for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==0)return l[T];for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==3084)return l[T];for(var T in l)if(l[T].postScriptName!=null)return l[T];for(var T in l){c=T;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,d=1&i.flags[u],m=1&i.flags[c],g=1&i.flags[f],v=i.xs[u],y=i.ys[u];if(u==a)if(d){if(!m){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else m?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+v)/2,(i.ys[c]+y)/2);d?m&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],m=l.crds[f+1];o.crds.push(d*c.a+m*c.b+c.tx),o.crds.push(d*c.c+m*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,u=l.lookupList,c=l.featureList,f=[],d=0;d<c.length;d++){var m=c[d];if(m.tag=="kern"){a=!0;for(var g=0;g<m.tab.length;g++)if(!f[m.tab[g]]){f[m.tab[g]]=!0;for(var v=u[m.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var w,S=v.tabs[y];if((!S.coverage||(w=e._lctf.coverageIndex(S.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var x=null;if(S.fmt==1){var M=S.pairsets[w];for(d=0;d<M.length;d++)M[d].gid2==o&&(x=M[d])}else if(S.fmt==2){var E=e.U._getGlyphClass(s,S.classDef1),C=e.U._getGlyphClass(o,S.classDef2);x=S.matrix[E][C]}if(x){var P=0;return x.val1&&x.val1[2]&&(P+=x.val1[2]),x.val2&&x.val2[0]&&(P+=x.val2[0]),P}}}}}}}if(i.kern&&!a){var T=i.kern.glyph1.indexOf(s);if(T!=-1){var R=i.kern.rval[T].glyph2.indexOf(o);if(R!=-1)return i.kern.rval[T].vals[R]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var d=f.vals[c],m=0;m<d.length;m++){var g=d[m],v=g.chain.length;if(!(v>l)){for(var y=!0,w=0,S=0;S<v;S++){for(;i[s+w+(1+S)]==-1;)w++;g.chain[S]!=i[s+w+(1+S)]&&(y=!1)}if(y){for(i[s]=g.nglyph,S=0;S<v+w;S++)i[s+S+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var x=e._lctf.getInterval(f.cDef,i[s]),M=f.cDef[x+2],E=f.scset[M],C=0;C<E.length;C++){var P=E[C],T=P.input;if(!(T.length>l)){for(y=!0,S=0;S<T.length;S++){var R=e._lctf.getInterval(f.cDef,i[s+1+S]);if(x==-1&&f.cDef[R+2]!=T[S]){y=!1;break}}if(y){var I=P.substLookupRecords;for(m=0;m<I.length;m+=2)I[m],I[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var U=f.lookupRec;for(C=0;C<U.length;C+=2){x=U[C];var G=a[U[C+1]];e.U._applySubs(i,s+x,G,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,d=e.U.glyphToPath(i,c),m=0;m<d.crds.length;m+=2)a.crds.push(d.crds[m]+l),a.crds.push(d.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<d.cmds.length;m++)a.cmds.push(d.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open,g=0,v=s.x,y=s.y,w=0,S=0,x=0,M=0,E=0,C=0,P=0,T=0,R=0,I=0,U={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,U);var G=U.val;if(g+=U.size,G=="o1"||G=="o18")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(G=="o3"||G=="o23")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(G=="o4")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o5")for(;u.length>0;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);else if(G=="o6"||G=="o7")for(var j=u.length,D=G=="o6",k=0;k<j;k++){var H=u.shift();D?v+=H:y+=H,D=!D,e.U.P.lineTo(l,v,y)}else if(G=="o8"||G=="o24"){j=u.length;for(var oe=0;oe+6<=j;)w=v+u.shift(),S=y+u.shift(),x=w+u.shift(),M=S+u.shift(),v=x+u.shift(),y=M+u.shift(),e.U.P.curveTo(l,w,S,x,M,v,y),oe+=6;G=="o24"&&(v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(S=y,x=(w=v+u.shift())+u.shift(),I=M=S+u.shift(),C=M,T=y,v=(P=(E=(R=x+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,w,S,x,M,R,I),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1235"&&(w=v+u.shift(),S=y+u.shift(),x=w+u.shift(),M=S+u.shift(),R=x+u.shift(),I=M+u.shift(),E=R+u.shift(),C=I+u.shift(),P=E+u.shift(),T=C+u.shift(),v=P+u.shift(),y=T+u.shift(),u.shift(),e.U.P.curveTo(l,w,S,x,M,R,I),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1236"&&(w=v+u.shift(),S=y+u.shift(),x=w+u.shift(),I=M=S+u.shift(),C=M,P=(E=(R=x+u.shift())+u.shift())+u.shift(),T=C+u.shift(),v=P+u.shift(),e.U.P.curveTo(l,w,S,x,M,R,I),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1237"&&(w=v+u.shift(),S=y+u.shift(),x=w+u.shift(),M=S+u.shift(),R=x+u.shift(),I=M+u.shift(),E=R+u.shift(),C=I+u.shift(),P=E+u.shift(),T=C+u.shift(),Math.abs(P-v)>Math.abs(T-y)?v=P+u.shift():y=T+u.shift(),e.U.P.curveTo(l,w,S,x,M,R,I),e.U.P.curveTo(l,E,C,P,T,v,y));else if(G=="o14"){if(u.length>0&&!f&&(d=u.shift()+o.nominalWidthX,f=!0),u.length==4){var N=u.shift(),W=u.shift(),Z=u.shift(),Y=u.shift(),F=e.CFF.glyphBySE(o,Z),q=e.CFF.glyphBySE(o,Y);e.U._drawCFF(o.CharStrings[F],s,o,a,l),s.x=N,s.y=W,e.U._drawCFF(o.CharStrings[q],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(G=="o19"||G=="o20")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(G=="o21")u.length>2&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o22")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o25"){for(;u.length>6;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);w=v+u.shift(),S=y+u.shift(),x=w+u.shift(),M=S+u.shift(),v=x+u.shift(),y=M+u.shift(),e.U.P.curveTo(l,w,S,x,M,v,y)}else if(G=="o26")for(u.length%2&&(v+=u.shift());u.length>0;)w=v,S=y+u.shift(),v=x=w+u.shift(),y=(M=S+u.shift())+u.shift(),e.U.P.curveTo(l,w,S,x,M,v,y);else if(G=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)S=y,x=(w=v+u.shift())+u.shift(),M=S+u.shift(),v=x+u.shift(),y=M,e.U.P.curveTo(l,w,S,x,M,v,y);else if(G=="o10"||G=="o29"){var ee=G=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var X=u.pop(),K=ee.Subrs[X+ee.Bias];s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m,e.U._drawCFF(K,s,o,a,l),v=s.x,y=s.y,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open}}else if(G=="o30"||G=="o31"){var le=u.length,re=(oe=0,G=="o31");for(oe+=le-(j=-3&le);oe<j;)re?(S=y,x=(w=v+u.shift())+u.shift(),y=(M=S+u.shift())+u.shift(),j-oe==5?(v=x+u.shift(),oe++):v=x,re=!1):(w=v,S=y+u.shift(),x=w+u.shift(),M=S+u.shift(),v=x+u.shift(),j-oe==5?(y=M+u.shift(),oe++):y=M,re=!0),e.U.P.curveTo(l,w,S,x,M,v,y),oe+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,i),G;u.push(G)}}}s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function $te(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(G,j){for(var D=new n(31),k=0;k<31;++k)D[k]=j+=1<<G[k-1];var H=new r(D[30]);for(k=1;k<30;++k)for(var oe=D[k];oe<D[k+1];++oe)H[oe]=oe-D[k]<<5|k;return[D,H]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],d=new n(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(G,j,D){for(var k=G.length,H=0,oe=new n(j);H<k;++H)++oe[G[H]-1];var N,W=new n(j);for(H=0;H<j;++H)W[H]=W[H-1]+oe[H-1]<<1;if(D){N=new n(1<<j);var Z=15-j;for(H=0;H<k;++H)if(G[H])for(var Y=H<<4|G[H],F=j-G[H],q=W[G[H]-1]++<<F,ee=q|(1<<F)-1;q<=ee;++q)N[d[q]>>>Z]=Y}else for(N=new n(k),H=0;H<k;++H)G[H]&&(N[H]=d[W[G[H]-1]++]>>>15-G[H]);return N},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var w=new e(32);for(m=0;m<32;++m)w[m]=5;var S=v(y,9,1),x=v(w,5,1),M=function(G){for(var j=G[0],D=1;D<G.length;++D)G[D]>j&&(j=G[D]);return j},E=function(G,j,D){var k=j/8|0;return(G[k]|G[k+1]<<8)>>(7&j)&D},C=function(G,j){var D=j/8|0;return(G[D]|G[D+1]<<8|G[D+2]<<16)>>(7&j)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(G,j,D){var k=new Error(j||P[G]);if(k.code=G,Error.captureStackTrace&&Error.captureStackTrace(k,T),!D)throw k;return k},R=function(G,j,D){var k=G.length;if(!k||D&&!D.l&&k<5)return j||new e(0);var H=!j||D,oe=!D||D.i;D||(D={}),j||(j=new e(3*k));var N,W=function(Xe){var ae=j.length;if(Xe>ae){var Re=new e(Math.max(2*ae,Xe));Re.set(j),j=Re}},Z=D.f||0,Y=D.p||0,F=D.b||0,q=D.l,ee=D.d,X=D.m,K=D.n,le=8*k;do{if(!q){D.f=Z=E(G,Y,1);var re=E(G,Y+1,3);if(Y+=3,!re){var me=G[(We=((N=Y)/8|0)+(7&N&&1)+4)-4]|G[We-3]<<8,Ee=We+me;if(Ee>k){oe&&T(0);break}H&&W(F+me),j.set(G.subarray(We,Ee),F),D.b=F+=me,D.p=Y=8*Ee;continue}if(re==1)q=S,ee=x,X=9,K=5;else if(re==2){var _e=E(G,Y,31)+257,ie=E(G,Y+10,15)+4,xe=_e+E(G,Y+5,31)+1;Y+=14;for(var Le=new e(xe),Ce=new e(19),Be=0;Be<ie;++Be)Ce[o[Be]]=E(G,Y+3*Be,7);Y+=3*ie;var He=M(Ce),Te=(1<<He)-1,Ye=v(Ce,He,1);for(Be=0;Be<xe;){var We,De=Ye[E(G,Y,Te)];if(Y+=15&De,(We=De>>>4)<16)Le[Be++]=We;else{var Q=0,O=0;for(We==16?(O=3+E(G,Y,3),Y+=2,Q=Le[Be-1]):We==17?(O=3+E(G,Y,7),Y+=3):We==18&&(O=11+E(G,Y,127),Y+=7);O--;)Le[Be++]=Q}}var ue=Le.subarray(0,_e),Se=Le.subarray(_e);X=M(ue),K=M(Se),q=v(ue,X,1),ee=v(Se,K,1)}else T(1);if(Y>le){oe&&T(0);break}}H&&W(F+131072);for(var Ge=(1<<X)-1,Ve=(1<<K)-1,ze=Y;;ze=Y){var Ze=(Q=q[C(G,Y)&Ge])>>>4;if((Y+=15&Q)>le){oe&&T(0);break}if(Q||T(2),Ze<256)j[F++]=Ze;else{if(Ze==256){ze=Y,q=null;break}var Ie=Ze-254;if(Ze>264){var at=i[Be=Ze-257];Ie=E(G,Y,(1<<at)-1)+u[Be],Y+=at}var Qe=ee[C(G,Y)&Ve],st=Qe>>>4;if(Qe||T(3),Y+=15&Qe,Se=f[st],st>3&&(at=s[st],Se+=C(G,Y)&(1<<at)-1,Y+=at),Y>le){oe&&T(0);break}H&&W(F+131072);for(var je=F+Ie;F<je;F+=4)j[F]=j[F-Se],j[F+1]=j[F+1-Se],j[F+2]=j[F+2-Se],j[F+3]=j[F+3-Se];F=je}}D.l=q,D.p=ze,D.b=F,q&&(Z=1,D.m=X,D.d=ee,D.n=K)}while(!Z);return F==j.length?j:function(Xe,ae,Re){(ae==null||ae<0)&&(ae=0),(Re==null||Re>Xe.length)&&(Re=Xe.length);var $e=new(Xe instanceof n?n:Xe instanceof r?r:e)(Re-ae);return $e.set(Xe.subarray(ae,Re)),$e}(j,0,F)},I=new e(0),U=typeof TextDecoder<"u"&&new TextDecoder;try{U.decode(I,{stream:!0})}catch{}return t.convert_streams=function(G){var j=new DataView(G),D=0;function k(){var _e=j.getUint16(D);return D+=2,_e}function H(){var _e=j.getUint32(D);return D+=4,_e}function oe(_e){me.setUint16(Ee,_e),Ee+=2}function N(_e){me.setUint32(Ee,_e),Ee+=4}for(var W={signature:H(),flavor:H(),length:H(),numTables:k(),reserved:k(),totalSfntSize:H(),majorVersion:k(),minorVersion:k(),metaOffset:H(),metaLength:H(),metaOrigLength:H(),privOffset:H(),privLength:H()},Z=0;Math.pow(2,Z)<=W.numTables;)Z++;Z--;for(var Y=16*Math.pow(2,Z),F=16*W.numTables-Y,q=12,ee=[],X=0;X<W.numTables;X++)ee.push({tag:H(),offset:H(),compLength:H(),origLength:H(),origChecksum:H()}),q+=16;var K,le=new Uint8Array(12+16*ee.length+ee.reduce(function(_e,ie){return _e+ie.origLength+4},0)),re=le.buffer,me=new DataView(re),Ee=0;return N(W.flavor),oe(W.numTables),oe(Y),oe(Z),oe(F),ee.forEach(function(_e){N(_e.tag),N(_e.origChecksum),N(q),N(_e.origLength),_e.outOffset=q,(q+=_e.origLength)%4!=0&&(q+=4-q%4)}),ee.forEach(function(_e){var ie,xe=G.slice(_e.offset,_e.offset+_e.compLength);if(_e.compLength!=_e.origLength){var Le=new Uint8Array(_e.origLength);ie=new Uint8Array(xe,2),R(ie,Le)}else Le=new Uint8Array(xe);le.set(Le,_e.outOffset);var Ce=0;(q=_e.outOffset+_e.origLength)%4!=0&&(Ce=4-q%4),le.set(new Uint8Array(Ce).buffer,_e.outOffset+_e.origLength),K=q+Ce}),re.slice(0,K)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function ene(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(E){if(!c){const C={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let P in r){let T=0;r[P].split(",").forEach(R=>{let[I,U]=R.split("+");I=parseInt(I,36),U=U?parseInt(U,36):0,c.set(T+=I,C[P]);for(let G=U;G--;)c.set(++T,C[P])})}}return c.get(E)||u}const d=1,m=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function w(E){const C=new Uint8Array(E.length);let P=u,T=d,R=-1;for(let I=0;I<E.length;I++){const U=E.codePointAt(I);let G=f(U)|0,j=d;G&a||(P&(i|o|l)?G&(s|o|l)?(j=g,(T===d||T===g)&&C[R]++):G&(i|u)&&(T===m||T===v)&&C[R]--:P&(s|u)&&(T===m||T===v)&&C[R]--,T=C[I]=j,P=G,R=I,U>65535&&I++)}return C}function S(E,C){const P=[];for(let R=0;R<C.length;R++){const I=C.codePointAt(R);I>65535&&R++,P.push(t.U.codeToGlyph(E,I))}const T=E.GSUB;if(T){const{lookupList:R,featureList:I}=T;let U;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,j=[];I.forEach(D=>{if(G.test(D.tag))for(let k=0;k<D.tab.length;k++){if(j[D.tab[k]])continue;j[D.tab[k]]=!0;const H=R[D.tab[k]],oe=/^(isol|init|fina|medi)$/.test(D.tag);oe&&!U&&(U=w(C));for(let N=0;N<P.length;N++)(!U||!oe||y[U[N]]===D.tag)&&t.U._applySubs(P,N,H,R)}})}return P}function x(...E){for(let C=0;C<E.length;C++)if(typeof E[C]=="number")return E[C]}function M(E){const C=Object.create(null),P=E["OS/2"],T=E.hhea,R=E.head.unitsPerEm,I=x(P&&P.sTypoAscender,T&&T.ascender,R),U={unitsPerEm:R,ascender:I,descender:x(P&&P.sTypoDescender,T&&T.descender,0),capHeight:x(P&&P.sCapHeight,I),xHeight:x(P&&P.sxHeight,I),lineGap:x(P&&P.sTypoLineGap,T&&T.lineGap),forEachGlyph(G,j,D,k){let H=0;const oe=1/U.unitsPerEm*j,N=S(E,G);let W=0,Z=-1;return N.forEach((Y,F)=>{if(Y!==-1){let q=C[Y];if(!q){const{cmds:ee,crds:X}=t.U.glyphToPath(E,Y);let K="",le=0;for(let ie=0,xe=ee.length;ie<xe;ie++){const Le=n[ee[ie]];K+=ee[ie];for(let Ce=1;Ce<=Le;Ce++)K+=(Ce>1?",":"")+X[le++]}let re,me,Ee,_e;if(X.length){re=me=1/0,Ee=_e=-1/0;for(let ie=0,xe=X.length;ie<xe;ie+=2){let Le=X[ie],Ce=X[ie+1];Le<re&&(re=Le),Ce<me&&(me=Ce),Le>Ee&&(Ee=Le),Ce>_e&&(_e=Ce)}}else re=Ee=me=_e=0;q=C[Y]={index:Y,advanceWidth:E.hmtx.aWidth[Y],xMin:re,yMin:me,xMax:Ee,yMax:_e,path:K,pathCommandCount:ee.length}}Z!==-1&&(H+=t.U.getPairAdjustment(E,Z,Y)*oe),k.call(null,q,H,W),q.advanceWidth&&(H+=q.advanceWidth*oe),D&&(H+=D*j),Z=Y}W+=G.codePointAt(W)>65535?2:1}),H}};return U}return function(C){const P=new Uint8Array(C,0,4),T=t._bin.readASCII(P,0,4);if(T==="wOFF")C=e(C);else if(T==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(C)[0])}}const tne=s3({name:"Typr Font Parser",dependencies:[qte,$te,ene],init(t,e,n){const r=t(),i=e();return n(r,i)}}),Ff={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},nne=new et;function uf(){return(self.performance||Date).now()}const MT=Object.create(null);function sL(t,e){t=sne({},t);const n=uf();if(t.font=one(t.font||Ff.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Ff.sdfGlyphSize,t.colorRanges!=null){let f={};for(let d in t.colorRanges)if(t.colorRanges.hasOwnProperty(d)){let m=t.colorRanges[d];typeof m!="number"&&(m=nne.set(m).getHex()),f[d]=m}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=Ff,{sdfGlyphSize:s}=t,o=r/s*4;let a=MT[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=MT[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new bn(f,void 0,void 0,void 0,gt,gt),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,rne(a)}const{sdfTexture:l,sdfCanvas:u}=a;let c=a.glyphsByFont.get(t.font);c||a.glyphsByFont.set(t.font,c=new Map),lne(t).then(f=>{const{glyphIds:d,glyphPositions:m,fontSize:g,unitsPerEm:v,timings:y}=f,w=[],S=new Float32Array(d.length*4),x=g/v;let M=0,E=0;const C=uf();d.forEach((U,G)=>{let j=c.get(U);if(!j){const{path:oe,pathBounds:N}=f.glyphData[U],W=Math.max(N[2]-N[0],N[3]-N[1])/s*(Ff.sdfMargin*s+.5),Z=a.glyphCount++,Y=[N[0]-W,N[1]-W,N[2]+W,N[3]+W];c.set(U,j={path:oe,atlasIndex:Z,sdfViewBox:Y}),w.push(j)}const{sdfViewBox:D}=j,k=m[E++],H=m[E++];S[M++]=k+D[0]*x,S[M++]=H+D[1]*x,S[M++]=k+D[2]*x,S[M++]=H+D[3]*x,d[G]=j.atlasIndex}),y.quads=(y.quads||0)+(uf()-C);const P=uf();y.sdf={};const T=u.height,R=Math.ceil(a.glyphCount/o),I=Math.pow(2,Math.ceil(Math.log2(R*s)));I>T&&(console.info(`Increasing SDF texture size ${T}->${I}`),Qte(u,r,I),l.dispose()),Promise.all(w.map(U=>oL(U,a,t.gpuAccelerateSDF).then(({timing:G})=>{y.sdf[U.atlasIndex]=G}))).then(()=>{w.length&&!a.contextLost&&(aL(a),l.needsUpdate=!0),y.sdfTotal=uf()-P,y.total=uf()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:S,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||Zte(u)})}function oL({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Ff,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/r)*r,d=Math.floor(c/(a/r))*r,m=e%4;return Wte(r,r,t,n,u,l,i,f,d,m,o)}function rne(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(oL(s,t,!0))})}),Promise.all(r).then(()=>{aL(t),t.sdfTexture.needsUpdate=!0})})}function ine({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;sL({font:t,sdfGlyphSize:n,text:i},r)}function sne(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Em;function one(t){return Em||(Em=typeof document>"u"?{}:document.createElement("a")),Em.href=t,Em.href}function aL(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const ane=s3({name:"Typesetter",dependencies:[Ff,tne,Vte,Fte],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),lne=s3({name:"Typesetter",dependencies:[ane],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),AT={};function une(t){let e=AT[t];if(!e){const n=new oa(1,1,t,t),r=n.clone(),i=n.attributes,s=r.attributes,o=new Vt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new wt([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...n.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=AT[t]=o}return e}const cne="aTroikaGlyphBounds",ET="aTroikaGlyphIndex",fne="aTroikaGlyphColor";class hne extends Ev{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Cs,this.boundingBox=new rs}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===br?n/2:0,e===ri?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=une(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){h4(this,cne,e,4),h4(this,ET,n,1),h4(this,fne,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,d=Math.abs(n),m=e[0]/d,g=e[2]/d,v=s((m+c)/f)!==s((g+c)/f)?-d:o(l(m)*d,l(g)*d),y=s((m-c)/f)!==s((g-c)/f)?d:a(l(m)*d,l(g)*d),w=s((m+i)/f)!==s((g+i)/f)?d*2:a(d-u(m)*d,d-u(g)*d);r.min.set(v,e[1],n<0?-w:0),r.max.set(y,e[3],n<0?0:w)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(ET).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function h4(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new gc(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const dne=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,pne=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,mne=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,gne=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function vne(t){const e=qy(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ve},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new qt(0,0,0,0)},uTroikaClipRect:{value:new qt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ve},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new et},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Fr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:dne,vertexTransform:pne,fragmentDefs:mne,fragmentColorTransform:gne,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(rL,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const nS=new Zi({color:16777215,side:ri,transparent:!0}),TT=8421504,CT=new ht,Tm=new J,d4=new J,zd=[],yne=new J,p4="+x+y";function bT(t){return Array.isArray(t)?t[0]:t}let lL=()=>{const t=new Un(new oa(1,1),nS);return lL=()=>t,t},uL=()=>{const t=new Un(new oa(1,1,32,1),nS);return uL=()=>t,t};const xne={type:"syncstart"},Sne={type:"synccomplete"},cL=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],wne=cL.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let fL=class extends Un{constructor(){const e=new hne;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=TT,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=p4,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(xne),sL({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Sne),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Zs}onAfterRender(e,n,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=nS.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=vne(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return bT(this.material).getDepthMaterial()}get customDistanceMaterial(){return bT(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,d,m,g,v=0,y=0;if(n){let{outlineWidth:S,outlineOffsetX:x,outlineOffsetY:M,outlineBlur:E,outlineOpacity:C}=this;u=this._parsePercent(S)||0,c=Math.max(0,this._parsePercent(E)||0),d=C,v=this._parsePercent(x)||0,y=this._parsePercent(M)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??TT),m=this.strokeOpacity,m==null&&(m=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=u,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let w=this.clipRect;if(w&&Array.isArray(w)&&w.length===4)r.uTroikaClipRect.value.fromArray(w);else{const S=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-S,l[1]-S,l[2]+S,l[3]+S)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new et;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||p4;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==p4&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,d]=l;Tm.set(0,0,0)[c]=u==="-"?1:-1,d4.set(0,0,0)[d]=f==="-"?-1:1,CT.lookAt(yne,Tm.cross(d4),d4),a.setFromMatrix4(CT)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new ve){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new ve){return Tm.copy(e),this.localPositionToTextCoords(this.worldToLocal(Tm),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?uL():lL(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const d=s[1]+u.getY(c)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,d,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,zd.length=0,o.raycast(e,zd);for(let c=0;c<zd.length;c++)zd[c].object=this,n.push(zd[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,wne.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};cL.forEach(t=>{const e="_private_"+t;Object.defineProperty(fL.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const _ne=z.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=en(({invalidate:g})=>g),[f]=z.useState(()=>new fL),[d,m]=z.useMemo(()=>{const g=[];let v="";return z.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return sI(()=>new Promise(g=>ine({font:r,characters:o},g)),["troika-text",r,o]),z.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),z.useEffect(()=>()=>f.dispose(),[f]),z.createElement("primitive",Pr({object:f,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)});function hL(t,e,n,r){const i=class extends Ht{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const f=mc.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=yo.generateUUID(),i}const dL=parseInt(qs.replace(/\D+/g,""));let Cm=null,pL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function mL(t,e,n){return r=>{n&&n(r),t&&(Cm||(Cm=new Ate),Cm.setDecoderPath(typeof t=="string"?t:pL),r.setDRACOLoader(Cm)),e&&r.setMeshoptDecoder(typeof u4=="function"?u4():u4)}}function zh(t,e=!0,n=!0,r){return Ec($7,t,mL(e,n,r))}zh.preload=(t,e=!0,n=!0,r)=>Ec.preload($7,t,mL(e,n,r));zh.clear=t=>Ec.clear($7,t);zh.setDecoderPath=t=>{pL=t};function gL(t,e,n){const r=en(d=>d.size),i=en(d=>d.viewport),s=typeof t=="number"?t:r.width*i.dpr,o=typeof e=="number"?e:r.height*i.dpr,a=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...c}=a,f=z.useMemo(()=>{const d=new $t(s,o,{minFilter:gt,magFilter:gt,type:Xn,...c});return u&&(d.depthTexture=new N0(s,o,Pn)),d.samples=l,d},[]);return z.useLayoutEffect(()=>{f.setSize(s,o),l&&(f.samples=l)},[l,f,s,o]),z.useEffect(()=>()=>f.dispose(),[]),f}const Mne=t=>typeof t=="function",Ane=z.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...s},o)=>{const a=en(({set:y})=>y),l=en(({camera:y})=>y),u=en(({size:y})=>y),c=z.useRef(null),f=z.useRef(null),d=gL(e);z.useLayoutEffect(()=>{s.manual||(c.current.aspect=u.width/u.height)},[u,s]),z.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let m=0,g=null;const v=Mne(i);return $s(y=>{v&&(n===1/0||m<n)&&(f.current.visible=!1,y.gl.setRenderTarget(d),g=y.scene.background,t&&(y.scene.background=t),y.gl.render(y.scene,c.current),y.scene.background=g,y.gl.setRenderTarget(null),f.current.visible=!0,m++)}),z.useLayoutEffect(()=>{if(r){const y=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:y}))}},[c,r,a]),z.createElement(z.Fragment,null,z.createElement("perspectiveCamera",Pr({ref:M$([c,o])},s),!v&&i),z.createElement("group",{ref:f},v&&i(d.texture)))}),o3=z.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=en(C=>C.invalidate),d=en(C=>C.camera),m=en(C=>C.gl),g=en(C=>C.events),v=en(C=>C.setEvents),y=en(C=>C.set),w=en(C=>C.get),S=en(C=>C.performance),x=e||d,M=r||g.connected||m.domElement,E=z.useMemo(()=>new Gee(x),[x]);return $s(()=>{E.enabled&&E.update()},-1),z.useEffect(()=>(s&&E.connect(s===!0?M:s),E.connect(M),()=>void E.dispose()),[s,M,n,E,f]),z.useEffect(()=>{const C=R=>{f(),n&&S.regress(),o&&o(R)},P=R=>{a&&a(R)},T=R=>{l&&l(R)};return E.addEventListener("change",C),E.addEventListener("start",P),E.addEventListener("end",T),()=>{E.removeEventListener("start",P),E.removeEventListener("end",T),E.removeEventListener("change",C)}},[o,a,l,E,f,v]),z.useEffect(()=>{if(t){const C=w().controls;return y({controls:E}),()=>y({controls:C})}},[t,E]),z.createElement("primitive",Pr({ref:c,object:E,enableDamping:i},u))}),Ene=z.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:f,onCentered:d,precise:m=!0,cacheKey:g=0,...v},y){const w=z.useRef(null),S=z.useRef(null),x=z.useRef(null);return z.useLayoutEffect(()=>{S.current.matrixWorld.identity();const M=new rs().setFromObject(x.current,m),E=new J,C=new Cs,P=M.max.x-M.min.x,T=M.max.y-M.min.y,R=M.max.z-M.min.z;M.getCenter(E),M.getBoundingSphere(C);const I=l?T/2:u?-T/2:0,U=o?-P/2:a?P/2:0,G=c?R/2:f?-R/2:0;S.current.position.set(n||r?0:-E.x+U,n||i?0:-E.y+I,n||s?0:-E.z+G),typeof d<"u"&&d({parent:w.current.parent,container:w.current,width:P,height:T,depth:R,boundingBox:M,boundingSphere:C,center:E,verticalAlignment:I,horizontalAlignment:U,depthAlignment:G})},[g,d,l,o,c,n,r,i,s,m,a,u,f]),z.useImperativeHandle(y,()=>w.current,[]),z.createElement("group",Pr({ref:w},v),z.createElement("group",{ref:S},z.createElement("group",{ref:x},e)))});var Tne=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Cne extends Do{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Tne}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const bne=z.forwardRef(({speed:t=1,...e},n)=>{const[r]=z.useState(()=>new Cne);return $s(i=>r&&(r.time=i.clock.getElapsedTime()*t)),z.createElement("primitive",Pr({object:r,ref:n,attach:"material"},e))}),Pne=hL({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function Rne(t,e){const n=t+"Geometry";return z.forwardRef(({args:r,children:i,...s},o)=>{const a=z.useRef(null);return z.useImperativeHandle(o,()=>a.current),z.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),z.createElement("mesh",Pr({ref:a},s),z.createElement(n,{attach:"geometry",args:r}),i)})}const vL=Rne("sphere"),cf=t=>t&&t.isOrthographicCamera,Dne=t=>t&&t.isBox3,yL=z.createContext(null);function Bne({children:t,damping:e=6,fit:n,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=z.useRef(null),{camera:u,invalidate:c,size:f,controls:d}=en(),m=d,g=z.useRef(a);g.current=a;function v(C,P){return Math.abs(C.x-P.x)<o&&Math.abs(C.y-P.y)<o&&Math.abs(C.z-P.z)<o}function y(C,P,T,R){C.x=yo.damp(C.x,P.x,T,R),C.y=yo.damp(C.y,P.y,T,R),C.z=yo.damp(C.z,P.z,T,R)}const[w]=z.useState(()=>({animating:!1,focus:new J,camera:new J,zoom:1})),[S]=z.useState(()=>({focus:new J,camera:new J,zoom:1})),[x]=z.useState(()=>new rs),M=z.useMemo(()=>{function C(){const P=x.getSize(new J),T=x.getCenter(new J),R=Math.max(P.x,P.y,P.z),I=cf(u)?R*4:R/(2*Math.atan(Math.PI*u.fov/360)),U=cf(u)?R*4:I/u.aspect,G=s*Math.max(I,U);return{box:x,size:P,center:T,distance:G}}return{getSize:C,refresh(P){if(Dne(P))x.copy(P);else{const T=P||l.current;if(!T)return this;T.updateWorldMatrix(!0,!0),x.setFromObject(T)}if(x.isEmpty()){const T=u.position.length()||10;x.setFromCenterAndSize(new J,new J(T,T,T))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:T}=C(),R=u.position.clone().sub(m.target).normalize().multiplyScalar(T),I=m.target.clone().add(R);u.position.copy(I)}return this},clip(){const{distance:P}=C();return m&&(m.maxDistance=P*10),u.near=P/100,u.far=P*100,u.updateProjectionMatrix(),m&&m.update(),c(),this},to({position:P,target:T}){w.camera.copy(u.position);const{center:R}=C();return S.camera.set(...P),T?S.focus.set(...T):S.focus.copy(R),e?w.animating=!0:u.position.set(...P),this},fit(){w.camera.copy(u.position),m&&w.focus.copy(m.target);const{center:P,distance:T}=C(),R=P.clone().sub(u.position).normalize().multiplyScalar(T);if(S.camera.copy(P).sub(R),S.focus.copy(P),cf(u)){w.zoom=u.zoom;let I=0,U=0;const G=[new J(x.min.x,x.min.y,x.min.z),new J(x.min.x,x.max.y,x.min.z),new J(x.min.x,x.min.y,x.max.z),new J(x.min.x,x.max.y,x.max.z),new J(x.max.x,x.max.y,x.max.z),new J(x.max.x,x.max.y,x.min.z),new J(x.max.x,x.min.y,x.max.z),new J(x.max.x,x.min.y,x.min.z)];P.applyMatrix4(u.matrixWorldInverse);for(const k of G)k.applyMatrix4(u.matrixWorldInverse),I=Math.max(I,Math.abs(k.y-P.y)),U=Math.max(U,Math.abs(k.x-P.x));I*=2,U*=2;const j=(u.top-u.bottom)/I,D=(u.right-u.left)/U;S.zoom=Math.min(j,D)/s,e||(u.zoom=S.zoom,u.updateProjectionMatrix())}return e?w.animating=!0:(u.position.copy(S.camera),u.lookAt(S.focus),m&&(m.target.copy(S.focus),m.update())),g.current&&g.current(this.getSize()),c(),this}}},[x,u,m,s,e,c]);z.useLayoutEffect(()=>{if(m){const C=()=>w.animating=!1;return m.addEventListener("start",C),()=>m.removeEventListener("start",C)}},[m]);const E=z.useRef(0);return z.useLayoutEffect(()=>{(i||E.current++===0)&&(M.refresh(),n&&M.fit(),r&&M.clip())},[f,r,n,i,u,m]),$s((C,P)=>{if(w.animating){if(y(w.focus,S.focus,e,P),y(w.camera,S.camera,e,P),w.zoom=yo.damp(w.zoom,S.zoom,e,P),u.position.copy(w.camera),cf(u)&&(u.zoom=w.zoom,u.updateProjectionMatrix()),m?(m.target.copy(w.focus),m.update()):u.lookAt(w.focus),c(),cf(u)&&!(Math.abs(w.zoom-S.zoom)<o)||!cf(u)&&!v(w.camera,S.camera)||m&&!v(w.focus,S.focus))return;w.animating=!1}}),z.createElement("group",{ref:l},z.createElement(yL.Provider,{value:M},t))}function Ine(){return z.useContext(yL)}const m4={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Lne="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",PT=t=>Array.isArray(t);function xL({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(n){if(!(n in m4))throw new Error("Preset must be one of: "+Object.keys(m4).join(", "));t=m4[n],e=Lne}if(a=PT(t),l=PT(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(s=t.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=a?zB:l==="hdr"?_te:l==="exr"?Mte:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=Ec(o,a?[t]:t,m=>{m.setPath==null||m.setPath(e),i&&i(m)}),c=a?u[0]:u;c.mapping=a?ja:hh;const f=3001,d=3e3;return"colorSpace"in c?c.colorSpace=r??a?"srgb":"srgb-linear":c.encoding=r??a?f:d,c}const Fne=t=>t.current&&t.current.isScene,kne=t=>Fne(t)?t.current:t;function rS(t,e,n,r,i=0){const s=kne(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function iS({scene:t,background:e=!1,blur:n,map:r}){const i=en(s=>s.scene);return z.useLayoutEffect(()=>{if(r)return rS(e,t,i,r,n)},[i,t,r,e,n]),null}function SL({background:t=!1,scene:e,blur:n,...r}){const i=xL(r),s=en(o=>o.scene);return z.useLayoutEffect(()=>rS(t,e,s,i,n),[i,t,e,s,n]),null}function Une({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:f=void 0,extensions:d}){const m=en(x=>x.gl),g=en(x=>x.scene),v=z.useRef(null),[y]=z.useState(()=>new Xa),w=z.useMemo(()=>{const x=new U0(r);return x.texture.type=Xn,x},[r]);z.useLayoutEffect(()=>(i===1&&v.current.update(m,y),rS(o,l,g,w.texture,a)),[t,y,w.texture,l,g,o,i,m]);let S=1;return $s(()=>{(i===1/0||S<i)&&(v.current.update(m,y),S++)}),z.createElement(z.Fragment,null,k7(z.createElement(z.Fragment,null,t,z.createElement("cubeCamera",{ref:v,args:[e,n,w]}),u||f?z.createElement(SL,{background:!0,files:u,preset:f,path:c,extensions:d}):s?z.createElement(iS,{background:!0,map:s,extensions:d}):null),y))}function Nne(t){var e,n,r,i;const s=xL(t),o=t.map||s;z.useMemo(()=>Tv({GroundProjectedEnvImpl:Oee}),[]);const a=z.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return z.createElement(z.Fragment,null,z.createElement(iS,Pr({},t,{map:o})),z.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function One(t){return t.ground?z.createElement(Nne,t):t.map?z.createElement(iS,t):t.children?z.createElement(Une,t):z.createElement(SL,t)}const zne=z.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:u=!0,color:c="#000000",depthWrite:f=!1,renderOrder:d,...m},g)=>{const v=z.useRef(null),y=en(D=>D.scene),w=en(D=>D.gl),S=z.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[x,M,E,C,P,T,R]=z.useMemo(()=>{const D=new $t(l,l),k=new $t(l,l);k.texture.generateMipmaps=D.texture.generateMipmaps=!1;const H=new oa(r,i).rotateX(Math.PI/2),oe=new Un(H),N=new Ih;N.depthTest=N.depthWrite=!1,N.onBeforeCompile=Y=>{Y.uniforms={...Y.uniforms,ucolor:{value:new et(c)}},Y.fragmentShader=Y.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),Y.fragmentShader=Y.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const W=new Ht(Ste),Z=new Ht(wte);return Z.depthTest=W.depthTest=!1,[D,H,N,oe,W,Z,k]},[l,r,i,t,c]),I=D=>{C.visible=!0,C.material=P,P.uniforms.tDiffuse.value=x.texture,P.uniforms.h.value=D*1/256,w.setRenderTarget(R),w.render(C,S.current),C.material=T,T.uniforms.tDiffuse.value=R.texture,T.uniforms.v.value=D*1/256,w.setRenderTarget(x),w.render(C,S.current),C.visible=!1};let U=0,G,j;return $s(()=>{S.current&&(e===1/0||U<e)&&(U++,G=y.background,j=y.overrideMaterial,v.current.visible=!1,y.background=null,y.overrideMaterial=E,w.setRenderTarget(x),w.render(y,S.current),I(s),u&&I(s*.4),w.setRenderTarget(null),v.current.visible=!0,y.overrideMaterial=j,y.background=G)}),z.useImperativeHandle(g,()=>v.current,[]),z.createElement("group",Pr({"rotation-x":Math.PI/2},m,{ref:v}),z.createElement("mesh",{renderOrder:d,geometry:M,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},z.createElement("meshBasicMaterial",{transparent:!0,map:x.texture,opacity:n,depthWrite:f})),z.createElement("orthographicCamera",{ref:S,args:[-r/2,r/2,i/2,-i/2,o,a]}))});function Gne(t){return t.isLight}function Hne(t){return!!t.geometry}const wL=z.createContext(null),Vne=hL({color:new et,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${dL>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),Wne=z.forwardRef(({children:t,temporal:e,frames:n=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:u=2,resolution:c=1024,toneMapped:f=!0,...d},m)=>{Tv({SoftShadowMaterial:Vne});const g=en(C=>C.gl),v=en(C=>C.scene),y=en(C=>C.camera),w=en(C=>C.invalidate),S=z.useRef(null),x=z.useRef(null),[M]=z.useState(()=>new Xne(g,v,c));z.useLayoutEffect(()=>{M.configure(S.current)},[]);const E=z.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?i:n),count:0,getMesh:()=>S.current,reset:()=>{M.clear();const C=S.current.material;C.opacity=0,C.alphaTest=0,E.count=0},update:(C=1)=>{const P=S.current.material;E.temporal?(P.opacity=Math.min(o,P.opacity+o/E.blend),P.alphaTest=Math.min(a,P.alphaTest+a/E.blend)):(P.opacity=o,P.alphaTest=a),x.current.visible=!0,M.prepare();for(let T=0;T<C;T++)E.lights.forEach(R=>R.update()),M.update(y,E.blend);x.current.visible=!1,M.finish()}}),[M,y,v,e,n,i,o,a]);return z.useLayoutEffect(()=>{E.reset(),!E.temporal&&E.frames!==1/0&&E.update(E.blend)}),z.useImperativeHandle(m,()=>E,[E]),$s(()=>{(E.temporal||E.frames===1/0)&&E.count<E.frames&&E.count<r&&(w(),E.update(),E.count++)}),z.createElement("group",d,z.createElement("group",{traverse:()=>null,ref:x},z.createElement(wL.Provider,{value:E},t)),z.createElement("mesh",{receiveShadow:!0,ref:S,scale:s,rotation:[-Math.PI/2,0,0]},z.createElement("planeGeometry",null),z.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:u,map:M.progressiveLightMap2.texture})))}),jne=z.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:u=8,intensity:c=dL>=155?Math.PI:1,ambient:f=.5,...d},m)=>{const g=z.useRef(null),v=new J(...a).length(),y=z.useContext(wL),w=z.useCallback(()=>{let x;if(g.current)for(let M=0;M<g.current.children.length;M++)if(x=g.current.children[M],Math.random()>f)x.position.set(a[0]+yo.randFloatSpread(l),a[1]+yo.randFloatSpread(l),a[2]+yo.randFloatSpread(l));else{let E=Math.acos(2*Math.random()-1)-Math.PI/2,C=2*Math.PI*Math.random();x.position.set(Math.cos(E)*Math.cos(C)*v,Math.abs(Math.cos(E)*Math.sin(C)*v),Math.sin(E)*v)}},[l,f,v,...a]),S=z.useMemo(()=>({update:w}),[w]);return z.useImperativeHandle(m,()=>S,[S]),z.useLayoutEffect(()=>{const x=g.current;return y&&y.lights.set(x.uuid,S),()=>void y.lights.delete(x.uuid)},[y,S]),z.createElement("group",Pr({ref:g},d),Array.from({length:u},(x,M)=>z.createElement("directionalLight",{key:M,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:c/u},z.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class Xne{constructor(e,n,r=1024){this.renderer=e,this.res=r,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new et,this.clearAlpha=0;const i={type:Xn,magFilter:Nt,minFilter:Nt};this.progressiveLightMap1=new $t(this.res,this.res,i),this.progressiveLightMap2=new $t(this.res,this.res,i),this.discardMat=new Pne,this.targetMat=new g7({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Hne(e)?this.meshes.push({object:e,material:e.material}):Gne(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const Jne={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Yne({radius:t,adjustCamera:e}){const n=Ine();return z.useEffect(()=>{e&&n.refresh().clip().fit()},[t,e]),null}function _L({children:t,center:e,adjustCamera:n=!0,intensity:r=.5,shadows:i="contact",environment:s="city",preset:o="rembrandt",...a}){var l,u,c,f,d,m,g,v;const y=typeof o=="string"?Jne[o]:o,[{radius:w,height:S},x]=z.useState({radius:0,width:0,height:0,depth:0}),M=(l=i==null?void 0:i.bias)!==null&&l!==void 0?l:-1e-4,E=(u=i==null?void 0:i.normalBias)!==null&&u!==void 0?u:0,C=(c=i==null?void 0:i.size)!==null&&c!==void 0?c:1024,P=(f=i==null?void 0:i.offset)!==null&&f!==void 0?f:0,T=i==="contact"||(i==null?void 0:i.type)==="contact",R=i==="accumulative"||(i==null?void 0:i.type)==="accumulative",I={...typeof i=="object"?i:{}},U=s?typeof s=="string"?{preset:s}:s:null,G=z.useCallback(j=>{const{width:D,height:k,depth:H,boundingSphere:oe}=j;x({radius:oe.radius,width:D,height:k,depth:H}),e!=null&&e.onCentered&&e.onCentered(j)},[]);return z.createElement(z.Fragment,null,z.createElement("ambientLight",{intensity:r/3}),z.createElement("spotLight",{penumbra:1,position:[y.main[0]*w,y.main[1]*w,y.main[2]*w],intensity:r*2,castShadow:!!i,"shadow-bias":M,"shadow-normalBias":E,"shadow-mapSize":C}),z.createElement("pointLight",{position:[y.fill[0]*w,y.fill[1]*w,y.fill[2]*w],intensity:r}),z.createElement(Bne,Pr({fit:!!n,clip:!!n,margin:Number(n),observe:!0},a),z.createElement(Yne,{radius:w,adjustCamera:n}),z.createElement(Ene,Pr({},e,{position:[0,P/2,0],onCentered:G}),t)),z.createElement("group",{position:[0,-S/2-P/2,0]},T&&z.createElement(zne,Pr({scale:w*4,far:w,blur:2},I)),R&&z.createElement(Wne,Pr({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:w*4},I),z.createElement(jne,{amount:(d=I.amount)!==null&&d!==void 0?d:8,radius:(m=I.radius)!==null&&m!==void 0?m:w,ambient:(g=I.ambient)!==null&&g!==void 0?g:.5,intensity:(v=I.intensity)!==null&&v!==void 0?v:1,position:[y.main[0]*w,y.main[1]*w,y.main[2]*w],size:w*4,bias:-M,mapSize:C}))),s&&z.createElement(One,U))}const Kne=z.forwardRef(({children:t,compute:e,width:n,height:r,samples:i=8,renderPriority:s=0,eventPriority:o=0,frames:a=1/0,stencilBuffer:l=!1,depthBuffer:u=!0,generateMipmaps:c=!1,...f},d)=>{const{size:m,viewport:g}=en(),v=gL((n||m.width)*g.dpr,(r||m.height)*g.dpr,{samples:i,stencilBuffer:l,depthBuffer:u,generateMipmaps:c}),[y]=z.useState(()=>new Xa),w=z.useCallback((S,x,M)=>{var E,C;let P=(E=v.texture)==null?void 0:E.__r3f.parent;for(;P&&!(P instanceof pn);)P=P.__r3f.parent;if(!P)return!1;M.raycaster.camera||M.events.compute(S,M,(C=M.previousRoot)==null?void 0:C.getState());const[T]=M.raycaster.intersectObject(P);if(!T)return!1;const R=T.uv;if(!R)return!1;x.raycaster.setFromCamera(x.pointer.set(R.x*2-1,R.y*2-1),x.camera)},[]);return z.useImperativeHandle(d,()=>v.texture,[v]),z.createElement(z.Fragment,null,k7(z.createElement(Zne,{renderPriority:s,frames:a,fbo:v},t,z.createElement("group",{onPointerOver:()=>null})),y,{events:{compute:e||w,priority:o}}),z.createElement("primitive",Pr({object:v.texture},f)))});function Zne({frames:t,renderPriority:e,children:n,fbo:r}){let i=0,s;return $s(o=>{(t===1/0||i<t)&&(s=o.gl.autoClear,o.gl.autoClear=!0,o.gl.setRenderTarget(r),o.gl.render(o.scene,o.camera),o.gl.setRenderTarget(null),o.gl.autoClear=s,i++)},e),z.createElement(z.Fragment,null,n)}const Qne=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    height: 200vh;
  }
`,qne=Ft.div`
  height: 100%;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`,$ne=Ft.div`
  flex: 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    flex: 1;
    align-items: center;
  }
`,ere=Ft.h1`
  font-size: 74px;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,tre=Ft.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,nre=Ft.img`
  height: 5px;
`,rre=Ft.h2`
  color: #4e6fda;
`,ire=Ft.p`
  font-size: 24px;
  color: lightgray;
  @media only screen and (max-width: 768px) {
    padding: 20px;
    text-align: center;
  }
`,sre=Ft.button`
  background-color: #4e6fda;
  color: white;
  font-weight: 500;
  width: 100px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,ore=Ft.div`
  flex: 3;
  position: relative;
  @media only screen and (max-width: 768px) {
    flex: 1;
    width: 100%;
  }
`,are=Ft.img`
  width: 800px;
  height: 600px;
  object-fit: contain;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  animation: animate 2s infinite ease alternate;

  @media only screen and (max-width: 768px) {
    width: 300px;
    height: 300px;
  }

  @keyframes animate {
    to {
      transform: translateY(20px);
    }
  }
`,lre=()=>hn(Qne,{children:[Oe(kW,{}),hn(qne,{children:[hn($ne,{children:[Oe(ere,{children:"Think. Make. Solve."}),hn(tre,{children:[Oe(nre,{src:"./img/line.png"}),Oe(rre,{children:"What we Do"})]}),Oe(ire,{children:"we enjoy creating delightful, human-centered digital experiences."}),Oe(sre,{children:"Learn More"})]}),hn(ore,{children:[Oe(e3,{children:hn(z.Suspense,{fallback:null,children:[Oe(o3,{enableZoom:!1}),Oe("ambientLight",{intensity:1}),Oe("directionalLight",{position:[3,2,1]}),Oe(vL,{args:[1,100,200],scale:2.4,children:Oe(bne,{color:"#4e6fda",attach:"material",distort:.8,speed:.4})})]})}),Oe(are,{src:"./img/moon.png"})]})]})]}),ure=()=>{const t=z.useRef();return $s(e=>t.current.position.x=Math.sin(e.clock.elapsedTime)*2),hn("mesh",{children:[Oe("boxGeometry",{}),Oe("meshStandardMaterial",{children:hn(Kne,{attach:"map",children:[Oe(Ane,{makeDefault:!0,position:[0,0,5]}),Oe("color",{attach:"background",args:["#4e6fda"]}),Oe(_ne,{ref:t,fontSize:3,color:"#555",children:"hie!"})]})})]})},cre=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  justify-content: center;
`,fre=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;
`,hre=Ft.div`
  flex: 1;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,dre=Ft.h1`
  font-size: 74px;

  @media only screen and (max-width: 768px) {
    font-size: 60px;
  }
`,pre=Ft.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    align-items: center;
    text-align: center;
  }
`,mre=Ft.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,gre=Ft.img`
  height: 5px;
`,vre=Ft.h2`
  color: #4e6fda;
`,yre=Ft.p`
  font-size: 24px;
  color: lightgray;
`,xre=Ft.button`
  background-color: #4e6fda;
  color: white;
  font-weight: 500;
  width: 120px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,Sre=()=>Oe(cre,{children:hn(fre,{children:[Oe(hre,{children:Oe(e3,{camera:{position:[5,5,5],fov:25},children:hn(z.Suspense,{fallback:null,children:[Oe("ambientLight",{intensity:.5}),Oe("directionalLight",{position:[3,2,1]}),Oe(ure,{}),Oe(o3,{enableZoom:!1,autoRotate:!0})]})})}),hn(pre,{children:[Oe(dre,{children:"Think outside the square space"}),hn(mre,{children:[Oe(gre,{src:"./img/line.png"}),Oe(vre,{children:"Who we Are"})]}),Oe(yre,{children:"a creative group of designers and developers with a passion for the arts."}),Oe(xre,{children:"See our works"})]})]})});/**
 * postprocessing v6.33.1 build Tue Sep 19 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var Tc="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",wre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;
#else
float coc=texture2D(cocBuffer,vUv).g*scale;
#endif
if(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);
#else
vec2 step=texelSize*coc;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,bm=class extends Ht{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new de(null),cocBuffer:new de(null),texelSize:new de(new ve),kernel64:new de(null),kernel16:new de(null),scale:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:wre,vertexShader:Tc}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let r=0,i=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*t,l=Math.sqrt(s)/o,u=l*Math.cos(a),c=l*Math.sin(a);s%5===0?(n[i++]=u,n[i++]=c):(e[r++]=u,e[r++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Ut={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},kf={RED:0,GREEN:1,BLUE:2,ALPHA:3},ML="",Tn="srgb",Mh="srgb-linear",sp={FULL:0,SINGLE:1},Pp={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},Ao={NONE:0,DEPTH:1,CONVOLUTION:2},An={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Ou={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},Gh={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},_re={SCALE_UP:"lut.scaleup"},sS={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2,MULTIPLY_RGB:3},AL=Number(qs.replace(/\D+/g,"")),oS=AL>=152,EL=new Map([[To,Mh],[En,Tn]]),Mre=new Map([[Mh,To],[Tn,En]]);function Ya(t){return t===null?null:oS?t.outputColorSpace:EL.get(t.outputEncoding)}function kr(t,e){t!==null&&(oS?t.colorSpace=e:t.encoding=Mre.get(e))}function g4(t,e){t===null||e===null||(oS?e.colorSpace=t.colorSpace:e.encoding=t.encoding)}function a3(t){return AL<154?t.replace("colorspace_fragment","encodings_fragment"):t}function Uf(t,e,n){return t*(e-n)-e}function Zu(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var Are=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,Ere=class extends Ht{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),focusDistance:new de(0),focusRange:new de(0),cameraNear:new de(.3),cameraFar:new de(1e3)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Are,vertexShader:Tc}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-Uf(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=Zu(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-Uf(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=Zu(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Tre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Cre="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",bre=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Pre=class extends Ht{constructor(t=new qt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new qt),scale:new de(1),kernel:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Tre,vertexShader:Cre}),this.fragmentShader=a3(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=Gh.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return bre[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},Rre=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,TL=class extends Ht{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new de(null),opacity:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Rre,vertexShader:Tc}),this.fragmentShader=a3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},Dre=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,Bre=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,Ire=class extends Ht{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),cameraNear:new de(.3),cameraFar:new de(1e3)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Dre,vertexShader:Bre}),this.depthBuffer=t,this.depthPacking=Co,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Co){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Lre=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,Fre=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,kre=class extends Ht{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new de(null),texelPosition:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Lre,vertexShader:Fre}),this.depthCopyMode=sp.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},Ure=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in highp float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;highp float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){highp float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
highp vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
highp vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,Nre="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Ore=class extends Ht{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),normalBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ure,vertexShader:Nre})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},zre=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,CL=class extends Ht{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Pp.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new de(null),depthBuffer0:new de(null),depthBuffer1:new de(null),cameraNearFar:new de(new ve(1,1))},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:zre,vertexShader:Tc}),this.depthMode=pg}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=Yr){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=Yr){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?Pp.KEEP_MAX_DEPTH:Pp.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case Ox:e="false";break;case zx:e="true";break;case s0:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case av:e="abs(d1 - d0) > DEPTH_EPSILON";break;case pg:e="d0 > d1";break;case i0:e="d0 >= d1";break;case Gx:e="d0 <= d1";break;case Hx:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Gre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,Hre="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",Vre=class extends Ht{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Gre,vertexShader:Hre}),this.fragmentShader=a3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Wre=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,jre="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Xre=class extends Ht{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:qs.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new de(null),depthBuffer:new de(null),resolution:new de(new ve),texelSize:new de(new ve),cameraNear:new de(.3),cameraFar:new de(1e3),aspect:new de(1),time:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=Wre.replace(An.FRAGMENT_HEAD,t.get(An.FRAGMENT_HEAD)||"").replace(An.FRAGMENT_MAIN_UV,t.get(An.FRAGMENT_MAIN_UV)||"").replace(An.FRAGMENT_MAIN_IMAGE,t.get(An.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=jre.replace(An.VERTEX_HEAD,t.get(An.VERTEX_HEAD)||"").replace(An.VERTEX_MAIN_SUPPORT,t.get(An.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=a3(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return An}},Jre=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,Yre=class extends Ht{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new de(null),lightPosition:new de(t),density:new de(1),decay:new de(1),weight:new de(1),exposure:new de(1),clampMax:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Jre,vertexShader:Tc})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},Kre=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,Zre=class extends Ht{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:qs.replace(/\D+/g,"")},uniforms:{inputBuffer:new de(null),threshold:new de(0),smoothing:new de(1),range:new de(null)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Kre,vertexShader:Tc}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},Qre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 3
vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);
#elif MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,qre=class extends Ht{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new de(t),inputBuffer:new de(null),strength:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Qre,vertexShader:Tc}),this.colorChannel=kf.RED,this.maskFunction=sS.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==Gn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},$re="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",eie="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",tie=class extends Ht{constructor(t=new ve){super({name:"OutlineMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:$re,vertexShader:eie}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},nie=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,rie="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",iie=class extends Ht{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),normalBuffer:new de(null),normalDepthBuffer:new de(null),noiseTexture:new de(null),inverseProjectionMatrix:new de(new ht),projectionMatrix:new de(new ht),texelSize:new de(new ve),cameraNearFar:new de(new ve),distanceCutoff:new de(new ve),proximityCutoff:new de(new ve),noiseScale:new de(new ve),minRadiusScale:new de(.33),intensity:new de(1),fade:new de(.01),bias:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nie,vertexShader:rie}),this.copyCameraSettings(t),this.resolution=new ve,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-Uf(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=Zu(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-Uf(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=Zu(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-Uf(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=Zu(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-Uf(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=Zu(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,r=n.noiseTexture.value;r!==null&&n.noiseScale.value.set(t/r.image.width,e/r.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},sie=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,oie="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",aie=class extends Ht{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new de(null),supportBuffer:new de(null),texelSize:new de(new ve),radius:new de(.85)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:sie,vertexShader:oie}),this.fragmentShader=a3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},lie=new Dh,vl=null;function uie(){if(vl===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);vl=new Vt,vl.setAttribute!==void 0?(vl.setAttribute("position",new ln(t,3)),vl.setAttribute("uv",new ln(e,2))):(vl.addAttribute("position",new ln(t,3)),vl.addAttribute("uv",new ln(e,2)))}return vl}var Rr=class bL{constructor(e="Pass",n=new Xa,r=lie){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new Un(uie(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Xa),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=Yr){}render(e,n,r,i,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof $t||n instanceof pr||n instanceof bn||n instanceof bL)&&this[e].dispose()}}},PL=class extends Rr{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new TL,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new $t(1,1,{minFilter:gt,magFilter:gt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Gn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Ya(t)===Tn&&kr(this.renderTarget.texture,Tn))}},cie=class extends Rr{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},RT=new et,l3=class extends Rr{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(RT),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(RT,a):u&&t.setClearAlpha(a)}},Hh=class extends Rr{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new l3,this.overrideMaterialManager=n===null?null:new BT(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new BT(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,f=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},aS=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Hh(t,e,new Ih({depthPacking:Co}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.clearPass;u.overrideClearColor=new et(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new Cn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},RL=class extends Rr{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=Cn.AUTO_SIZE,height:r=Cn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new Ore;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt,depthBuffer:!1,type:Pn}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Cn(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},fie=class extends Rr{constructor({depthPacking:t=Co}={}){super("DepthCopyPass");const e=new kre;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new $t(1,1,{type:t===Co?Gn:Pn,minFilter:Nt,magFilter:Nt,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},Pm=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function hie(t){return(t[0]*Pm[0]+t[1]*Pm[1]+t[2]*Pm[2]+t[3]*Pm[3])/255}var die=class extends fie{constructor({depthPacking:t=Co,mode:e=sp.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===Co?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,r,i){const s=this.fullscreenMaterial,o=s.mode;if(o===sp.FULL&&super.render(t),this.callback!==null){const a=this.renderTarget,l=this.pixelBuffer,u=a.texture.type!==Pn;let c=0,f=0;if(o===sp.SINGLE)super.render(t);else{const d=s.texelPosition;c=Math.round(d.x*a.width),f=Math.round(d.y*a.height)}t.readRenderTargetPixels(a,c,f,1,1,l),this.callback(u?hie(l):l[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===sp.FULL&&super.setSize(t,e)}};function DT(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function pie(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const s=r!==void 0&&/mainImage/.test(r),o=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&Ao.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let u=l.get(An.FRAGMENT_HEAD)||"",c=l.get(An.FRAGMENT_MAIN_UV)||"",f=l.get(An.FRAGMENT_MAIN_IMAGE)||"",d=l.get(An.VERTEX_HEAD)||"",m=l.get(An.VERTEX_MAIN_SUPPORT)||"";const g=new Set,v=new Set;if(o&&(c+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const S=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);m+=`	${t}MainSupport(`,m+=S?`vUv);
`:`);
`;for(const x of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const M of x[1].split(/\s*,\s*/))n.varyings.add(M),g.add(M),v.add(M);for(const x of i.matchAll(a))v.add(x[1])}for(const S of r.matchAll(a))v.add(S[1]);for(const S of e.defines.keys())v.add(S.replace(/\([\w\s,]*\)/g,""));for(const S of e.uniforms.keys())v.add(S);v.delete("while"),v.delete("for"),v.delete("if"),e.uniforms.forEach((S,x)=>n.uniforms.set(t+x.charAt(0).toUpperCase()+x.slice(1),S)),e.defines.forEach((S,x)=>n.defines.set(t+x.charAt(0).toUpperCase()+x.slice(1),S));const y=new Map([["fragment",r],["vertex",i]]);DT(t,v,n.defines),DT(t,v,y),r=y.get("fragment"),i=y.get("vertex");const w=e.blendMode;if(n.blendModes.set(w.blendFunction,w),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(f+=e.inputColorSpace===Tn?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==ML?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const S=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${t}MainImage(color0, UV, `,n.attributes&Ao.DEPTH&&S.test(r)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const x=t+"BlendOpacity";n.uniforms.set(x,w.opacity),f+=`color0 = blend${w.blendFunction}(color0, color1, ${x});

	`,u+=`uniform float ${x};

`}if(u+=r+`
`,i!==null&&(d+=i+`
`),l.set(An.FRAGMENT_HEAD,u),l.set(An.FRAGMENT_MAIN_UV,c),l.set(An.FRAGMENT_MAIN_IMAGE,f),l.set(An.VERTEX_HEAD,d),l.set(An.VERTEX_MAIN_SUPPORT,m),e.extensions!==null)for(const S of e.extensions)n.extensions.add(S)}}var mie=class extends Rr{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new Xre(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new Mie;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Ut.DST)t.attributes|=o.getAttributes()&Ao.DEPTH;else{if(t.attributes&o.getAttributes()&Ao.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);pie("e"+e++,o,t)}let n=t.shaderParts.get(An.FRAGMENT_HEAD),r=t.shaderParts.get(An.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(An.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&Ao.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Tn&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(An.FRAGMENT_HEAD,n),t.shaderParts.set(An.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(An.FRAGMENT_MAIN_UV,i);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==Gn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},Bv=class extends Rr{constructor({kernelSize:t=Gh.MEDIUM,resolutionScale:e=.5,width:n=Cn.AUTO_SIZE,height:r=Cn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new $t(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Cn(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new Pre,this._blurMaterial.kernelSize=t,this.copyMaterial=new TL}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let f=e;this.fullscreenMaterial=u;for(let d=0,m=c.length;d<m;++d){const g=d&1?l:a;u.kernel=c[d],u.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Gn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Ya(t)===Tn&&(kr(this.renderTargetA.texture,Tn),kr(this.renderTargetB.texture,Tn)))}static get AUTO_SIZE(){return Cn.AUTO_SIZE}},gie=class extends Rr{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new Zre(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Cn(this,o,a,r);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==Gn&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},vie=class extends Rr{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new l3(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},yie=class extends Rr{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Vre,this.upsamplingMaterial=new aie,this.resolution=new ve}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let f=e;this.fullscreenMaterial=a;for(let d=0,m=u.length;d<m;++d){const g=u[d];a.setSize(f.width,f.height),a.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=l;for(let d=c.length-1;d>=0;--d){const m=c[d];l.setSize(f.width,f.height),l.inputBuffer=f.texture,l.supportBuffer=u[d].texture,t.setRenderTarget(m),t.render(s,o),f=m}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==Gn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Ya(t)===Tn)for(const i of r)kr(i.texture,Tn)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},xie=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Hh(t,e,new m7);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new et(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new Cn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},po=class extends Rr{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==Gn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},v4=1/1e3,Sie=1e3,wie=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*v4}get fixedDelta(){return this._fixedDelta*v4}set fixedDelta(t){this._fixedDelta=t*Sie}get elapsed(){return this._elapsed*v4}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},_ie=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new PL,this.depthTexture=null,this.passes=[],this.timer=new wie,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new ve),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Gn&&Ya(e)===Tn&&(kr(this.inputBuffer.texture,Tn),kr(this.outputBuffer.texture,Tn),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new N0;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Zl,e.type=Wl):e.type=La,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new ve:s.getDrawingBufferSize(new ve),a={minFilter:gt,magFilter:gt,stencilBuffer:n,depthBuffer:e,type:r},l=new $t(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===Gn&&Ya(s)===Tn&&kr(l.texture,Tn),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new ve),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof vie?o=!0:c instanceof cie&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new ve);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new ve);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Mie=class{constructor(){this.shaderParts=new Map([[An.FRAGMENT_HEAD,null],[An.FRAGMENT_MAIN_UV,null],[An.FRAGMENT_MAIN_IMAGE,null],[An.VERTEX_HEAD,null],[An.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Ao.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Mh}},y4=!1,BT=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case ri:n=this.materialsFlatShadedDoubleSide;break;case br:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case ri:n=this.materialsDoubleSide;break;case br:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Ht))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Zs;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=br,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=ri,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=br,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=ri,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,y4){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return y4}static set workaroundEnabled(t){y4=t}},yl=-1,Cn=class extends Ts{constructor(t,e=yl,n=yl,r=1){super(),this.resizable=t,this.baseSize=new ve(1,1),this.preferredSize=new ve(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new ve,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==yl?n.width=e.width:e.height!==yl?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==yl?n.height=e.height:e.width!==yl?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(yl),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return yl}},lS=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},Aie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Eie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Tie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",Cie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",bie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",Pie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Rie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Die="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",Bie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",Iie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",Lie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",Fie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",kie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",Uie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",Nie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",Oie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",zie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",Gie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",Hie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",Vie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Wie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",jie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",Xie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",Jie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",Yie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",Kie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",Zie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Qie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",qie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",$ie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",ese="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",tse="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",nse=new Map([[Ut.ADD,Aie],[Ut.ALPHA,Eie],[Ut.AVERAGE,Tie],[Ut.COLOR,Cie],[Ut.COLOR_BURN,bie],[Ut.COLOR_DODGE,Pie],[Ut.DARKEN,Rie],[Ut.DIFFERENCE,Die],[Ut.DIVIDE,Bie],[Ut.DST,null],[Ut.EXCLUSION,Iie],[Ut.HARD_LIGHT,Lie],[Ut.HARD_MIX,Fie],[Ut.HUE,kie],[Ut.INVERT,Uie],[Ut.INVERT_RGB,Nie],[Ut.LIGHTEN,Oie],[Ut.LINEAR_BURN,zie],[Ut.LINEAR_DODGE,Gie],[Ut.LINEAR_LIGHT,Hie],[Ut.LUMINOSITY,Vie],[Ut.MULTIPLY,Wie],[Ut.NEGATION,jie],[Ut.NORMAL,Xie],[Ut.OVERLAY,Jie],[Ut.PIN_LIGHT,Yie],[Ut.REFLECT,Kie],[Ut.SATURATION,Zie],[Ut.SCREEN,Qie],[Ut.SOFT_LIGHT,qie],[Ut.SRC,$ie],[Ut.SUBTRACT,ese],[Ut.VIVID_LIGHT,tse]]),rse=class extends Ts{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new de(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return nse.get(this.blendFunction)}},Si=class extends Ts{constructor(t,e,{attributes:n=Ao.NONE,blendFunction:r=Ut.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new rse(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Mh,this._outputColorSpace=ML}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=Yr){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof $t||e instanceof pr||e instanceof bn||e instanceof Rr)&&this[t].dispose()}}},ise=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,DL=class extends Si{constructor({blendFunction:t=Ut.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=Gh.LARGE,resolutionScale:l=.5,width:u=Cn.AUTO_SIZE,height:c=Cn.AUTO_SIZE,resolutionX:f=u,resolutionY:d=c}={}){super("BloomEffect",ise,{blendFunction:t,uniforms:new Map([["map",new de(null)],["intensity",new de(i)]])}),this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Bv({kernelSize:a}),this.luminancePass=new gie({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new yie,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const m=this.resolution=new Cn(this,f,d,l);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,Ya(t)===Tn&&kr(this.renderTarget.texture,Tn))}},sse="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",ose=class extends Si{constructor(t){super("ColorAverageEffect",sse,{blendFunction:t})}},ase=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform lowp sampler2D farCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);
#if MASK_FUNCTION == 1
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,colorFar.a);cocNearFar.x=min(cocNearFar.x*scale,1.0);
#else
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,texture2D(farCoCBuffer,uv).g);cocNearFar=min(cocNearFar*scale,1.0);
#endif
vec4 result=inputColor*(1.0-cocNearFar.y)+colorFar;result=mix(result,colorNear,cocNearFar.x);outputColor=result;}`,lse=class extends Si{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:u=Cn.AUTO_SIZE,height:c=Cn.AUTO_SIZE,resolutionX:f=u,resolutionY:d=c}={}){super("DepthOfFieldEffect",ase,{blendFunction:e,attributes:Ao.DEPTH,uniforms:new Map([["nearColorBuffer",new de(null)],["farColorBuffer",new de(null)],["nearCoCBuffer",new de(null)],["farCoCBuffer",new de(null)],["scale",new de(1)]])}),this.camera=t,this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.uniforms.get("farCoCBuffer").value=this.renderTargetCoC.texture,this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new po(new Ere(t));const m=this.cocMaterial;m.focusDistance=i,m.focusRange=o,n!==void 0&&(m.worldFocusDistance=n),r!==void 0&&(m.worldFocusRange=r),this.blurPass=new Bv({resolutionScale:l,resolutionX:f,resolutionY:d,kernelSize:Gh.MEDIUM}),this.maskPass=new po(new qre(this.renderTargetCoC.texture));const g=this.maskPass.fullscreenMaterial;g.colorChannel=kf.GREEN,this.maskFunction=sS.MULTIPLY_RGB,this.bokehNearBasePass=new po(new bm(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new po(new bm(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new po(new bm(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new po(new bm(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const v=this.resolution=new Cn(this,f,d,l);v.addEventListener("change",y=>this.setSize(v.baseWidth,v.baseHeight)),this.bokehScale=a}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get maskFunction(){return this.maskPass.fullscreenMaterial.maskFunction}set maskFunction(t){this.maskFunction!==t&&(this.defines.set("MASK_FUNCTION",t.toFixed(0)),this.maskPass.fullscreenMaterial.maskFunction=t,this.setChanged())}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.cocMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return Zu(-n,e.near,e.far)}setDepthTexture(t,e=Yr){this.cocMaterial.depthBuffer=t,this.cocMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget,i=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(t,null,i),this.blurPass.render(t,i,s),this.maskPass.render(t,e,o),this.bokehFarBasePass.render(t,o,r),this.bokehFarFillPass.render(t,r,this.renderTargetFar),this.bokehNearBasePass.render(t,e,r),this.bokehNearFillPass.render(t,r,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetFar.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,Gn),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,Ya(t)===Tn&&(kr(this.renderTarget.texture,Tn),kr(this.renderTargetNear.texture,Tn),kr(this.renderTargetFar.texture,Tn),kr(this.renderTargetMasked.texture,Tn)))}};function IT(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=t,r.height=e,n instanceof Image)i.drawImage(n,0,0);else{const s=i.createImageData(t,e);s.data.set(n),i.putImageData(s,0,0)}return r}var use=class BL{constructor(e=0,n=0,r=null){this.width=e,this.height=n,this.data=r}toCanvas(){return typeof document>"u"?null:IT(this.width,this.height,this.data)}static from(e){const{width:n,height:r}=e;let i;if(e instanceof Image){const s=IT(n,r,e);s!==null&&(i=s.getContext("2d").getImageData(0,0,n,r).data)}else i=e.data;return new BL(n,r,i)}},cse=`"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,LT=new et,fse=class f1 extends tc{constructor(e,n){super(e,n,n,n),this.type=Pn,this.format=zn,this.minFilter=gt,this.magFilter=gt,this.wrapS=Cr,this.wrapT=Cr,this.wrapR=Cr,this.unpackAlignment=1,this.needsUpdate=!0,kr(this,Mh),this.domainMin=new J(0,0,0),this.domainMax=new J(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e,n=!0){const r=this.image;let i;return e<=r.width?i=Promise.reject(new Error("The target size must be greater than the current size")):i=new Promise((s,o)=>{const a=URL.createObjectURL(new Blob([cse],{type:"text/javascript"})),l=new Worker(a);l.addEventListener("error",c=>o(c.error)),l.addEventListener("message",c=>{const f=new f1(c.data,e);g4(this,f),f.type=this.type,f.name=this.name,URL.revokeObjectURL(a),s(f)});const u=n?[r.data.buffer]:[];l.postMessage({operation:_re.SCALE_UP,data:r.data,size:e},u)}),i}applyLUT(e){const n=this.image,r=e.image,i=Math.min(n.width,n.height,n.depth),s=Math.min(r.width,r.height,r.depth);if(i!==s)console.error("Size mismatch");else if(e.type!==Pn||this.type!==Pn)console.error("Both LUTs must be FloatType textures");else if(e.format!==zn||this.format!==zn)console.error("Both LUTs must be RGBA textures");else{const o=n.data,a=r.data,l=i,u=l**2,c=l-1;for(let f=0,d=l**3;f<d;++f){const m=f*4,g=o[m+0]*c,v=o[m+1]*c,y=o[m+2]*c,w=Math.round(g+v*l+y*u)*4;o[m+0]=a[w+0],o[m+1]=a[w+1],o[m+2]=a[w+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Pn){const e=this.image.data,n=new Uint8Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]*255+.5;this.image.data=n,this.type=Gn,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===Gn){const e=this.image.data,n=new Float32Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]/255;this.image.data=n,this.type=Pn,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Pn){for(let n=0,r=e.length;n<r;n+=4)LT.fromArray(e,n).convertLinearToSRGB().toArray(e,n);kr(this,Tn),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Pn){for(let n=0,r=e.length;n<r;n+=4)LT.fromArray(e,n).convertSRGBToLinear().toArray(e,n);kr(this,Mh),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,n=this.image.height*this.image.depth,r=new qo(this.image.data,e,n);return r.name=this.name,r.type=this.type,r.format=this.format,r.minFilter=gt,r.magFilter=gt,r.wrapS=this.wrapS,r.wrapT=this.wrapT,r.generateMipmaps=!1,r.needsUpdate=!0,g4(this,r),r}static from(e){const n=e.image,{width:r,height:i}=n,s=Math.min(r,i);let o;if(n instanceof Image){const u=use.from(n).data;if(r>i){o=new Uint8Array(u.length);for(let c=0;c<s;++c)for(let f=0;f<s;++f)for(let d=0;d<s;++d){const m=(d+c*s+f*s*s)*4,g=(d+f*s+c*s*s)*4;o[g+0]=u[m+0],o[g+1]=u[m+1],o[g+2]=u[m+2],o[g+3]=u[m+3]}}else o=new Uint8Array(u.buffer)}else o=n.data.slice();const a=new f1(o,s);return a.type=e.type,a.name=e.name,g4(e,a),a}static createNeutral(e){const n=new Float32Array(e**3*4),r=e**2,i=1/(e-1);for(let o=0;o<e;++o)for(let a=0;a<e;++a)for(let l=0;l<e;++l){const u=(o+a*e+l*r)*4;n[u+0]=o*i,n[u+1]=a*i,n[u+2]=l*i,n[u+3]=1}const s=new f1(n,e);return s.name="neutral",s}};function hse(t,e,n){const r=new Map([[cv,1],[F0,1],[jx,2],[zn,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===Gn){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var e9=class extends qo{constructor(t,e,n=cv,r=Gn){super(hse(t*e,n,r),t,e,n,r),this.needsUpdate=!0}},dse="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",Rm="Glitch.Generated";function Xi(t,e){return t+Math.random()*(e-t)}var pse=class extends Si{constructor({chromaticAberrationOffset:t=null,delay:e=new ve(1.5,3.5),duration:n=new ve(.6,1),strength:r=new ve(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",dse,{uniforms:new Map([["perturbationMap",new de(null)],["columns",new de(i)],["active",new de(!1)],["random",new de(1)],["seeds",new de(new ve)],["distortion",new de(new ve)]])}),o===null){const l=new e9(a,a,zn);l.name=Rm,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new ve(Xi(this.delay.x,this.delay.y),Xi(this.duration.x,this.duration.y)),this.strength=r,this.mode=Ou.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===Rm&&e.dispose(),t.minFilter=t.magFilter=Nt,t.wrapS=t.wrapT=xi,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new e9(t,t,zn);return e.name=Rm,e}update(t,e,n){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,f;r!==Ou.DISABLED&&(r===Ou.SPORADIC&&(a+=n,f=a>i.x,a>=i.x+i.y&&(i.set(Xi(this.delay.x,this.delay.y),Xi(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||r===Ou.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=Xi(-Math.PI,Math.PI),this.seeds.set(Xi(-o.y,o.y),Xi(-o.y,o.y)),this.distortion.set(Xi(0,1),Xi(0,1))):(f||r===Ou.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=Xi(-Math.PI,Math.PI),this.seeds.set(Xi(-o.x,o.x),Xi(-o.x,o.x)),this.distortion.set(Xi(0,1),Xi(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===Rm&&t.dispose()}},mse=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,x4=new J,FT=new ht,gse=class extends Si{constructor(t,e,{blendFunction:n=Ut.SCREEN,samples:r=60,density:i=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=Gh.SMALL,resolutionScale:f=.5,width:d=Cn.AUTO_SIZE,height:m=Cn.AUTO_SIZE,resolutionX:g=d,resolutionY:v=m}={}){super("GodRaysEffect",mse,{blendFunction:n,attributes:Ao.DEPTH,uniforms:new Map([["map",new de(null)]])}),this.camera=t,this._lightSource=e,this.lightSource=e,this.lightScene=new Xa,this.screenPosition=new ve,this.renderTargetA=new $t(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new $t(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new N0,this.renderPassLight=new Hh(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new et(0),this.clearPass=new l3(!0,!1,!1),this.clearPass.overrideClearColor=new et(0),this.blurPass=new Bv({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new po(new CL);const y=this.depthMaskMaterial;y.depthBuffer1=this.renderTargetLight.depthTexture,y.copyCameraSettings(t),this.godRaysPass=new po(new Yre(this.screenPosition));const w=this.godRaysMaterial;w.density=i,w.decay=s,w.weight=o,w.exposure=a,w.maxIntensity=l,w.samples=r;const S=this.resolution=new Cn(this,g,v,f);S.addEventListener("change",x=>this.setSize(S.baseWidth,S.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}get lightSource(){return this._lightSource}set lightSource(t){this._lightSource=t,t!==null&&(t.material.depthWrite=!1,t.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=Yr){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const r=this.lightSource,i=r.parent,s=r.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),i!==null&&(s||FT.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),r.material.depthWrite=!1,r.matrixAutoUpdate=s,i!==null&&(s||r.matrix.copy(FT),i.add(r)),x4.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((x4.x+1)*.5,-1),2),Math.min(Math.max((x4.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,Ya(t)===Tn&&(kr(this.renderTargetA.texture,Tn),kr(this.renderTargetB.texture,Tn),kr(this.renderTargetLight.texture,Tn)))}},vse="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",yse=class extends Si{constructor({blendFunction:t=Ut.OVERLAY,scale:e=1,lineWidth:n=0}={}){super("GridEffect",vse,{blendFunction:t,uniforms:new Map([["scale",new de(new ve)],["lineWidth",new de(n)]])}),this.resolution=new ve,this.s=0,this.scale=e,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(t){this.s=Math.max(t,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(t){this.scale=t}get lineWidth(){return this.l}set lineWidth(t){this.l=t,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(t){this.lineWidth=t}setSize(t,e){this.resolution.set(t,e);const n=t/e,r=this.scale*(e*.125);this.uniforms.get("scale").value.set(n*r,r),this.uniforms.get("lineWidth").value=r/e+this.lineWidth}},xse=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,Sse=class extends Si{constructor(t,{blendFunction:e=Ut.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=En,inputColorSpace:i}={}){super("LUT3DEffect",xse,{blendFunction:e,uniforms:new Map([["lut",new de(null)],["scale",new de(new J)],["offset",new de(new J)],["domainMin",new de(null)],["domainMax",new de(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=i||EL.get(r),this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const r=t.image,i=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Pn||t.type===Xn)&&e.set("LUT_PRECISION_HIGH","1"),r.width>r.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof tc&&e.set("LUT_3D","1"),t instanceof fse){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof tc)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),r.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=gt,t.magFilter=gt,this.tetrahedralInterpolation&&(t instanceof tc?(t.minFilter=Nt,t.magFilter=Nt):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},wse=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,_se="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",Mse=class extends Si{constructor(t,e,{blendFunction:n=Ut.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=Gh.VERY_SMALL,blur:c=!1,xRay:f=!0,multisampling:d=0,resolutionScale:m=.5,width:g=Cn.AUTO_SIZE,height:v=Cn.AUTO_SIZE,resolutionX:y=g,resolutionY:w=v}={}){super("OutlineEffect",wse,{uniforms:new Map([["maskTexture",new de(null)],["edgeTexture",new de(null)],["edgeStrength",new de(s)],["visibleEdgeColor",new de(new et(a))],["hiddenEdgeColor",new de(new et(l))],["pulse",new de(1)],["patternScale",new de(i)],["patternTexture",new de(null)]])}),this.blendMode.addEventListener("change",E=>{this.blendMode.blendFunction===Ut.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=f,this.scene=t,this.camera=e,this.renderTargetMask=new $t(1,1),this.renderTargetMask.samples=d,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new $t(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new l3,this.clearPass.overrideClearColor=new et(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new aS(t,e),this.maskPass=new Hh(t,e,new Ire(this.depthPass.texture,e));const S=this.maskPass.clearPass;S.overrideClearColor=new et(16777215),S.overrideClearAlpha=1,this.blurPass=new Bv({resolutionScale:m,resolutionX:y,resolutionY:w,kernelSize:u}),this.blurPass.enabled=c;const x=this.blurPass.resolution;x.addEventListener("change",E=>this.setSize(x.baseWidth,x.baseHeight)),this.outlinePass=new po(new tie);const M=this.outlinePass.fullscreenMaterial;M.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new lS,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){t!==null?(t.wrapS=t.wrapT=xi,this.defines.set("USE_PATTERN","1"),this.setVertexShader(_se)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,u=i.layers.mask;(this.forceUpdate||s.size>0)&&(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),i.layers.mask=u,r.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=s.size>0}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(t,e,n){this.blurPass.initialize(t,e,Gn),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}},Ase="uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",Ese=class extends Si{constructor(t=30){super("PixelationEffect",Ase,{uniforms:new Map([["active",new de(!1)],["d",new de(new qt)]])}),this.resolution=new ve,this._granularity=0,this.granularity=t}get granularity(){return this._granularity}set granularity(t){let e=Math.floor(t);e%2>0&&(e+=1),this._granularity=e,this.uniforms.get("active").value=e>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(t){this.granularity=t}setSize(t,e){const n=this.resolution;n.set(t,e);const r=this.granularity,i=r/n.x,s=r/n.y;this.uniforms.get("d").value.set(i,s,1/i,1/s)}},Tse=class extends DL{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|Ao.DEPTH),this.camera=e,this.depthPass=new aS(t,e),this.clearPass=new l3(!0,!1,!1),this.clearPass.overrideClearColor=new et(0),this.depthMaskPass=new po(new CL);const r=this.depthMaskMaterial;r.copyCameraSettings(e),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=Co,r.depthMode=s0,this.renderTargetMasked=new $t(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new lS,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?av:s0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?Pp.DISCARD_MAX_DEPTH:Pp.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=Yr){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const r=this.camera,i=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||i.size>0){const a=r.layers.mask;r.layers.set(i.layer),this.depthPass.render(t),r.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,Ya(t)===Tn&&kr(this.renderTargetMasked.texture,Tn))}},Cse=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,kT=64,bse=class extends Si{constructor(t,e,{blendFunction:n=Ut.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:f=.97,distanceFalloff:d=.03,rangeThreshold:m=5e-4,rangeFalloff:g=.001,minRadiusScale:v=.1,luminanceInfluence:y=.7,radius:w=.1825,intensity:S=1,bias:x=.025,fade:M=.01,color:E=null,resolutionScale:C=1,width:P=Cn.AUTO_SIZE,height:T=Cn.AUTO_SIZE,resolutionX:R=P,resolutionY:I=T}={}){super("SSAOEffect",Cse,{blendFunction:n,attributes:Ao.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new de(null)],["normalDepthBuffer",new de(s)],["luminanceInfluence",new de(y)],["color",new de(null)],["intensity",new de(S)],["scale",new de(0)]])}),this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const U=this.resolution=new Cn(this,R,I,C);U.addEventListener("change",D=>this.setSize(U.baseWidth,U.baseHeight)),this.camera=t,this.depthDownsamplingPass=new RL({normalBuffer:e,resolutionScale:C}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new po(new iie(t));const G=new e9(kT,kT,zn);G.wrapS=G.wrapT=xi;const j=this.ssaoMaterial;j.normalBuffer=e,j.noiseTexture=G,j.minRadiusScale=v,j.samples=r,j.radius=w,j.rings=i,j.fade=M,j.bias=x,j.distanceThreshold=f,j.distanceFalloff=d,j.proximityThreshold=m,j.proximityFalloff=g,a!==void 0&&(j.worldDistanceThreshold=a),l!==void 0&&(j.worldDistanceFalloff=l),u!==void 0&&(j.worldProximityThreshold=u),c!==void 0&&(j.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=E}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new et(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=Yr){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let r=this.uniforms.get("normalDepthBuffer").value;r===null&&(this.depthDownsamplingPass.initialize(t,e,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}},Pse=`#ifdef TEXTURE_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
varying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#ifdef UV_TRANSFORM
vec4 texel=texture2D(map,vUv2);
#else
vec4 texel=texture2D(map,uv);
#endif
outputColor=TEXEL;}`,Rse=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,Dse=class extends Si{constructor({blendFunction:t,texture:e=null,aspectCorrection:n=!1}={}){super("TextureEffect",Pse,{blendFunction:t,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new de(null)],["scale",new de(1)],["uvTransform",new de(null)]])}),this.texture=e,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(t){const e=this.texture,n=this.uniforms,r=this.defines;e!==t&&(n.get("map").value=t,n.get("uvTransform").value=t.matrix,r.delete("TEXTURE_PRECISION_HIGH"),t!==null&&(t.matrixAutoUpdate?(r.set("UV_TRANSFORM","1"),this.setVertexShader(Rse)):(r.delete("UV_TRANSFORM"),this.setVertexShader(null)),t.type!==Gn&&r.set("TEXTURE_PRECISION_HIGH","1"),(e===null||e.type!==t.type||e.encoding!==t.encoding)&&this.setChanged()))}getTexture(){return this.texture}setTexture(t){this.texture=t}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(t){this.aspectCorrection!==t&&(t?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const t=this.texture;return t!==null&&t.matrixAutoUpdate}set uvTransform(t){const e=this.texture;e!==null&&(e.matrixAutoUpdate=t)}setTextureSwizzleRGBA(t,e=t,n=t,r=t){const i="rgba";let s="";(t!==kf.RED||e!==kf.GREEN||n!==kf.BLUE||r!==kf.ALPHA)&&(s=[".",i[t],i[e],i[n],i[r]].join("")),this.defines.set("TEXEL","texel"+s),this.setChanged()}update(t,e,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};function Rp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bse(t,e){if(t){if(typeof t=="string")return t9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t9(t,e)}}function Ise(t){if(Array.isArray(t))return t9(t)}function Lse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(t){return Ise(t)||Lse(t)||Bse(t)||Fse()}new ve;new ve;function Use(t,e,n){return Math.max(e,Math.min(n,t))}function Nse(t,e){return Use(t-Math.floor(t/e)*e,0,e)}function Ose(t,e){var n=Nse(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function IL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Us=function t(e,n,r){var i=this;IL(this,t),Rp(this,"dot2",function(s,o){return i.x*s+i.y*o}),Rp(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},zse=[new Us(1,1,0),new Us(-1,1,0),new Us(1,-1,0),new Us(-1,-1,0),new Us(1,0,1),new Us(-1,0,1),new Us(1,0,-1),new Us(-1,0,-1),new Us(0,1,1),new Us(0,-1,1),new Us(0,1,-1),new Us(0,-1,-1)],UT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],NT=new Array(512),OT=new Array(512),Gse=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=UT[n]^e&255:r=UT[n]^e>>8&255,NT[n]=NT[n+256]=r,OT[n]=OT[n+256]=zse[r%12]}};Gse(0);function Hse(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function zT(t){var e=Hse(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Vse=function t(e){var n=this;IL(this,t),Rp(this,"seed",0),Rp(this,"init",function(r){n.seed=r,n.value=zT(r)}),Rp(this,"value",zT(this.seed)),this.init(e)};new Vse(Math.random());var Wse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},LL=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Ur(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:LL,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=t[e]-n,d=n,m=s*r;f=Math.min(Math.max(f,-m),m),n=t[e]-f;var g=(t.__damp[l]+u*f)*i;t.__damp[l]=(t.__damp[l]-u*g)*c;var v=n+(f+g)*c;return d-t[e]>0==v>d&&(v=d,t.__damp[l]=(v-d)/i),t[e]=v,!0}function Zf(t,e,n,r,i,s,o,a){return Ur(t,e,t[e]+Ose(t[e],n),r,i,s,o,a)}var Gd=new ve,GT,HT;function jse(t,e,n,r,i,s,o){return typeof e=="number"?Gd.setScalar(e):Array.isArray(e)?Gd.set(e[0],e[1]):Gd.copy(e),GT=Ur(t,"x",Gd.x,n,r,i,s,o),HT=Ur(t,"y",Gd.y,n,r,i,s,o),GT||HT}var ff=new J,VT,WT,jT;function n9(t,e,n,r,i,s,o){return typeof e=="number"?ff.setScalar(e):Array.isArray(e)?ff.set(e[0],e[1],e[2]):ff.copy(e),VT=Ur(t,"x",ff.x,n,r,i,s,o),WT=Ur(t,"y",ff.y,n,r,i,s,o),jT=Ur(t,"z",ff.z,n,r,i,s,o),VT||WT||jT}var Ru=new qt,XT,JT,YT,KT;function Xse(t,e,n,r,i,s,o){return typeof e=="number"?Ru.setScalar(e):Array.isArray(e)?Ru.set(e[0],e[1],e[2],e[3]):Ru.copy(e),XT=Ur(t,"x",Ru.x,n,r,i,s,o),JT=Ur(t,"y",Ru.y,n,r,i,s,o),YT=Ur(t,"z",Ru.z,n,r,i,s,o),KT=Ur(t,"w",Ru.w,n,r,i,s,o),XT||JT||YT||KT}var Hd=new Rh,ZT,QT,qT;function Jse(t,e,n,r,i,s,o){return Array.isArray(e)?Hd.set(e[0],e[1],e[2],e[3]):Hd.copy(e),ZT=Zf(t,"x",Hd.x,n,r,i,s,o),QT=Zf(t,"y",Hd.y,n,r,i,s,o),qT=Zf(t,"z",Hd.z,n,r,i,s,o),ZT||QT||qT}var hf=new et,$T,eC,tC;function Yse(t,e,n,r,i,s,o){return e instanceof et?hf.copy(e):Array.isArray(e)?hf.setRGB(e[0],e[1],e[2]):hf.set(e),$T=Ur(t,"r",hf.r,n,r,i,s,o),eC=Ur(t,"g",hf.g,n,r,i,s,o),tC=Ur(t,"b",hf.b,n,r,i,s,o),$T||eC||tC}var ao=new or,Ma=new qt,nC=new qt,Vd=new qt,rC,iC,sC,oC;function FL(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?ao.set(e[0],e[1],e[2],e[3]):ao.copy(e);var l=t.dot(ao)>0?1:-1;return ao.x*=l,ao.y*=l,ao.z*=l,ao.w*=l,rC=Ur(t,"x",ao.x,n,r,i,s,o),iC=Ur(t,"y",ao.y,n,r,i,s,o),sC=Ur(t,"z",ao.z,n,r,i,s,o),oC=Ur(t,"w",ao.w,n,r,i,s,o),Ma.set(t.x,t.y,t.z,t.w).normalize(),nC.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Vd.copy(Ma).multiplyScalar(nC.dot(Ma)/Ma.dot(Ma)),a.__damp.velocity_x-=Vd.x,a.__damp.velocity_y-=Vd.y,a.__damp.velocity_z-=Vd.z,a.__damp.velocity_w-=Vd.w,t.set(Ma.x,Ma.y,Ma.z,Ma.w),rC||iC||sC||oC}var Wd=new Sg,aC,lC,uC;function Kse(t,e,n,r,i,s,o){return Array.isArray(e)?Wd.set(e[0],e[1],e[2]):Wd.copy(e),aC=Ur(t,"radius",Wd.radius,n,r,i,s,o),lC=Zf(t,"phi",Wd.phi,n,r,i,s,o),uC=Zf(t,"theta",Wd.theta,n,r,i,s,o),aC||lC||uC}var Dm=new ht,cC=new J,fC=new or,hC=new J,dC,pC,mC;function Zse(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new J,rotation:new or,scale:new J},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Dm.set.apply(Dm,kse(e)):Dm.copy(e),Dm.decompose(cC,fC,hC),dC=n9(a.__damp.position,cC,n,r,i,s,o),pC=FL(a.__damp.rotation,fC,n,r,i,s,o),mC=n9(a.__damp.scale,hC,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),dC||pC||mC}var kL=Object.freeze({__proto__:null,rsqw:Wse,exp:LL,damp:Ur,dampAngle:Zf,damp2:jse,damp3:n9,damp4:Xse,dampE:Jse,dampC:Yse,dampQ:FL,dampS:Kse,dampM:Zse});const uS=z.createContext(null),qa=z.createContext(null),Qse=Rn.memo(z.forwardRef(({children:t,camera:e,scene:n,resolutionScale:r,enabled:i=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:u,multisampling:c=8,frameBufferType:f=Xn},d)=>{const{gl:m,scene:g,camera:v,size:y}=en(),w=n||g,S=e||v,[x,M,E]=z.useMemo(()=>{const R=Uee(),I=new _ie(m,{depthBuffer:a,stencilBuffer:u,multisampling:c>0&&R?c:0,frameBufferType:f});I.addPass(new Hh(w,S));let U=null,G=null;return l||(G=new xie(w,S),G.enabled=!1,I.addPass(G),r!==void 0&&R&&(U=new RL({normalBuffer:G.texture,resolutionScale:r}),U.enabled=!1,I.addPass(U))),[I,G,U]},[S,m,a,u,c,f,w,l,r]);z.useEffect(()=>x==null?void 0:x.setSize(y.width,y.height),[x,y]),$s((R,I)=>{if(i){const U=m.autoClear;m.autoClear=o,u&&!o&&m.clearStencil(),x.render(I),m.autoClear=U}},i?s:0);const C=z.useRef(null),P=e$(C);z.useLayoutEffect(()=>{const R=[];if(C.current&&P.current&&x){const I=P.current.objects;for(let U=0;U<I.length;U++){const G=I[U];if(G instanceof Si){const j=[];for(;I[U]instanceof Si;)j.push(I[U++]);U--;const D=new mie(S,...j);R.push(D)}else G instanceof Rr&&R.push(G)}for(const U of R)x==null||x.addPass(U);M&&(M.enabled=!0),E&&(E.enabled=!0)}return()=>{for(const I of R)x==null||x.removePass(I);M&&(M.enabled=!1),E&&(E.enabled=!1)}},[x,t,S,M,E,P]);const T=z.useMemo(()=>({composer:x,normalPass:M,downSamplingPass:E,resolutionScale:r,camera:S,scene:w}),[x,M,E,r,S,w]);return z.useImperativeHandle(d,()=>x,[x]),Oe(qa.Provider,{value:T,children:Oe("group",{ref:C,children:t})})})),Ll=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t;let qse=0;const gC=new WeakMap,$se=(t,e)=>Rn.forwardRef(function({blendFunction:r=e==null?void 0:e.blendFunction,opacity:i=e==null?void 0:e.opacity,...s},o){let a=gC.get(t);if(!a){const c=`@react-three/postprocessing/${t.name}-${qse++}`;Tv({[c]:t}),gC.set(t,a=c)}const l=en(c=>c.camera),u=Rn.useMemo(()=>{var c,f;return[...(c=e==null?void 0:e.args)!=null?c:[],...(f=s.args)!=null?f:[{...e,...s}]]},[JSON.stringify(s)]);return Oe(a,{camera:l,"blendMode-blendFunction":r,"blendMode-opacity-value":i,...s,ref:o,args:u})}),Bm=(t,e)=>{const n=t[e];return Rn.useMemo(()=>typeof n=="number"?new ve(n,n):n?new ve(...n):new ve,[n])},eoe=z.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:d,target:m,depthTexture:g,...v},y){const{camera:w}=z.useContext(qa),S=m!=null,x=z.useMemo(()=>{const M=new lse(w,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:d});S&&(M.target=new J),g&&M.setDepthTexture(g.texture,g.packing);const E=M.maskPass.getFullscreenMaterial();return E.maskFunction=sS.MULTIPLY_RGB_SET_ALPHA,M},[w,e,n,r,i,s,o,a,l,u,c,f,d,S,g]);return z.useEffect(()=>()=>{x.dispose()},[x]),Oe("primitive",{...v,ref:y,object:x,target:m})});z.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:r=!1,smoothTime:i=.25,...s},o)=>{const a=z.useRef(null),l=z.useRef(null),u=z.useRef(null),c=en(({scene:E})=>E),f=en(({pointer:E})=>E),{composer:d,camera:m}=z.useContext(qa),[g]=z.useState(()=>new die),[v]=z.useState(()=>new PL);z.useEffect(()=>(d.addPass(g),d.addPass(v),()=>{d.removePass(g),d.removePass(v)}),[d,g,v]),z.useEffect(()=>()=>{g.dispose(),v.dispose()},[g,v]);const[y]=z.useState(()=>new J(0,0,0)),[w]=z.useState(()=>new J(0,0,0)),S=z.useCallback(async(E,C)=>(w.x=E,w.y=C,w.z=await g.readDepth(w),w.z=w.z*2-1,1-w.z>1e-7?w.unproject(m):!1),[w,g,m]),x=z.useCallback(async(E,C=!0)=>{var P;if(t)y.set(...t);else{const{x:T,y:R}=e?f:{x:0,y:0},I=await S(T,R);I&&y.copy(I)}C&&((P=a.current)!=null&&P.target)&&(i>0&&E>0?kL.damp3(a.current.target,y,i,E):a.current.target.copy(y))},[t,y,e,S,i,f]);$s(async(E,C)=>{var P;r||x(C),l.current&&l.current.position.copy(y),u.current&&((P=a.current)!=null&&P.target)&&u.current.position.copy(a.current.target)});const M=z.useMemo(()=>({dofRef:a,hitpoint:y,update:x}),[y,x]);return z.useImperativeHandle(o,()=>M,[M]),hn(Qf,{children:[n?k7(hn(Qf,{children:[hn("mesh",{ref:l,children:[Oe("sphereGeometry",{args:[n,16,16]}),Oe("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),hn("mesh",{ref:u,children:[Oe("sphereGeometry",{args:[n/2,16,16]}),Oe("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),c):null,Oe(eoe,{ref:a,...s,target:y})]})});const toe={fragmentShader:`

  uniform float iTime;
  uniform vec2 lensPosition;
  uniform vec2 iResolution;
  uniform vec3 colorGain;
  uniform float starPoints;
  uniform float glareSize;
  uniform float flareSize;
  uniform float flareSpeed;
  uniform float flareShape;
  uniform float haloScale;
  uniform float opacity;
  uniform bool animated;
  uniform bool anamorphic;
  uniform bool enabled;
  uniform bool secondaryGhosts;
  uniform bool starBurst;
  uniform float ghostScale;
  uniform bool aditionalStreaks;
  uniform sampler2D lensDirtTexture;
  vec2 vxtC;

  float rndf(float n){return fract(sin(n) * 43758.5453123);}float niz(float p){float fl = floor(p);float fc = fract(p);return mix(rndf(fl),rndf(fl + 1.0), fc);}
  vec3 hsv2rgb(vec3 c){vec4 k = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + k.xyz) * 6.0 - k.www);return c.z * mix(k.xxx, clamp(p - k.xxx, 0.0, 1.0), c.y);}
  float satU(float x){return clamp(x, 0.,1.);}vec2 rtU(vec2 naz, float rtn){return vec2(cos(rtn) * naz.x + sin(rtn) * naz.y,cos(rtn) * naz.y - sin(rtn) * naz.x);}
  vec3 drwF(vec2 p, float intensity, float rnd, float speed, int id){float flhos = (1. / 32.) * float(id) * 0.1;float lingrad = distance(vec2(0.), p);float expg = 1. / exp(lingrad * (fract(rnd) * 0.66 + 0.33));vec3 qzTg = hsv2rgb(vec3( fract( (expg * 8.) + speed * flareSpeed + flhos), pow(1.-abs(expg*2.-1.), 0.45), 20.0 * expg * intensity));float internalStarPoints;if(anamorphic){internalStarPoints = 1.0;} else{internalStarPoints = starPoints;}float ams = length(p * flareShape * sin(internalStarPoints * atan(p.x, p.y)));float kJhg = pow(1.-satU(ams), ( anamorphic ? 100. : 12.));kJhg += satU(expg-0.9) * 3.;kJhg = pow(kJhg * expg, 8. + (1.-intensity) * 5.);if(flareSpeed > 0.0){return vec3(kJhg) * qzTg;} else{return vec3(kJhg) * flareSize * 15.;}}
  float ams2(vec3 a, vec3 b) { return abs(a.x - b.x) + abs(a.y - b.y) + abs(a.z - b.z);}vec3 satU(vec3 x){return clamp(x, vec3(0.0), vec3(1.0));}
  float glR(vec2 naz, vec2 pos, float zsi){vec2 mni;if(animated){mni = rtU(naz-pos, iTime * 0.1);} else{mni = naz-pos;}float ang = atan(mni.y, mni.x) * (anamorphic ? 1.0 : starPoints);float ams2 = length(mni);ams2 = pow(ams2, .9);float f0 = 1.0/(length(naz-pos)*(1.0/zsi*16.0)+.2);return f0+f0*(sin((ang))*.2 +.3);}
  float sdHex(vec2 p){p = abs(p);vec2 q = vec2(p.x*2.0*0.5773503, p.y + p.x*0.5773503);return dot(step(q.xy,q.yx), 1.0-q.yx);}float fpow(float x, float k){return x > k ? pow((x-k)/(1.0-k),2.0) : 0.0;}
  vec3 rHx(vec2 naz, vec2 p, float s, vec3 col){naz -= p;if (abs(naz.x) < 0.2*s && abs(naz.y) < 0.2*s){return mix(vec3(0),mix(vec3(0),col,0.1 + fpow(length(naz/s),0.1)*10.0),smoothstep(0.0,0.1,sdHex(naz*20.0/s)));}return vec3(0);}
  vec3 mLs(vec2 naz, vec2 pos){vec2 mni = naz-pos;vec2 zxMp = naz*(length(naz));float ang = atan(mni.x,mni.y);float f0 = .3/(length(naz-pos)*16.0+1.0);f0 = f0*(sin(niz(sin(ang*3.9-(animated ? iTime : 0.0) * 0.3) * starPoints))*.2 );float f1 = max(0.01-pow(length(naz+1.2*pos),1.9),.0)*7.0;float f2 = max(.9/(10.0+32.0*pow(length(zxMp+0.99*pos),2.0)),.0)*0.35;float f22 = max(.9/(11.0+32.0*pow(length(zxMp+0.85*pos),2.0)),.0)*0.23;float f23 = max(.9/(12.0+32.0*pow(length(zxMp+0.95*pos),2.0)),.0)*0.6;vec2 ztX = mix(naz,zxMp, 0.1);float f4 = max(0.01-pow(length(ztX+0.4*pos),2.9),.0)*4.02;float f42 = max(0.0-pow(length(ztX+0.45*pos),2.9),.0)*4.1;float f43 = max(0.01-pow(length(ztX+0.5*pos),2.9),.0)*4.6;ztX = mix(naz,zxMp,-.4);float f5 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;float f52 = max(0.01-pow(length(ztX+0.2*pos),5.5),.0)*2.0;float f53 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;ztX = mix(naz,zxMp, 2.1);float f6 = max(0.01-pow(length(ztX-0.3*pos),1.61),.0)*3.159;float f62 = max(0.01-pow(length(ztX-0.325*pos),1.614),.0)*3.14;float f63 = max(0.01-pow(length(ztX-0.389*pos),1.623),.0)*3.12;vec3 c = vec3(glR(naz,pos, glareSize));vec2 prot;if(animated){prot = rtU(naz - pos, (iTime * 0.1));} else if(anamorphic){prot = rtU(naz - pos, 1.570796);} else {prot = naz - pos;}c += drwF(prot, (anamorphic ? flareSize * 10. : flareSize), 0.1, iTime, 1);c.r+=f1+f2+f4+f5+f6; c.g+=f1+f22+f42+f52+f62; c.b+=f1+f23+f43+f53+f63;c = c*1.3 * vec3(length(zxMp)+.09);c+=vec3(f0);return c;}
  vec3 cc(vec3 clr, float fct,float fct2){float w = clr.x+clr.y+clr.z;return mix(clr,vec3(w)*fct,w*fct2);}float rnd(vec2 p){float f = fract(sin(dot(p, vec2(12.1234, 72.8392) )*45123.2));return f;}float rnd(float w){float f = fract(sin(w)*1000.);return f;}
  float rShp(vec2 p, int N){float f;float a=atan(p.x,p.y)+.2;float b=6.28319/float(N);f=smoothstep(.5,.51, cos(floor(.5+a/b)*b-a)*length(p.xy)* 2.0  -ghostScale);return f;}
  vec3 drC(vec2 p, float zsi, float dCy, vec3 clr, vec3 clr2, float ams2, vec2 esom){float l = length(p + esom*(ams2*2.))+zsi/2.;float l2 = length(p + esom*(ams2*4.))+zsi/3.;float c = max(0.01-pow(length(p + esom*ams2), zsi*ghostScale), 0.0)*10.;float c1 = max(0.001-pow(l-0.3, 1./40.)+sin(l*20.), 0.0)*3.;float c2 =  max(0.09/pow(length(p-esom*ams2/.5)*1., .95), 0.0)/20.;float s = max(0.02-pow(rShp(p*5. + esom*ams2*5. + dCy, 6) , 1.), 0.0)*1.5;clr = cos(vec3(0.44, .24, .2)*8. + ams2*4.)*0.5+.5;vec3 f = c*clr;f += c1*clr;f += c2*clr;f +=  s*clr;return f-0.01;}
  vec4 geLC(float x){return vec4(vec3(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(vec3(0., 0., 0.),vec3(0., 0., 0.), smoothstep(0.0, 0.063, x)),vec3(0., 0., 0.), smoothstep(0.063, 0.125, x)),vec3(0.0, 0., 0.), smoothstep(0.125, 0.188, x)),vec3(0.188, 0.131, 0.116), smoothstep(0.188, 0.227, x)),vec3(0.31, 0.204, 0.537), smoothstep(0.227, 0.251, x)),vec3(0.192, 0.106, 0.286), smoothstep(0.251, 0.314, x)),vec3(0.102, 0.008, 0.341), smoothstep(0.314, 0.392, x)),vec3(0.086, 0.0, 0.141), smoothstep(0.392, 0.502, x)),vec3(1.0, 0.31, 0.0), smoothstep(0.502, 0.604, x)),vec3(.1, 0.1, 0.1), smoothstep(0.604, 0.643, x)),vec3(1.0, 0.929, 0.0), smoothstep(0.643, 0.761, x)),vec3(1.0, 0.086, 0.424), smoothstep(0.761, 0.847, x)),vec3(1.0, 0.49, 0.0), smoothstep(0.847, 0.89, x)),vec3(0.945, 0.275, 0.475), smoothstep(0.89, 0.941, x)),vec3(0.251, 0.275, 0.796), smoothstep(0.941, 1.0, x))),1.0);}
  float diTN(vec2 p){vec2 f = fract(p);f = (f * f) * (3.0 - (2.0 * f));float n = dot(floor(p), vec2(1.0, 157.0));vec4 a = fract(sin(vec4(n + 0.0, n + 1.0, n + 157.0, n + 158.0)) * 43758.5453123);return mix(mix(a.x, a.y, f.x), mix(a.z, a.w, f.x), f.y);} 
  float fbm(vec2 p){const mat2 m = mat2(0.80, -0.60, 0.60, 0.80);float f = 0.0;f += 0.5000*diTN(p); p = m*p*2.02;f += 0.2500*diTN(p); p = m*p*2.03;f += 0.1250*diTN(p); p = m*p*2.01;f += 0.0625*diTN(p);return f/0.9375;} 
  vec4 geLS(vec2 p){vec2 pp = (p - vec2(0.5)) * 2.0;float a = atan(pp.y, pp.x);vec4 cp = vec4(sin(a * 1.0), length(pp), sin(a * 13.0), sin(a * 53.0));float d = sin(clamp(pow(length(vec2(0.5) - p) * 0.5 + haloScale /2., 5.0), 0.0, 1.0) * 3.14159);vec3 c = vec3(d) * vec3(fbm(cp.xy * 16.0) * fbm(cp.zw * 9.0) * max(max(max(max(0.5, sin(a * 1.0)), sin(a * 3.0) * 0.8), sin(a * 7.0) * 0.8), sin(a * 9.0) * 10.6));c *= vec3(mix(2.0, (sin(length(pp.xy) * 256.0) * 0.5) + 0.5, sin((clamp((length(pp.xy) - 0.875) / 0.1, 0.0, 1.0) + 0.0) * 2.0 * 3.14159) * 1.5) + 0.5) * 0.3275;return vec4(vec3(c * 1.0), d);}
  vec4 geLD(vec2 p){p.xy += vec2(fbm(p.yx * 3.0), fbm(p.yx * 2.0)) * 0.0825;vec3 o = vec3(mix(0.125, 0.25, max(max(smoothstep(0.1, 0.0, length(p - vec2(0.25))),smoothstep(0.4, 0.0, length(p - vec2(0.75)))),smoothstep(0.8, 0.0, length(p - vec2(0.875, 0.125))))));o += vec3(max(fbm(p * 1.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 2.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 4.0) - 0.5, 0.0)) * 0.25;o += vec3(max(fbm(p * 8.0) - 0.75, 0.0)) * 1.0;o += vec3(max(fbm(p * 16.0) - 0.75, 0.0)) * 0.75;o += vec3(max(fbm(p * 64.0) - 0.75, 0.0)) * 0.5;return vec4(clamp(o, vec3(0.15), vec3(1.0)), 1.0);}
  vec4 txL(sampler2D tex, vec2 xtC){if(((xtC.x < 0.) || (xtC.y < 0.)) || ((xtC.x > 1.) || (xtC.y > 1.))){return vec4(0.0);}else{return texture(tex, xtC); }}
  vec4 txD(sampler2D tex, vec2 xtC, vec2 dir, vec3 ditn) {return vec4(txL(tex, (xtC + (dir * ditn.r))).r,txL(tex, (xtC + (dir * ditn.g))).g,txL(tex, (xtC + (dir * ditn.b))).b,1.0);}
  vec4 strB(){vec2 aspXtc = vec2(1.0) - (((vxtC - vec2(0.5)) * vec2(1.0)) + vec2(0.5)); vec2 xtC = vec2(1.0) - vxtC; vec2 ghvc = (vec2(0.5) - xtC) * 0.3 - lensPosition; vec2 ghNm = normalize(ghvc * vec2(1.0)) * vec2(1.0);vec2 haloVec = normalize(ghvc) * 0.6;vec2 hlNm = ghNm * 0.6;vec2 texelSize = vec2(1.0) / vec2(iResolution.xy);vec3 ditn = vec3(-(texelSize.x * 1.5), 0.2, texelSize.x * 1.5);vec4 c = vec4(0.0);for (int i = 0; i < 8; i++) {vec2 offset = xtC + (ghvc * float(i));c += txD(lensDirtTexture, offset, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - offset) / length(vec2(0.5)))), 10.0);}vec2 uyTrz = xtC + hlNm; return (c * geLC((length(vec2(0.5) - aspXtc) / length(vec2(haloScale))))) +(txD(lensDirtTexture, uyTrz, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - uyTrz) / length(vec2(0.5)))), 10.0));} 
  void mainImage(vec4 v,vec2 r,out vec4 i){vec2 g=r-.5;g.y*=iResolution.y/iResolution.x;vec2 l=lensPosition*.5;l.y*=iResolution.y/iResolution.x;vec3 f=mLs(g,l)*20.*colorGain/256.;if(aditionalStreaks){vec3 o=vec3(.9,.2,.1),p=vec3(.3,.1,.9);for(float n=0.;n<10.;n++)f+=drC(g,pow(rnd(n*2e3)*2.8,.1)+1.41,0.,o+n,p+n,rnd(n*20.)*3.+.2-.5,lensPosition);}if(secondaryGhosts){vec3 n=vec3(0);n+=rHx(g,-lensPosition*.25,ghostScale*1.4,vec3(.25,.35,0));n+=rHx(g,lensPosition*.25,ghostScale*.5,vec3(1,.5,.5));n+=rHx(g,lensPosition*.1,ghostScale*1.6,vec3(1));n+=rHx(g,lensPosition*1.8,ghostScale*2.,vec3(0,.5,.75));n+=rHx(g,lensPosition*1.25,ghostScale*.8,vec3(1,1,.5));n+=rHx(g,-lensPosition*1.25,ghostScale*5.,vec3(.5,.5,.25));n+=fpow(1.-abs(distance(lensPosition*.8,g)-.7),.985)*colorGain/2100.;f+=n;}if(starBurst){vxtC=g+.5;vec4 n=geLD(g);float o=1.-clamp(0.5,0.,.5)*2.;n+=mix(n,pow(n*2.,vec4(2))*.5,o);float s=(g.x+g.y)*(1./6.);vec2 d=mat2(cos(s),-sin(s),sin(s),cos(s))*vxtC;n+=geLS(d)*2.;f+=clamp(n.xyz*strB().xyz,.01,1.);}i=enabled?vec4(mix(f,vec3(0),opacity)+v.xyz,v.w):vec4(v);}
`};class noe extends Si{constructor({blendFunction:e=Ut.NORMAL,enabled:n=!0,glareSize:r=.2,lensPosition:i=[.01,.01],iResolution:s=[0,0],starPoints:o=6,flareSize:a=.01,flareSpeed:l=.01,flareShape:u=.01,animated:c=!0,anamorphic:f=!1,colorGain:d=new et(20,20,20),lensDirtTexture:m=null,haloScale:g=.5,secondaryGhosts:v=!0,aditionalStreaks:y=!0,ghostScale:w=0,opacity:S=1,starBurst:x=!1}={}){super("LensFlareEffect",toe.fragmentShader,{blendFunction:e,uniforms:new Map([["enabled",new de(n)],["glareSize",new de(r)],["lensPosition",new de(i)],["iTime",new de(0)],["iResolution",new de(s)],["starPoints",new de(o)],["flareSize",new de(a)],["flareSpeed",new de(l)],["flareShape",new de(u)],["animated",new de(c)],["anamorphic",new de(f)],["colorGain",new de(d)],["lensDirtTexture",new de(m)],["haloScale",new de(g)],["secondaryGhosts",new de(v)],["aditionalStreaks",new de(y)],["ghostScale",new de(w)],["starBurst",new de(x)],["opacity",new de(S)]])})}update(e,n,r){const i=this.uniforms.get("iTime");i&&(i.value+=r)}}z.forwardRef(({position:t=new J(-25,6,-60),followMouse:e=!1,smoothTime:n=.07,...r},i)=>{const s=en(({viewport:m})=>m),o=en(({raycaster:m})=>m),a=en(({pointer:m})=>m),{scene:l,camera:u}=z.useContext(qa),[c]=z.useState(()=>new J),[f]=z.useState(()=>new ve),d=z.useMemo(()=>new noe(r),[r]);return $s((m,g)=>{var v,y,w;const S=d.uniforms.get("lensPosition"),x=d.uniforms.get("opacity");if(!S||!x)return;let M=1;if(e)S.value.x=a.x,S.value.y=a.y,M=0;else{if(c.copy(t).project(u),c.z>1)return;S.value.x=c.x,S.value.y=c.y,f.set(c.x,c.y),o.setFromCamera(f,u);const E=o.intersectObjects(l.children,!0),{object:C}=E[0];C&&(((v=C.userData)==null?void 0:v.lensflare)==="no-occlusion"?M=0:C instanceof Un&&(((w=(y=C.material.uniforms)==null?void 0:y._transmission)==null?void 0:w.value)>.2||C.material._transmission&&C.material._transmission>.2?M=.2:C.material.transparent&&(M=C.material.opacity)))}kL.damp(x,"value",M,n,g)}),z.useEffect(()=>{const m=d.uniforms.get("iResolution");m&&(m.value.x=s.width,m.value.y=s.height)},[d,s]),Oe("primitive",{ref:i,object:d,dispose:null})});const roe=$se(DL,{blendFunction:Ut.ADD});z.forwardRef(function({blendFunction:e=Ut.NORMAL},n){const r=z.useMemo(()=>new ose(e),[e]);return Oe("primitive",{ref:n,object:r,dispose:null})});z.forwardRef(function({active:e=!0,...n},r){const i=en(c=>c.invalidate),s=Bm(n,"delay"),o=Bm(n,"duration"),a=Bm(n,"strength"),l=Bm(n,"chromaticAberrationOffset"),u=z.useMemo(()=>new pse({...n,delay:s,duration:o,strength:a,chromaticAberrationOffset:l}),[s,o,n,a,l]);return z.useLayoutEffect(()=>{u.mode=e?n.mode||Ou.SPORADIC:Ou.DISABLED,i()},[e,u,i,n.mode]),z.useEffect(()=>()=>{u.dispose()},[u]),Oe("primitive",{ref:r,object:u,dispose:null})});z.forwardRef(function(e,n){const{camera:r}=z.useContext(qa),i=z.useMemo(()=>new gse(r,Ll(e.sun),e),[r,e]);return z.useLayoutEffect(()=>void(i.lightSource=Ll(e.sun)),[i,e.sun]),Oe("primitive",{ref:n,object:i,dispose:null})});z.forwardRef(function({size:e,...n},r){const i=en(o=>o.invalidate),s=z.useMemo(()=>new yse(n),[n]);return z.useLayoutEffect(()=>{e&&s.setSize(e.width,e.height),i()},[s,e]),Oe("primitive",{ref:r,object:s,dispose:null})});z.forwardRef(function({selection:e=[],selectionLayer:n=10,blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:d,xRay:m,...g},v){const y=en(E=>E.invalidate),{scene:w,camera:S}=z.useContext(qa),x=z.useMemo(()=>new Mse(w,S,{blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:d,xRay:m,...g}),[r,d,S,s,c,l,f,i,o,w,a,u,m]),M=z.useContext(uS);return z.useEffect(()=>{if(!M&&e)return x.selection.set(Array.isArray(e)?e.map(Ll):[Ll(e)]),y(),()=>{x.selection.clear(),y()}},[x,e,M,y]),z.useEffect(()=>{x.selectionLayer=n,y()},[x,y,n]),z.useRef(),z.useEffect(()=>{var E;if(M&&M.enabled&&(E=M.selected)!=null&&E.length)return x.selection.set(M.selected),y(),()=>{x.selection.clear(),y()}},[M,x.selection,y]),Oe("primitive",{ref:v,object:x})});z.forwardRef(function({granularity:e=5},n){const r=z.useMemo(()=>new Ese(e),[e]);return Oe("primitive",{ref:n,object:r,dispose:null})});const ioe=(t,e)=>t.layers.enable(e.selection.layer),soe=(t,e)=>t.layers.disable(e.selection.layer);z.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f},d){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const m=en(S=>S.invalidate),{scene:g,camera:v}=z.useContext(qa),y=z.useMemo(()=>new Tse(g,v,{blendFunction:Ut.ADD,luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f}),[g,v,i,s,o,a,l,u,c,f]),w=z.useContext(uS);return z.useEffect(()=>{if(!w&&e)return y.selection.set(Array.isArray(e)?e.map(Ll):[Ll(e)]),m(),()=>{y.selection.clear(),m()}},[y,e,w,m]),z.useEffect(()=>{y.selection.layer=n,m()},[y,m,n]),z.useEffect(()=>{if(r&&r.length>0)return r.forEach(S=>ioe(Ll(S),y)),m(),()=>{r.forEach(S=>soe(Ll(S),y)),m()}},[y,m,r,n]),z.useEffect(()=>{var S;if(w&&w.enabled&&(S=w.selected)!=null&&S.length)return y.selection.set(w.selected),m(),()=>{y.selection.clear(),m()}},[w,y.selection,m]),Oe("primitive",{ref:d,object:y,dispose:null})});z.forwardRef(function(e,n){const{camera:r,normalPass:i,downSamplingPass:s,resolutionScale:o}=z.useContext(qa),a=z.useMemo(()=>i===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new bse(r,i&&!s?i.texture:null,{blendFunction:Ut.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[r,i,e]);return Oe("primitive",{ref:n,object:a,dispose:null})});z.forwardRef(function({textureSrc:e,texture:n,...r},i){const s=Ec(M7,e);z.useLayoutEffect(()=>{s.encoding=En,s.wrapS=s.wrapT=xi},[s]);const o=z.useMemo(()=>new Dse({...r,texture:s||n}),[r,s,n]);return Oe("primitive",{ref:i,object:o,dispose:null})});z.forwardRef(function({lut:e,tetrahedralInterpolation:n,...r},i){const s=z.useMemo(()=>new Sse(e,r),[e,r]),o=en(a=>a.invalidate);return z.useLayoutEffect(()=>{n&&(s.tetrahedralInterpolation=n),e&&(s.lut=e),o()},[s,o,e,n]),Oe("primitive",{ref:i,object:s,dispose:null})});const ooe=`
uniform sampler2D uCharacters;
uniform float uCharactersCount;
uniform float uCellSize;
uniform bool uInvert;
uniform vec3 uColor;

const vec2 SIZE = vec2(16.);

vec3 greyscale(vec3 color, float strength) {
    float g = dot(color, vec3(0.299, 0.587, 0.114));
    return mix(color, vec3(g), strength);
}

vec3 greyscale(vec3 color) {
    return greyscale(color, 1.0);
}

void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {
    vec2 cell = resolution / uCellSize;
    vec2 grid = 1.0 / cell;
    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));
    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);
    float greyscaled = greyscale(pixelized.rgb).r;

    if (uInvert) {
        greyscaled = 1.0 - greyscaled;
    }

    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);
    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));
    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;
    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;
    vec4 asciiCharacter = texture2D(uCharacters, charUV);

    asciiCharacter.rgb = uColor * asciiCharacter.r;
    asciiCharacter.a = pixelized.a;
    outputColor = asciiCharacter;
}
`;class aoe extends Si{constructor({characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:n=54,cellSize:r=16,color:i="#ffffff",invert:s=!1}={}){const o=new Map([["uCharacters",new de(new bn)],["uCellSize",new de(r)],["uCharactersCount",new de(e.length)],["uColor",new de(new et(i))],["uInvert",new de(s)]]);super("ASCIIEffect",ooe,{uniforms:o});const a=this.uniforms.get("uCharacters");a&&(a.value=this.createCharactersTexture(e,n))}createCharactersTexture(e,n){const r=document.createElement("canvas"),i=1024,s=16,o=i/s;r.width=r.height=i;const a=new xB(r,void 0,xi,xi,Nt,Nt),l=r.getContext("2d");if(!l)throw new Error("Context not available");l.clearRect(0,0,i,i),l.font=`${n}px arial`,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(let u=0;u<e.length;u++){const c=e[u],f=u%s,d=Math.floor(u/s);l.fillText(c,f*o+o/2,d*o+o/2)}return a.needsUpdate=!0,a}}z.forwardRef(({characters:t=" .:,'-^=*+?!|0#X%WM@",fontSize:e=54,cellSize:n=16,color:r="#ffffff",invert:i=!1},s)=>{const o=z.useMemo(()=>new aoe({characters:t,fontSize:e,cellSize:n,color:r,invert:i}),[t,e,n,r,i]);return Oe("primitive",{ref:s,object:o})});var loe=`#define GLSLIFY 1
uniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}`,uoe=`#define GLSLIFY 1
#define MODE_DEFAULT 0
#define MODE_REFLECTIONS 1
#define MODE_RAW_REFLECTION 2
#define MODE_BLURRED_REFLECTIONS 3
#define MODE_INPUT 4
#define MODE_BLUR_MIX 5
#define FLOAT_EPSILON 0.00001
uniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;
#include <boxBlur>
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}
#if RENDER_MODE == MODE_DEFAULT
outputColor=vec4(inputColor.rgb+reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_REFLECTIONS
outputColor=vec4(reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_RAW_REFLECTION
outputColor=vec4(reflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLURRED_REFLECTIONS
outputColor=vec4(blurredReflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_INPUT
outputColor=vec4(inputColor.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLUR_MIX
outputColor=vec4(vec3(blur),1.0);
#endif
}`,UL=`#define GLSLIFY 1
vec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}
#define Scale (vec3(0.8, 0.8, 0.8))
#define K (19.19)
vec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}`,coe=`#define GLSLIFY 1
#define INV_EULER 0.36787944117144233
alpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;
#ifdef boxBlur
if(needsBlur)inputColor=boxBlurredColor;
#endif
if(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}`;class foe extends Ht{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new de(1),normalMap:new de(null),normalScale:new de(new ve(1,1)),uvTransform:new de(new Fr),roughness:new de(1),roughnessMap:new de(null)},vertexShader:`
                #ifdef USE_MRT
                 varying vec2 vHighPrecisionZW;
                #endif
                #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <common>
                #include <uv_pars_vertex>
                #include <displacementmap_pars_vertex>
                #include <normal_pars_vertex>
                #include <morphtarget_pars_vertex>
                #include <skinning_pars_vertex>
                #include <logdepthbuf_pars_vertex>
                #include <clipping_planes_pars_vertex>
                #ifdef USE_UV
                  ${qs.replace(/\D+/g,"")>=151?"uniform mat3 uvTransform;":""}
                #endif
                void main() {
                    #include <uv_vertex>
                    #include <beginnormal_vertex>
                    #include <morphnormal_vertex>
                    #include <skinbase_vertex>
                    #include <skinnormal_vertex>
                    #include <defaultnormal_vertex>
                    #include <normal_vertex>
                    #include <begin_vertex>
                    #include <morphtarget_vertex>
                    #include <skinning_vertex>
                    #include <displacementmap_vertex>
                    #include <project_vertex>
                    #include <logdepthbuf_vertex>
                    #include <clipping_planes_vertex>
                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                        vViewPosition = - mvPosition.xyz;
                    #endif
                    #ifdef USE_MRT
                        vHighPrecisionZW = gl_Position.zw;
                    #endif
                    #ifdef USE_UV
                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
                    #endif
                }
            `,fragmentShader:`
                 #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <packing>
                #include <uv_pars_fragment>
                #include <normal_pars_fragment>
                #include <bumpmap_pars_fragment>
                #include <normalmap_pars_fragment>
                #include <logdepthbuf_pars_fragment>
                #include <clipping_planes_pars_fragment>
                #include <roughnessmap_pars_fragment>

                #ifdef USE_MRT
                layout(location = 0) out vec4 gNormal;
                layout(location = 1) out vec4 gDepth;

                varying vec2 vHighPrecisionZW;
                #endif
                uniform float roughness;
                void main() {
                    #include <clipping_planes_fragment>
                    #include <logdepthbuf_fragment>
                    #include <normal_fragment_begin>
                    #include <normal_fragment_maps>

                    float roughnessFactor = roughness;

                    if(roughness > 10.0e9){
                        roughnessFactor = 1.;
                    }else{
                        #ifdef useRoughnessMap
                            vec4 texelRoughness = texture2D( roughnessMap, vUv );
                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
                            roughnessFactor *= texelRoughness.g;
                        #endif
                    }

                    vec3 normalColor = packNormalToRGB( normal );
                    #ifdef USE_MRT
                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
                        vec4 depthColor = packDepthToRGBA( fragCoordZ );
                        gNormal = vec4( normalColor, roughnessFactor );
                        gDepth = depthColor;
                    #else
                        gl_FragColor = vec4(normalColor, roughnessFactor);
                    #endif
                }
            `,toneMapped:!1}),this.normalMapType=Za,this.normalScale=new ve(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?gg:null},set(e){}})}}var hoe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,doe=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;
#define INVALID_RAY_COORDS vec2(-1.0);
#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)
#define FLOAT_EPSILON 0.00001
float nearMinusFar;float nearMulFar;float farMinusNear;
#include <packing>
#include <helperFunctions>
vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;
#ifndef missedRays
if(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}
#endif
depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){
#if refineSteps == 0
if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;
#else
return BinarySearch(dir,hitPos,rayHitDepthDifference);
#endif
}
#ifndef missedRays
if(hitPos.z>0.0){return INVALID_RAY_COORDS;}
#endif
lastProjectedCoord=projectedCoord;}hitPos.z=1.0;
#ifndef missedRays
return INVALID_RAY_COORDS;
#endif
rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return nearMulFar/(farMinusNear*depth-cameraFar);
#else
return depth*nearMinusFar-cameraNear;
#endif
}
#include <common>
#include <cube_uv_reflection_fragment>
vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){
#if defined(ENVMAP_TYPE_CUBE_UV)
vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;
#else
return vec3(0.0);
#endif
}`;class poe extends Ht{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new de(null),accumulatedTexture:new de(null),normalTexture:new de(null),depthTexture:new de(null),_projectionMatrix:new de(new ht),_inverseProjectionMatrix:new de(new ht),cameraMatrixWorld:new de(new ht),cameraNear:new de(0),cameraFar:new de(0),rayDistance:new de(0),intensity:new de(0),roughnessFade:new de(0),fade:new de(0),thickness:new de(0),ior:new de(0),maxDepthDifference:new de(0),jitter:new de(0),jitterRoughness:new de(0),maxRoughness:new de(0),samples:new de(0),envMap:new de(null),envMapPosition:new de(new J),envMapSize:new de(new J),viewMatrix:new de(new ht)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:doe.replace("#include <helperFunctions>",UL),vertexShader:hoe,toneMapped:!1,depthWrite:!1,depthTest:!1})}}const NL=t=>{const e=[t],n=[];for(;e.length!==0;){const r=e.shift();r.material&&n.push(r);for(const i of r.children)i.visible&&e.push(i)}return n},moe=t=>{const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}},vC=(t,e,n)=>{t.uniforms.envMap.value=e;const r=moe({envMapCubeUVHeight:n});t.defines.ENVMAP_TYPE_CUBE_UV="",t.defines.CUBEUV_TEXEL_WIDTH=r.texelWidth,t.defines.CUBEUV_TEXEL_HEIGHT=r.texelHeight,t.defines.CUBEUV_MAX_MIP=r.maxMip+".0",t.needsUpdate=!0},goe=()=>{try{const t=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&t.getContext("webgl2"))}catch{return!1}};class voe extends Rr{constructor(e,n={}){super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new poe,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const r=n.width||typeof window<"u"?window.innerWidth:2e3,i=n.height||typeof window<"u"?window.innerHeight:1e3;this.renderTarget=new $t(r,i,{minFilter:gt,magFilter:gt,type:Xn,depthBuffer:!1}),this.renderPass=new Hh(this._scene,this._camera),this.USE_MRT=goe(),this.USE_MRT?(this.gBuffersRenderTarget=new Qx(r,i,2,{minFilter:gt,magFilter:gt}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new aS(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=gt,this.webgl1DepthPass.renderTarget.magFilter=gt,this.webgl1DepthPass.renderTarget.texture.minFilter=gt,this.webgl1DepthPass.renderTarget.texture.magFilter=gt,this.webgl1DepthPass.setSize(typeof window<"u"?window.innerWidth:2e3,typeof window<"u"?window.innerHeight:1e3),this.gBuffersRenderTarget=new $t(r,i,{minFilter:gt,magFilter:gt}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,n){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,n,r,i){this.ssrEffect[i]?n[r]!==e[r]&&(e[r]=n[r],e.uniforms[r].value=n[r],n[r]?e.defines[i]="":delete e.defines[i],e.needsUpdate=!0):e[r]!==void 0&&(e[r]=void 0,e.uniforms[r].value=void 0,delete e.defines[i],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=NL(this._scene);for(const e of this.visibleMeshes)if(e.material){const n=e.material;let[r,i]=this.cachedMaterials.get(e)||[];if(n!==r){i&&i.dispose(),i=new foe,this.USE_MRT&&(i.defines.USE_MRT=""),i.normalScale=n.normalScale,i.uniforms.normalScale.value=n.normalScale;const s=n.map||n.normalMap||n.roughnessMap||n.metalnessMap;s&&(i.uniforms.uvTransform.value=s.matrix),this.cachedMaterials.set(e,[n,i])}this.keepMaterialMapUpdated(i,n,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(i,n,"roughnessMap","useRoughnessMap"),i.uniforms.roughness.value=this.ssrEffect.selection.size===0||this.ssrEffect.selection.has(e)?n.roughness||0:1e11,e.material=i}}unsetMRTMaterialInScene(){for(const n of this.visibleMeshes){var e;if(((e=n.material)==null?void 0:e.type)==="MRTMaterial"){n.visible=!0;const[r]=this.cachedMaterials.get(n);n.material=r}}}render(e,n){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=n.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const yC={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};var yoe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,xoe=`#define GLSLIFY 1
uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;
#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001
#define FLOAT_EPSILON 0.00001
#define FLOAT_ONE_MINUS_EPSILON 0.99999
vec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;
#ifdef boxBlur
vec3 boxBlurredColor=inputTexel.rgb;
#endif
vec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);
#ifdef dilation
if(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}
#endif
if(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){
#ifdef boxBlur
if(absX<=2&&absY<=2)boxBlurredColor+=col;
#endif
col=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;
#ifdef boxBlur
float pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);
#endif
if(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{
#ifdef boxBlur
accumulatedColor=boxBlurredColor;
#else
accumulatedColor=inputColor;
#endif
}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;
#include <custom_compose_shader>
gl_FragColor=vec4(undoColorTransform(outputColor),alpha);}`;class Soe extends Ht{constructor(e){const n=xoe.replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new de(null),accumulatedTexture:new de(null),velocityTexture:new de(null),lastVelocityTexture:new de(null),samples:new de(1),blend:new de(.5),correction:new de(1),exponent:new de(1),invTexSize:new de(new ve)},defines:{correctionRadius:1},vertexShader:yoe,fragmentShader:n})}}const woe=`
    #ifdef USE_SKINNING
      #ifdef BONE_TEXTURE
        uniform sampler2D prevBoneTexture;
        mat4 getPrevBoneMatrix( const in float i ) {
          float j = i * 4.0;
          float x = mod( j, float( boneTextureSize ) );
          float y = floor( j / float( boneTextureSize ) );
          float dx = 1.0 / float( boneTextureSize );
          float dy = 1.0 / float( boneTextureSize );
          y = dy * ( y + 0.5 );
          vec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );
          vec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );
          vec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );
          vec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );
          mat4 bone = mat4( v1, v2, v3, v4 );
          return bone;
        }
      #else
        uniform mat4 prevBoneMatrices[ MAX_BONES ];
        mat4 getPrevBoneMatrix( const in float i ) {
          mat4 bone = prevBoneMatrices[ int(i) ];
          return bone;
        }
      #endif
    #endif
`,_oe=`
    vec3 transformed;

    // Get the normal
    ${bt.skinbase_vertex}
    ${bt.beginnormal_vertex}
    ${bt.skinnormal_vertex}
    ${bt.defaultnormal_vertex}

    // Get the current vertex position
    transformed = vec3( position );
    ${bt.skinning_vertex}
    newPosition = velocityMatrix * vec4( transformed, 1.0 );

    // Get the previous vertex position
    transformed = vec3( position );
    ${bt.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}
    ${bt.skinning_vertex.replace(/vec4 /g,"")}
    prevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );

    gl_Position = newPosition;
`;class Moe extends Ht{constructor(){super({uniforms:{prevVelocityMatrix:{value:new ht},velocityMatrix:{value:new ht},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`
                    #define MAX_BONES 1024

                    ${bt.skinning_pars_vertex}
                    ${woe}

                    uniform mat4 velocityMatrix;
                    uniform mat4 prevVelocityMatrix;
                    uniform float interpolateGeometry;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {

                        ${_oe}

            vHighPrecisionZW = gl_Position.zw;

                    }`,fragmentShader:`
                    uniform float intensity;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {
            #ifdef FULL_MOVEMENT
            gl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );
            return;
            #endif

                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;
                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;

                        vec2 vel = pos1 - pos0;

            float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;

                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );

                    }`}),this.isVelocityMaterial=!0}}const Aoe=new et(0),Eoe=["visible","wireframe","side"];class Toe extends Rr{constructor(e,n){var r,i;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new J,quaternion:new or},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=n,this.renderTarget=new $t(((r=window)==null?void 0:r.innerWidth)||1e3,((i=window)==null?void 0:i.innerHeight)||1e3,{type:Xn})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=NL(this._scene);for(const r of this.visibleMeshes){var e;const i=r.material;let[s,o]=this.cachedMaterials.get(r)||[];if(i!==s){var n;o=new Moe,o.lastMatrixWorld=new ht,r.material=o,(n=r.skeleton)!=null&&n.boneTexture&&this.saveBoneTexture(r),this.cachedMaterials.set(r,[i,o])}if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,r.modelViewMatrix),r.userData.needsUpdatedReflections||i.map instanceof yB?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),r.visible=this.cameraMovedThisFrame||!r.matrixWorld.equals(o.lastMatrixWorld)||r.skeleton||"FULL_MOVEMENT"in o.defines,r.material=o,!!r.visible){this.renderedMeshesThisFrame++;for(const a of Eoe)o[a]=i[a];(e=r.skeleton)!=null&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=r.skeleton.boneTexture)}}}saveBoneTexture(e){let n=e.material.uniforms.prevBoneTexture.value;if(n&&n.image.width===e.skeleton.boneTexture.width)n=e.material.uniforms.prevBoneTexture.value,n.image.data.set(e.skeleton.boneTexture.image.data);else{var r;(r=n)==null||r.dispose();const i=e.skeleton.boneTexture.image.data.slice(),s=e.skeleton.boneTexture.image.width;n=new qo(i,s,s,zn,Pn),e.material.uniforms.prevBoneTexture.value=n,n.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const n of this.visibleMeshes)if(n.material.isVelocityMaterial){var e;n.visible=!0,n.material.lastMatrixWorld.copy(n.matrixWorld),n.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),(e=n.skeleton)!=null&&e.boneTexture&&this.saveBoneTexture(n),n.material=this.cachedMaterials.get(n)[0]}}setSize(e,n){this.renderTarget.setSize(e,n)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:n}=this._scene;this._scene.background=Aoe,e.render(this._scene,this._camera),this._scene.background=n}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return e>1e-6||n>1e-6?(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0):!1}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const xC=new ve;class Coe extends Rr{constructor(e,n,r,i={}){super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new J,quaternion:new or},this._scene=e,this._camera=n,this.renderTarget=new $t(1,1,{minFilter:gt,magFilter:gt,type:Xn,depthBuffer:!1}),this.velocityPass=new Toe(e,n),this.fullscreenMaterial=new Soe(r),this.fullscreenMaterial.defines.correctionRadius=i.correctionRadius||1,i.dilation&&(this.fullscreenMaterial.defines.dilation=""),i.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,n){this.renderTarget.setSize(e,n),this.velocityPass.setSize(e*this.velocityResolutionScale,n*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=this.velocityResolutionScale===1?Nt:gt,this.velocityPass.renderTarget.texture.magFilter=this.velocityResolutionScale===1?Nt:gt,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/n),this.setupFramebuffers(e,n)}setupFramebuffers(e,n){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new Py(e,n,zn),this.accumulatedTexture.minFilter=gt,this.accumulatedTexture.magFilter=gt,this.accumulatedTexture.type=Xn,this.lastVelocityTexture=new Py(e*this.velocityResolutionScale,n*this.velocityResolutionScale,zn),this.lastVelocityTexture.minFilter=this.velocityResolutionScale===1?Nt:gt,this.lastVelocityTexture.magFilter=this.velocityResolutionScale===1?Nt:gt,this.lastVelocityTexture.type=Xn,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||n>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(xC,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(xC,this.lastVelocityTexture)}}const SC=function(e,n){let r=1,i=0;for(;e>0;)r/=n,i+=r*(e%n),e=~~(e/n);return i},boe=t=>{const e=[];let n=1;const r=n+t;for(;n<r;n++)e.push([SC(n,2)-.5,SC(n,3)-.5]);return e};function wC(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Poe=`
#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )
    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

    #ifdef BOX_PROJECTED_ENV_MAP
        vWorldPosition = worldPosition.xyz;
    #endif
#endif
`,Roe=`
#ifdef BOX_PROJECTED_ENV_MAP
    uniform vec3 envMapSize;
    uniform vec3 envMapPosition;
    varying vec3 vWorldPosition;

    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
        vec3 nDir = normalize( v );

        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;

        vec3 rbminmax;

        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;

        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
        vec3 boxIntersection = vWorldPosition + nDir * correction;

        return boxIntersection - cubePos;
    }
#endif
`,Doe=`
#ifdef BOX_PROJECTED_ENV_MAP
    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,Boe=`
#ifdef BOX_PROJECTED_ENV_MAP
    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function Ioe(t,e,n){t.defines.BOX_PROJECTED_ENV_MAP="",t.uniforms.envMapPosition={value:e},t.uniforms.envMapSize={value:n};const r=new RegExp(wC("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),i=new RegExp(wC("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");t.vertexShader=`varying vec3 vWorldPosition;
`+t.vertexShader.replace("#include <worldpos_vertex>",Poe),t.fragmentShader=Roe+`
`+t.fragmentShader.replace("#include <envmap_physical_pars_fragment>",bt.envmap_physical_pars_fragment).replace(r,`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
                ${Doe}`).replace(i,`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
                ${Boe}`)}const Loe=uoe.replace("#include <helperFunctions>",UL).replace("#include <boxBlur>",loe),Foe=["blur","blurSharpness","blurKernel"],koe=new U0(1);let Im;class Uoe extends Si{constructor(e,n,r=yC){super("SSREffect",Loe,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new de(null)],["blur",new de(0)],["blurSharpness",new de(0)],["blurKernel",new de(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=boe(1024),this.haltonIndex=0,this.selection=new lS,this.lastSize=void 0,this.cubeCamera=new e7(.001,1e3,koe),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=n,r={...yC,...r,...{boxBlur:!0,dilation:!0}},this.temporalResolvePass=new Coe(e,n,coe,r),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new voe(this,r),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:r.width,height:r.height,resolutionScale:r.resolutionScale,velocityResolutionScale:r.velocityResolutionScale},this.setSize(r.width,r.height),this.makeOptionsReactive(r)}makeOptionsReactive(e){let n=!1;const r=this.reflectionsPass.fullscreenMaterial.uniforms,i=Object.keys(r);for(const s of Object.keys(e))Object.defineProperty(this,s,{get(){return e[s]},set(o){if(!(e[s]===o&&n))switch(e[s]=o,Foe.includes(s)||this.setSize(this.lastSize.width,this.lastSize.height,!0),s){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=n;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":r.rayDistance.value=o;default:i.includes(s)&&(r[s].value=o)}}}),this[s]=e[s];n=!0}setSize(e,n,r=!1){!r&&e===this.lastSize.width&&n===this.lastSize.height&&this.resolutionScale===this.lastSize.resolutionScale&&this.velocityResolutionScale===this.lastSize.velocityResolutionScale||(this.temporalResolvePass.setSize(e,n),this.reflectionsPass.setSize(e,n),this.lastSize={width:e,height:n,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e,n=new J,r=new J,i=512){this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new U0(i),this.cubeCamera.position.copy(n),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),Im||(Im=new yg(e),Im.compileCubemapShader());const s=Im.fromCubemap(this.cubeCamera.renderTarget.texture).texture;s.minFilter=gt,s.magFilter=gt;const o=this.reflectionsPass.fullscreenMaterial;return Ioe(o,n,r),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(n),o.uniforms.envMapSize.value.copy(r),vC(o,s,i),this.usingBoxProjectedEnvMap=!0,s}setIBLRadiance(e,n){this._scene.traverse(r=>{if(r.material){var i;const s=(i=n.properties.get(r.material))==null?void 0:i.uniforms;s&&"disableIBLRadiance"in s&&(s.disableIBLRadiance.value=e)}})}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,n){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const a=this.reflectionsPass.fullscreenMaterial;let l=null;if(this._scene.traverse(u=>{if(!l&&u.material&&!u.material.envMap){const c=e.properties.get(u.material);"envMap"in c&&c.envMap instanceof bn&&(l=c.envMap)}}),l){const u=this._scene.environment.image.height;vC(a,l,u)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[r,i]=this.haltonSequence[this.haltonIndex],{width:s,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(s,o,r,i,s,o),this.reflectionsPass.render(e,n),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(e=0){e===0?bt.envmap_physical_pars_fragment=bt.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):bt.envmap_physical_pars_fragment=bt.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}z.forwardRef(function({ENABLE_BLUR:e=!0,USE_MRT:n=!0,...r},i){const{invalidate:s}=en(),{scene:o,camera:a}=z.useContext(qa),l=z.useMemo(()=>new Uoe(o,a,{ENABLE_BLUR:e,USE_MRT:n,...r}),[o,a,e,n,r]),u=z.useContext(uS);return z.useEffect(()=>{var c;if(u&&u.enabled&&(c=u.selected)!=null&&c.length)return l.selection.set(u.selected),s(),()=>{l.selection.clear(),s()}},[u]),Oe("primitive",{ref:i,object:l,...r})});const u3=new Vt;u3.setAttribute("position",new ln(new Float32Array([-1,-1,3,-1,-1,3]),2));u3.setAttribute("uv",new ln(new Float32Array([0,0,2,0,0,2]),2));u3.boundingSphere=new Cs;u3.computeBoundingSphere=function(){};const Noe=new xo;class jd{constructor(e){this._mesh=new Un(u3,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,Noe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const Ooe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projViewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new J},resolution:{value:new ve},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform highp sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},zoe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new J},resolution:{value:new ve},color:{value:new J(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1},fog:{value:!1},fogExp:{value:!1},fogDensity:{value:0},fogNear:{value:1/0},fogFar:{value:1/0},colorMultiply:{value:!0}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform highp sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform bool fog;
    uniform bool fogExp;
    uniform bool colorMultiply;
    uniform float fogDensity;
    uniform float fogNear;
    uniform float fogFar;
    uniform float radius;
    uniform float distanceFalloff;
    uniform vec3 cameraPos;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        #ifdef HALFRES 
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        float fogFactor;
        float fogDepth = distance(
            cameraPos,
            getWorldPos(depth, vUv)
        );
        if (fog) {
            if (fogExp) {
                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
            } else {
                fogFactor = smoothstep( fogNear, fogFar, fogDepth );
            }
        }
        finalAo = mix(finalAo, 1.0, fogFactor);
        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},Goe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new J},resolution:{value:new ve},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        if (d == 1.0) {
          gl_FragColor = data;
          return;
        }
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},Hoe={uniforms:{sceneDepth:{value:null},resolution:{value:new ve},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new ht},projectionMatrixInv:{value:new ht},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform highp sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var OL="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";const Voe=Uint8Array.from(atob(OL),t=>t.charCodeAt(0));function zL(t,e,n){if(e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(t,e.QUERY_RESULT)/1e6;n.lastTime=s}else setTimeout(()=>{zL(t,e,n)},1)}class Woe extends Rr{constructor(e,n,r=512,i=512){super(),this.width=r,this.height=i,this.clear=!0,this.camera=n,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new et(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0,colorMultiply:!0},{set:(s,o,a)=>{const l=s[o];return s[o]=a,o==="aoSamples"&&l!==a&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&l!==a&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&l!==a&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&l!==a&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),o==="gammaCorrection"&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.copyQuad=new jd(new Ht({uniforms:{tDiffuse:{value:null}},depthWrite:!1,vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = vec4(position, 1);
            }
            `,fragmentShader:`
            uniform sampler2D tDiffuse;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(tDiffuse, vUv);
            }
            `})),this.writeTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.readTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.outputTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.bluenoise=new qo(Voe,128,128),this.bluenoise.colorSpace=eB,this.bluenoise.wrapS=xi,this.bluenoise.wrapT=xi,this.bluenoise.minFilter=Nt,this.bluenoise.magFilter=Nt,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this.needsSwap=!0,this._r=new ve,this._c=new et}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new Qx(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=F0,this.depthDownsampleTarget.texture[0].type=Pn,this.depthDownsampleTarget.texture[0].minFilter=Nt,this.depthDownsampleTarget.texture[0].magFilter=Nt,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=zn,this.depthDownsampleTarget.texture[1].type=Xn,this.depthDownsampleTarget.texture[1].minFilter=Nt,this.depthDownsampleTarget.texture[1].magFilter=Nt,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new jd(new Ht(Hoe))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const n={...Ooe};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new Ht(n)):this.effectShaderQuad=new jd(new Ht(n))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const n={...Goe};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new Ht(n)):this.poissonBlurQuad=new jd(new Ht(n))}configureEffectCompositer(e=!1){const n={...zoe};e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new Ht(n)):this.effectCompositerQuad=new jd(new Ht(n))}generateHemisphereSamples(e){const n=[];for(let r=0;r<e;r++){const i=2.399963*r,s=Math.sqrt(r+.5)/Math.sqrt(e),o=s*Math.cos(i),a=s*Math.sin(i),l=Math.sqrt(1-(o*o+a*a));n.push(new J(o,a,l))}return n}generateHemisphereSamplesR(e){let n=[];for(let r=0;r<e;r++)n.push((r+1)/e);return n}generateDenoiseSamples(e,n){const r=2*Math.PI*n/e,i=1/e,s=i,o=[];let a=i,l=0;for(let u=0;u<e;u++)o.push(new ve(Math.cos(l),Math.sin(l)).multiplyScalar(Math.pow(a,.75))),a+=s,l+=r;return o}setSize(e,n){this.width=e,this.height=n;const r=this.configuration.halfRes?.5:1;this.writeTargetInternal.setSize(e*r,n*r),this.readTargetInternal.setSize(e*r,n*r),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*r,n*r),this.outputTargetInternal.setSize(e,n)}setDepthTexture(e){this.depthTexture=e}render(e,n,r){const i=e.xr.enabled;e.xr.enabled=!1,e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)),n.texture.type!==this.outputTargetInternal.texture.type&&(this.outputTargetInternal.texture.type=n.texture.type,this.outputTargetInternal.texture.needsUpdate=!0);let s,o,a;this.debugMode&&(s=e.getContext(),o=s.getExtension("EXT_disjoint_timer_query_webgl2"),o===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(a=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,a)),this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let l=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(l*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new J),this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=l,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let u=0;u<this.configuration.denoiseIterations;u++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new J),this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=l,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=u,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=l,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),this.effectCompositerQuad.material.uniforms.colorMultiply.value=this.configuration.colorMultiply,this.effectCompositerQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new J),this.effectCompositerQuad.material.uniforms.fog.value=!!this.scene.fog,this.scene.fog&&(this.scene.fog.isFog?(this.effectCompositerQuad.material.uniforms.fogExp.value=!1,this.effectCompositerQuad.material.uniforms.fogNear.value=this.scene.fog.near,this.effectCompositerQuad.material.uniforms.fogFar.value=this.scene.fog.far):this.scene.fog.isFogExp2?(this.effectCompositerQuad.material.uniforms.fogExp.value=!0,this.effectCompositerQuad.material.uniforms.fogDensity.value=this.scene.fog.density):console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`)),e.setRenderTarget(this.outputTargetInternal),this.effectCompositerQuad.render(e),e.setRenderTarget(this.renderToScreen?null:r),this.copyQuad.material.uniforms.tDiffuse.value=this.outputTargetInternal.texture,this.copyQuad.render(e),this.debugMode&&(s.endQuery(o.TIME_ELAPSED_EXT),zL(a,s,this)),e.xr.enabled=i}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(OL),t=>t.charCodeAt(0));z.forwardRef(({halfRes:t,screenSpaceRadius:e,quality:n,depthAwareUpsampling:r=!0,aoRadius:i=5,aoSamples:s=16,denoiseSamples:o=4,denoiseRadius:a=12,distanceFalloff:l=1,intensity:u=1,color:c,renderMode:f=0},d)=>{const{camera:m,scene:g}=en(),v=z.useMemo(()=>new Woe(g,m),[]);return z.useLayoutEffect(()=>{Ml(v.configuration,{color:c,aoRadius:i,distanceFalloff:l,intensity:u,aoSamples:s,denoiseSamples:o,denoiseRadius:a,screenSpaceRadius:e,renderMode:f,halfRes:t,depthAwareUpsampling:r})},[e,c,i,l,u,s,o,a,f,t,r]),z.useLayoutEffect(()=>{n&&v.setQualityMode(n.charAt(0).toUpperCase()+n.slice(1))},[n]),Oe("primitive",{ref:d,object:v})});const joe=()=>{const t=z.useMemo(()=>new G0(0,0,3,1.15,0,2*Math.PI,!1,0).getPoints(100),[]);return hn("group",{children:[Oe(c4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3}),Oe(c4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,1]}),Oe(c4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,-1]}),Oe(vL,{args:[.55,64,64],children:Oe("meshBasicMaterial",{color:[6,.5,2],toneMapped:!1})})]})},Xoe=()=>hn(Qf,{children:[Oe(joe,{}),Oe(Qse,{children:Oe(roe,{mipmapBlur:!0,luminanceThreshold:1,radius:.7})})]}),Joe=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,Yoe=()=>hn(Qf,{children:[Oe(e3,{camera:{position:[0,0,10]},children:hn(z.Suspense,{fallback:null,children:[Oe(Xoe,{}),Oe(o3,{enableZoom:!1,autoRotate:!0})]})}),Oe(Joe,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]});function Koe({color:t,...e}){const{nodes:n,materials:r}=zh("/shoe.gltf");return hn("group",{...e,dispose:null,children:[Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe.geometry,material:r.laces,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_1.geometry,children:Oe("meshStandardMaterial",{color:"purple",aoMap:r.mesh.aoMap,normalMap:r.mesh.normalMap,"normalMap-encoding":To,roughnessMap:r.mesh.roughnessMap,metalnessMap:r.mesh.metalnessMap,envMapIntensity:.8})}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_2.geometry,material:r.caps,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_3.geometry,material:r.inner,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_4.geometry,material:r.sole,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_5.geometry,material:r.stripes,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_6.geometry,material:r.band,"material-envMapIntensity":.8}),Oe("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_7.geometry,material:r.patch,"material-envMapIntensity":.8})]})}zh.preload("/shoe.gltf");const Zoe=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  bottom: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,Qoe=()=>hn(Qf,{children:[Oe(e3,{children:hn(z.Suspense,{fallback:null,children:[Oe(_L,{environment:"city",intensity:.6,children:Oe(Koe,{})}),Oe(o3,{enableZoom:!1,autoRotate:!0})]})}),Oe(Zoe,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]});function qoe({...t}){const e=z.useRef(),{nodes:n,materials:r}=zh("/mac-draco.glb");return Oe("group",{ref:e,...t,dispose:null,children:hn("group",{position:[0,2.96,-.13],rotation:[Math.PI/2,0,0],children:[Oe("mesh",{material:r.aluminium,geometry:n.Cube008.geometry}),Oe("mesh",{material:r["matte.001"],geometry:n.Cube008_1.geometry}),Oe("mesh",{material:r["screen.001"],geometry:n.Cube008_2.geometry})]})})}const $oe=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 100px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,eae=()=>hn(Qf,{children:[Oe(e3,{children:hn(z.Suspense,{fallback:null,children:[Oe(_L,{environment:"city",intensity:.6,children:Oe(qoe,{})}),Oe(o3,{enableZoom:!1,autoRotate:!0})]})}),Oe($oe,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]}),tae=["Web Design","Development","Illustration","Product Design","Social Media"],nae=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  justify-content: center;
  position: relative;
  color: black;
  font-size: 14px;
  font-weight: 300;
`,rae=Ft.div`
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
  }
`,iae=Ft.div`
  flex: 1;
  display: flex;
  align-items: center;

  @media only screen and (max-width: 768px) {
    padding: 20px;
    justify-content: center;
  }
`,sae=Ft.ul`
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 20px;
`,oae=Ft.li`
  font-size: 90px;
  font-weight: bold;
  cursor: pointer;
  color: transparent;
  -webkit-text-stroke: 1px white;
  position: relative;

  @media only screen and (max-width: 768px) {
    font-size: 24px;
    color: white;
    -webkit-text-stroke: 0px;
  }

  ::after {
    content: "${t=>t.text}";
    position: absolute;
    top: 0;
    left: 0;
    color: pink;
    width: 0px;
    overflow: hidden;
    white-space: nowrap;
  }

  &:hover {
    ::after {
      animation: moveText 0.5s linear both;

      @keyframes moveText {
        to {
          width: 100%;
        }
      }
    }
  }
`,aae=Ft.div`
  flex: 1;
`,lae=()=>{const[t,e]=z.useState("Web Design");return Oe(nae,{children:hn(rae,{children:[Oe(iae,{children:Oe(sae,{children:tae.map(n=>Oe(oae,{text:n,onClick:()=>e(n),children:n},n))})}),Oe(aae,{children:t==="Web Design"?Oe(eae,{}):t==="Development"?Oe(Yoe,{}):Oe(Qoe,{})})]})})},uae=Ft.div`
  height: 100vh;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  overflow-y: auto;
  scrollbar-width: none;
  color: white;
  background: url("./");
  &::-webkit-scrollbar {
    display: none;
  }
`;function cae(){return hn(uae,{children:[Oe(lre,{}),Oe(Sre,{}),Oe(lae,{}),Oe(CW,{})]})}S4.createRoot(document.getElementById("root")).render(Oe(Rn.StrictMode,{children:Oe(cae,{})}));
